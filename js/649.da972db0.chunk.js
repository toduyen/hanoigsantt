(self.webpackChunkcomit_admin=self.webpackChunkcomit_admin||[]).push([[649],{6741:function(e,t){"use strict";t.Z={values:{xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}}},5632:function(e,t){"use strict";t.Z={background:{default:"#f0f2f5"},text:{main:"#7b809a",focus:"#7b809a"},transparent:{main:"transparent"},white:{main:"#ffffff",focus:"#ffffff"},black:{light:"#000000",main:"#000000",focus:"#000000"},primary:{main:"#e91e63",focus:"#e91e63"},secondary:{main:"#7b809a",focus:"#8f93a9"},info:{main:"#1A73E8",focus:"#1662C4"},success:{main:"#4CAF50",focus:"#67bb6a"},warning:{main:"#fb8c00",focus:"#fc9d26"},error:{main:"#F44335",focus:"#f65f53"},light:{main:"#f0f2f5",focus:"#f0f2f5"},dark:{main:"#344767",focus:"#2c3c58"},grey:{100:"#f8f9fa",200:"#f0f2f5",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#6c757d",700:"#495057",800:"#343a40",900:"#212529"},gradients:{primary:{main:"#EC407A",state:"#D81B60"},secondary:{main:"#747b8a",state:"#495361"},info:{main:"#49a3f1",state:"#1A73E8"},success:{main:"#66BB6A",state:"#43A047"},warning:{main:"#FFA726",state:"#FB8C00"},error:{main:"#EF5350",state:"#E53935"},light:{main:"#EBEFF4",state:"#CED4DA"},dark:{main:"#42424a",state:"#191919"}},socialMediaColors:{facebook:{main:"#3b5998",dark:"#344e86"},twitter:{main:"#55acee",dark:"#3ea1ec"},instagram:{main:"#125688",dark:"#0e456d"},linkedin:{main:"#0077b5",dark:"#00669c"},pinterest:{main:"#cc2127",dark:"#b21d22"},youtube:{main:"#e52d27",dark:"#d41f1a"},vimeo:{main:"#1ab7ea",dark:"#13a3d2"},slack:{main:"#3aaf85",dark:"#329874"},dribbble:{main:"#ea4c89",dark:"#e73177"},github:{main:"#24292e",dark:"#171a1d"},reddit:{main:"#ff4500",dark:"#e03d00"},tumblr:{main:"#35465c",dark:"#2a3749"}},badgeColors:{primary:{background:"#f8b3ca",text:"#cc084b"},secondary:{background:"#d7d9e1",text:"#6c757d"},info:{background:"#aecef7",text:"#095bc6"},success:{background:"#bce2be",text:"#339537"},warning:{background:"#ffd59f",text:"#c87000"},error:{background:"#fcd3d0",text:"#f61200"},light:{background:"#ffffff",text:"#c7d3de"},dark:{background:"#8097bf",text:"#1e2e4a"}},coloredShadows:{primary:"#e91e62",secondary:"#110e0e",info:"#00bbd4",success:"#4caf4f",warning:"#ff9900",error:"#f44336",light:"#adb5bd",dark:"#404040"},inputBorderColor:"#d2d6da",tabs:{indicator:{boxShadow:"#ddd"}}}},2740:function(e,t,n){"use strict";var r=n(4942),a=n(5632),o=n(8391);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=a.Z.dark,u={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeightLighter:100,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:600,fontWeightBold:700,fontSizeXXS:(0,o.Z)(10.4),fontSizeXS:(0,o.Z)(12),fontSizeSM:(0,o.Z)(14),fontSizeMD:(0,o.Z)(16),fontSizeLG:(0,o.Z)(18),fontSizeXL:(0,o.Z)(20),fontSize2XL:(0,o.Z)(24),fontSize3XL:(0,o.Z)(30)},s={fontFamily:u.fontFamily,color:l.main,fontWeight:u.fontWeightBold},m={fontFamily:u.fontFamily,color:l.main,fontWeight:u.fontWeightLight,lineHeight:1.2},d={fontFamily:u.fontFamily,fontWeightLighter:u.fontWeightLighter,fontWeightLight:u.fontWeightLight,fontWeightRegular:u.fontWeightRegular,fontWeightMedium:u.fontWeightMedium,fontWeightBold:u.fontWeightBold,h1:c({fontSize:(0,o.Z)(48),lineHeight:1.25},s),h2:c({fontSize:(0,o.Z)(36),lineHeight:1.3},s),h3:c({fontSize:(0,o.Z)(30),lineHeight:1.375},s),h4:c({fontSize:(0,o.Z)(24),lineHeight:1.375},s),h5:c({fontSize:(0,o.Z)(20),lineHeight:1.375},s),h6:c({fontSize:(0,o.Z)(16),lineHeight:1.625},s),subtitle1:{fontFamily:u.fontFamily,fontSize:u.fontSizeXL,fontWeight:u.fontWeightLight,lineHeight:1.625},subtitle2:{fontFamily:u.fontFamily,fontSize:u.fontSizeMD,fontWeight:u.fontWeightLight,lineHeight:1.6},body1:{fontFamily:u.fontFamily,fontSize:u.fontSizeXL,fontWeight:u.fontWeightRegular,lineHeight:1.625},body2:{fontFamily:u.fontFamily,fontSize:u.fontSizeMD,fontWeight:u.fontWeightLight,lineHeight:1.6},button:{fontFamily:u.fontFamily,fontSize:u.fontSizeSM,fontWeight:u.fontWeightLight,lineHeight:1.5,textTransform:"uppercase"},caption:{fontFamily:u.fontFamily,fontSize:u.fontSizeXS,fontWeight:u.fontWeightLight,lineHeight:1.25},overline:{fontFamily:u.fontFamily},d1:c({fontSize:(0,o.Z)(80)},m),d2:c({fontSize:(0,o.Z)(72)},m),d3:c({fontSize:(0,o.Z)(64)},m),d4:c({fontSize:(0,o.Z)(56)},m),d5:c({fontSize:(0,o.Z)(48)},m),d6:c({fontSize:(0,o.Z)(40)},m),size:{xxs:u.fontSizeXXS,xs:u.fontSizeXS,sm:u.fontSizeSM,md:u.fontSizeMD,lg:u.fontSizeLG,xl:u.fontSizeXL,"2xl":u.fontSize2XL,"3xl":u.fontSize3XL},lineHeight:{sm:1.25,md:1.5,lg:2}};t.Z=d},8391:function(e,t){"use strict";t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return"".concat(e/t,"rem")}},5641:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),a=n(5987),o=n(7294),i=n(5697),c=n.n(i),l=n(4942),u=n(7109);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=(0,n(9602).ZP)(u.Z)((function(e){var t,n=e.theme,r=e.ownerState,a=n.palette,o=n.functions,i=n.typography,c=n.boxShadows,u=r.shadow,m=r.bgColor,d=r.size,f=a.gradients,p=a.transparent,h=a.white,g=o.pxToRem,b=o.linearGradient,v=i.size,y=i.fontWeightRegular,E="transparent"===m?p.main:b(f[m].main,f[m].state);switch(d){case"xs":t={width:g(24),height:g(24),fontSize:v.xs};break;case"sm":t={width:g(36),height:g(36),fontSize:v.sm};break;case"lg":t={width:g(58),height:g(58),fontSize:v.sm};break;case"xl":t={width:g(74),height:g(74),fontSize:v.md};break;case"xxl":t={width:g(110),height:g(110),fontSize:v.md};break;default:t={width:g(48),height:g(48),fontSize:v.md}}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({background:E,color:h.main,fontWeight:y,boxShadow:c[u]},t)})),d=["bgColor","size","shadow"],f=(0,o.forwardRef)((function(e,t){var n=e.bgColor,i=e.size,c=e.shadow,l=(0,a.Z)(e,d);return o.createElement(m,(0,r.Z)({ref:t,ownerState:{shadow:c,bgColor:n,size:i}},l))}));f.defaultProps={bgColor:"transparent",size:"md",shadow:"none"},f.propTypes={bgColor:c().oneOf(["transparent","primary","secondary","info","success","warning","error","light","dark"]),size:c().oneOf(["xs","sm","md","lg","xl","xxl"]),shadow:c().oneOf(["none","xs","sm","md","lg","xl","xxl","inset"])};var p=f},9379:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462),a=n(5987),o=n(7294),i=n(5697),c=n.n(i),l=n(1508),u=(0,n(9602).ZP)(l.Z)((function(e){var t=e.theme,n=e.ownerState,r=t.palette,a=t.functions,o=t.borders,i=t.boxShadows,c=n.variant,l=n.bgColor,u=n.color,s=n.opacity,m=n.borderRadius,d=n.shadow,f=n.coloredShadow,p=r.gradients,h=r.grey,g=r.white,b=a.linearGradient,v=o.borderRadius,y=i.colored,E={"grey-100":h[100],"grey-200":h[200],"grey-300":h[300],"grey-400":h[400],"grey-500":h[500],"grey-600":h[600],"grey-700":h[700],"grey-800":h[800],"grey-900":h[900]},Z=["transparent","white","black","primary","secondary","info","success","warning","error","light","dark","text","grey-100","grey-200","grey-300","grey-400","grey-500","grey-600","grey-700","grey-800","grey-900"],x=l;x="gradient"===c?["primary","secondary","info","success","warning","error","dark","light"].find((function(e){return e===l}))?b(p[l].main,p[l].state):g.main:Z.find((function(e){return e===l}))?r[l]?r[l].main:E[l]:l;var S=u;Z.find((function(e){return e===u}))&&(S=r[u]?r[u].main:E[u]);var k=m;["xs","sm","md","lg","xl","xxl","section"].find((function(e){return e===m}))&&(k=v[m]);var C="none";return["xs","sm","md","lg","xl","xxl","inset"].find((function(e){return e===d}))?C=i[d]:f&&(C=y[f]?y[f]:"none"),{opacity:s,background:x,color:S,borderRadius:k,boxShadow:C}})),s=["variant","bgColor","color","opacity","borderRadius","shadow","coloredShadow"],m=(0,o.forwardRef)((function(e,t){var n=e.variant,i=e.bgColor,c=e.color,l=e.opacity,m=e.borderRadius,d=e.shadow,f=e.coloredShadow,p=(0,a.Z)(e,s);return o.createElement(u,(0,r.Z)({},p,{ref:t,ownerState:{variant:n,bgColor:i,color:c,opacity:l,borderRadius:m,shadow:d,coloredShadow:f}}))}));m.defaultProps={variant:"contained",bgColor:"transparent",color:"dark",opacity:1,borderRadius:"none",shadow:"none",coloredShadow:"none"},m.propTypes={variant:c().oneOf(["contained","gradient"]),bgColor:c().string,color:c().string,opacity:c().number,borderRadius:c().string,shadow:c().string,coloredShadow:c().oneOf(["primary","secondary","info","success","warning","error","light","dark","none"])};var d=m},4675:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(7462),a=n(885),o=n(5987),i=n(7294),c=n(5697),l=n.n(c),u=n(4942),s=n(6914);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,n(9602).ZP)(s.Z)((function(e){var t,n,r,a,o=e.theme,i=e.ownerState,c=o.palette,l=o.functions,u=o.borders,s=o.boxShadows,m=i.color,f=i.variant,p=i.size,h=i.circular,g=i.iconOnly,b=i.darkMode,v=c.white,y=c.text,E=c.transparent,Z=c.gradients,x=c.grey,S=l.boxShadow,k=l.linearGradient,C=l.pxToRem,w=l.rgba,O=u.borderRadius,P=s.colored;return d(d(d(d(d(d({},"contained"===f&&function(){var e=c[m]?c[m].main:v.main,t=c[m]?c[m].focus:v.focus,n=P[m]?"".concat(S([0,3],[3,0],c[m].main,.15),", ").concat(S([0,3],[1,-2],c[m].main,.2),", ").concat(S([0,1],[5,0],c[m].main,.15)):"none",r=P[m]?"".concat(S([0,14],[26,-12],c[m].main,.4),", ").concat(S([0,4],[23,0],c[m].main,.15),", ").concat(S([0,8],[10,-5],c[m].main,.2)):"none",a=v.main;b||"white"!==m&&"light"!==m&&c[m]?!b||"white"!==m&&"light"!==m&&c[m]||(a=x[600]):a=y.main;var o=v.main;return"white"===m?o=y.main:"primary"!==m&&"error"!==m&&"dark"!==m||(o=v.main),{background:e,color:a,boxShadow:n,"&:hover":{backgroundColor:e,boxShadow:r},"&:focus:not(:hover)":{backgroundColor:t,boxShadow:c[m]?S([0,0],[0,3.2],c[m].main,.5):S([0,0],[0,3.2],v.main,.5)},"&:disabled":{backgroundColor:e,color:o}}}()),"outlined"===f&&(t="white"===m?w(v.main,.1):E.main,n=c[m]?c[m].main:v.main,r=c[m]?S([0,0],[0,3.2],c[m].main,.5):S([0,0],[0,3.2],v.main,.5),a=c[m]?c[m].main:w(v.main,.75),"white"===m&&(a=w(v.main,.75)),{background:t,color:n,borderColor:a,"&:hover":{background:E.main,borderColor:n},"&:focus:not(:hover)":{background:E.main,boxShadow:r},"&:active:not(:hover)":{backgroundColor:n,color:v.main,opacity:.85},"&:disabled":{color:n,borderColor:n}})),"gradient"===f&&function(){var e="white"!==m&&Z[m]?k(Z[m].main,Z[m].state):v.main,t=P[m]?"".concat(S([0,3],[3,0],c[m].main,.15),", ").concat(S([0,3],[1,-2],c[m].main,.2),", ").concat(S([0,1],[5,0],c[m].main,.15)):"none",n=P[m]?"".concat(S([0,14],[26,-12],c[m].main,.4),", ").concat(S([0,4],[23,0],c[m].main,.15),", ").concat(S([0,8],[10,-5],c[m].main,.2)):"none",r=v.main;return"white"===m?r=y.main:"light"===m&&(r=Z.dark.state),{background:e,color:r,boxShadow:t,"&:hover":{boxShadow:n},"&:focus:not(:hover)":{boxShadow:t},"&:disabled":{background:e,color:r}}}()),"text"===f&&function(){var e=c[m]?c[m].main:v.main,t=c[m]?c[m].focus:v.focus;return{color:e,"&:hover":{color:t},"&:focus:not(:hover)":{color:t}}}()),h&&{borderRadius:O.section}),g&&function(){var e=C(38);"small"===p?e=C(25.4):"large"===p&&(e=C(52));var t="".concat(C(11)," ").concat(C(11)," ").concat(C(10));return"small"===p?t=C(4.5):"large"===p&&(t=C(16)),{width:e,minWidth:e,height:e,minHeight:e,padding:t,"& .material-icons":{marginTop:0},"&:hover, &:focus, &:active":{transform:"none"}}}())})),p=n(4218),h=["color","variant","size","circular","iconOnly","children"],g=(0,i.forwardRef)((function(e,t){var n=e.color,c=e.variant,l=e.size,u=e.circular,s=e.iconOnly,m=e.children,d=(0,o.Z)(e,h),g=(0,p.Ad)(),b=(0,a.Z)(g,1)[0].darkMode;return i.createElement(f,(0,r.Z)({},d,{ref:t,color:"primary",variant:"gradient"===c?"contained":c,size:l,ownerState:{color:n,variant:c,size:l,circular:u,iconOnly:s,darkMode:b}}),m)}));g.defaultProps={size:"medium",variant:"contained",color:"white",circular:!1,iconOnly:!1},g.propTypes={size:l().oneOf(["small","medium","large"]),variant:l().oneOf(["text","contained","outlined","gradient"]),color:l().oneOf(["white","primary","secondary","info","success","warning","error","light","dark"]),circular:l().bool,iconOnly:l().bool,children:l().node.isRequired};var b=g},9633:function(e,t,n){"use strict";var r=n(7462),a=n(7294),o=n(463),i=n(9379);t.Z=function(e){var t=e.children,n=e.handleOnAbort,c=e.handleOnError,l=e.handleOnLoad,u=(0,a.useCallback)((function(e){e.forEach((function(e){var t=new FileReader;t.onabort=function(){return n()},t.onerror=function(){return c()},t.onload=function(){var n=t.result;l(e,n)},t.readAsDataURL(e)}))}),[]),s=(0,o.uI)({onDrop:u,multiple:!1}),m=s.getRootProps,d=s.getInputProps;return a.createElement(i.Z,(0,r.Z)({},m(),{width:"fit-content"}),a.createElement("input",d()),t)}},9792:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7462),a=n(5987),o=n(7294),i=n(5697),c=n.n(i),l=n(4942),u=n(6358);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,n(9602).ZP)(u.Z)((function(e){var t=e.theme,n=e.ownerState,r=t.palette,a=t.functions,o=n.error,i=n.success,c=n.disabled,l=r.grey,u=r.transparent,s=r.error,d=r.success,f=a.pxToRem;return m(m({backgroundColor:c?"".concat(l[200]," !important"):u.main,pointerEvents:c?"none":"auto"},o&&{backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23F44335' viewBox='0 0 12 12'%3E%3Ccircle cx='6' cy='6' r='4.5'/%3E%3Cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3E%3Ccircle cx='6' cy='8.2' r='.6' fill='%23F44335' stroke='none'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right ".concat(f(12)," center"),backgroundSize:"".concat(f(16)," ").concat(f(16)),"& .Mui-focused":{"& .MuiOutlinedInput-notchedOutline, &:after":{borderColor:s.main}},"& .MuiInputLabel-root.Mui-focused":{color:s.main}}),i&&{backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 8'%3E%3Cpath fill='%234CAF50' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right ".concat(f(12)," center"),backgroundSize:"".concat(f(16)," ").concat(f(16)),"& .Mui-focused":{"& .MuiOutlinedInput-notchedOutline, &:after":{borderColor:d.main}},"& .MuiInputLabel-root.Mui-focused":{color:d.main}})})),f=["error","success","disabled"],p=(0,o.forwardRef)((function(e,t){var n=e.error,i=e.success,c=e.disabled,l=(0,a.Z)(e,f);return o.createElement(d,(0,r.Z)({},l,{ref:t,ownerState:{error:n,success:i,disabled:c}}))}));p.defaultProps={error:!1,success:!1,disabled:!1},p.propTypes={error:c().bool,success:c().bool,disabled:c().bool};var h=p},6334:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(7462),a=n(885),o=n(5987),i=n(7294),c=n(5697),l=n.n(c),u=n(4942),s=n(2658);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d=(0,n(9602).ZP)(s.Z)((function(e){var t=e.theme,n=e.ownerState,r=t.palette,a=t.typography,o=t.functions,i=n.color,c=n.textTransform,l=n.verticalAlign,s=n.fontWeight,d=n.opacity,f=n.textGradient,p=n.darkMode,h=r.gradients,g=r.transparent,b=r.white,v=a.fontWeightLight,y=a.fontWeightRegular,E=a.fontWeightMedium,Z=a.fontWeightBold,x=o.linearGradient,S={light:v,regular:y,medium:E,bold:Z},k="inherit"!==i&&r[i]?r[i].main:"inherit";return!p||"inherit"!==i&&r[i]?p&&"dark"===i&&(k=b.main):k="inherit",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({opacity:d,textTransform:c,verticalAlign:l,textDecoration:"none",color:k,fontWeight:S[s]&&S[s]},f&&{backgroundImage:"inherit"!==i&&"text"!==i&&"white"!==i&&h[i]?x(h[i].main,h[i].state):x(h.dark.main,h.dark.state),display:"inline-block",WebkitBackgroundClip:"text",WebkitTextFillColor:g.main,position:"relative",zIndex:1})})),f=n(4218),p=["color","fontWeight","textTransform","verticalAlign","textGradient","opacity","children"],h=(0,i.forwardRef)((function(e,t){var n=e.color,c=e.fontWeight,l=e.textTransform,u=e.verticalAlign,s=e.textGradient,m=e.opacity,h=e.children,g=(0,o.Z)(e,p),b=(0,f.Ad)(),v=(0,a.Z)(b,1)[0].darkMode;return i.createElement(d,(0,r.Z)({},g,{ref:t,ownerState:{color:n,textTransform:l,verticalAlign:u,fontWeight:c,opacity:m,textGradient:s,darkMode:v}}),h)}));h.defaultProps={color:"dark",fontWeight:!1,textTransform:"none",verticalAlign:"unset",textGradient:!1,opacity:1},h.propTypes={color:l().oneOf(["inherit","primary","secondary","info","success","warning","error","light","dark","text","white"]),fontWeight:l().oneOf([!1,"light","regular","medium","bold"]),textTransform:l().oneOf(["none","capitalize","uppercase","lowercase"]),verticalAlign:l().oneOf(["unset","baseline","sub","super","text-top","text-bottom","middle","top","bottom"]),textGradient:l().bool,children:l().node.isRequired,opacity:l().number};var g=h},2077:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),a=n(9379);function o(e){var t=e.image,n=e.width;return r.createElement(a.Z,{position:"relative",borderRadius:"lg",mt:-3,mx:"".concat((100-n)/2,"%"),width:"".concat(n,"%"),style:{aspectRatio:"1"}},r.createElement(a.Z,{component:"img",src:t,alt:"",borderRadius:"lg",shadow:"md",width:"100%",height:"100%",position:"relative",zIndex:1}),r.createElement(a.Z,{borderRadius:"lg",shadow:"md",width:"100%",height:"100%",position:"absolute",left:0,top:"3%",sx:{backgroundImage:"url(".concat(t,")"),transform:"scale(0.94)",filter:"blur(12px)",backgroundSize:"cover"}}))}},9928:function(e,t,n){"use strict";var r=n(5295),a=n(9379),o=n(2077),i=n(7294);t.Z=function(e){var t=e.image,n=e.image2,c=e.title,l=e.description,u=e.handleClick,s=e.customeStyle,m=e.imageWidth,d=e.children;return i.createElement(r.Z,{onClick:u,style:s},i.createElement(a.Z,{display:"flex",justifyContent:"center"},i.createElement(o.Z,{image:t,width:n?90:m||40}),n&&i.createElement(o.Z,{image:n,width:90})),i.createElement(a.Z,{px:3,py:1.5},i.createElement(a.Z,{display:"inline",textTransform:"capitalize",fontWeight:"bold"},c),i.createElement(a.Z,{mt:.5},i.createElement(a.Z,{color:"text"},l)),d))}},5167:function(e,t,n){"use strict";n.d(t,{Z:function(){return fe}});var r=n(4942),a=n(885),o=n(7294),i=n(6974),c=n(5697),l=n.n(c),u=n(9379),s=n(4218),m=n(8042),d=n(3720),f=n(4386),p=n(6867),h=n(2895),g=n(9792),b=n(9711),v=n(2070),y=n(6334);function E(e){var t=e.icon,n=e.title,r=e.route,a=e.light,i=void 0!==a&&a;r.slice(0,-1);return o.createElement(u.Z,{mr:{xs:0,xl:8}},o.createElement(v.Z,{sx:{"& .MuiBreadcrumbs-separator":{color:function(e){var t=e.palette,n=t.white,r=t.grey;return i?n.main:r[600]}}}},o.createElement(b.rU,{to:"/"},o.createElement(y.Z,{component:"span",variant:"body2",color:i?"white":"dark",opacity:i?.8:.5,sx:{lineHeight:0}},o.createElement(h.Z,null,t))),o.createElement(y.Z,{variant:"button",fontWeight:"regular",color:i?"white":"dark",sx:{lineHeight:0}},n.replace("-"," "))),o.createElement(y.Z,{fontWeight:"bold",variant:"h6",color:i?"white":"dark",noWrap:!0},n.replace("-"," ")))}E.defaultProps={light:!1},E.propTypes={icon:l().node.isRequired,title:l().string.isRequired,route:l().oneOfType([l().string,l().array]).isRequired,light:l().bool};var Z=E;var x=function(e,t){var n,a=e.breakpoints,o=t.isMini;return n={display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},(0,r.Z)(n,a.up("md"),{justifyContent:o?"space-between":"stretch",width:o?"100%":"max-content"}),(0,r.Z)(n,a.up("xl"),{justifyContent:"stretch !important",width:"max-content !important"}),n},S=function(e){var t=e.typography.size,n=e.breakpoints;return{px:1,"& .material-icons, .material-icons-round":{fontSize:"".concat(t.xl," !important")},"& .MuiTypography-root":(0,r.Z)({display:"none"},n.up("sm"),{display:"inline-block",lineHeight:1.2,ml:.5})}},k=function(e){var t=e.breakpoints;return(0,r.Z)({display:"inline-block",lineHeight:0},t.up("xl"),{display:"none"})},C=n(878),w=n(7831);function O(e){var t=e.absolute,n=e.light,c=e.isMini,l=(0,o.useState)(),b=(0,a.Z)(l,2),v=b[0],y=b[1],E=(0,s.Ad)(),O=(0,a.Z)(E,2),P=O[0],T=O[1],_=(0,m.b3)(),z=(0,a.Z)(_,1)[0],j=P.miniSidenav,A=P.transparentNavbar,R=P.fixedNavbar,I=P.darkMode,D=(0,i.TH)().pathname.split("/").slice(1),N=(0,C.$)((0,i.TH)().pathname),M=(0,o.useState)(),L=(0,a.Z)(M,2),H=(L[0],L[1]);(0,o.useEffect)((function(){null!=z.currentUser&&H(z.currentUser)}),[z]),(0,o.useEffect)((function(){function e(){(0,s.T4)(T,R&&0===window.scrollY||!R)}return y(R?"sticky":"static"),window.addEventListener("scroll",e),e(),function(){return window.removeEventListener("scroll",e)}}),[T,R]);var U=function(e){var t=e.palette,r=t.dark,a=t.white,o=t.text,i=e.functions.rgba;return{color:function(){var e=n||I?a.main:r.main;return A&&!n&&(e=I?i(o.main,.6):o.main),e}}};return o.createElement(d.Z,{position:t?"absolute":v,color:"inherit",sx:function(e){return function(e,t){var n=e.palette,a=e.boxShadows,o=e.functions,i=e.transitions,c=e.breakpoints,l=e.borders,u=t.transparentNavbar,s=t.absolute,m=t.light,d=t.darkMode,f=n.dark,p=n.white,h=n.text,g=n.transparent,b=n.background,v=a.navbarBoxShadow,y=o.rgba,E=o.pxToRem,Z=l.borderRadius;return{boxShadow:u||s?"none":v,backdropFilter:u||s?"none":"saturate(200%) blur(".concat(E(30),")"),backgroundColor:u||s?"".concat(g.main," !important"):y(d?b.default:p.main,.8),color:function(){return m?p.main:u?h.main:f.main},top:s?0:E(12),minHeight:E(75),display:"grid",alignItems:"center",borderRadius:Z.xl,paddingTop:E(8),paddingBottom:E(8),paddingRight:s?E(8):0,paddingLeft:s?E(16):0,"& > *":{transition:i.create("all",{easing:i.easing.easeInOut,duration:i.duration.standard})},"& .MuiToolbar-root":(0,r.Z)({display:"flex",justifyContent:"space-between",alignItems:"center"},c.up("sm"),{minHeight:"auto",padding:"".concat(E(4)," ").concat(E(16))})}}(e,{transparentNavbar:A,absolute:t,light:n,darkMode:I})}},o.createElement(f.Z,{sx:function(e){return function(e){var t=e.breakpoints;return(0,r.Z)({flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",pt:.5,pb:.5},t.up("md"),{flexDirection:"row",alignItems:"center",paddingTop:"0",paddingBottom:"0"})}(e)}},o.createElement(u.Z,{color:"inherit",mb:{xs:1,md:0},sx:function(e){return x(e,{isMini:c})}},o.createElement(Z,{icon:"home",title:N,route:D,light:n})),c?null:o.createElement(u.Z,{sx:function(e){return x(e,{isMini:c})}},o.createElement(u.Z,{pr:1},o.createElement(g.Z,{label:"Tìm kiếm"})),o.createElement(u.Z,{color:n?"white":"inherit"},o.createElement(p.Z,{size:"small",disableRipple:!0,color:"inherit",sx:k,onClick:function(){return(0,s.en)(T,!j)}},o.createElement(h.Z,{sx:U,fontSize:"medium"},j?"menu_open":"menu")),o.createElement(p.Z,{size:"small",disableRipple:!0,color:"inherit",sx:S,variant:"contained",onClick:function(){}},o.createElement(h.Z,{sx:U},"notifications"))),o.createElement(w.Z,null))))}O.defaultProps={absolute:!1,light:!1,isMini:!1},O.propTypes={absolute:l().bool,light:l().bool,isMini:l().bool};var P=O,T=n(8765),_=n(2295),z=n(6340),j=n(436);var A=function(){var e=(0,o.useState)(!0),t=(0,a.Z)(e,2),n=t[0],r=t[1],i=(0,j.P6)(),c=(0,a.Z)(i,2),l=c[0],u=c[1];return(0,o.useEffect)((function(){l.isAudioOn?r(!0):r(!1)}),[l.isAudioOn]),o.createElement("div",null,o.createElement(T.L,{mainButtonStyles:{backgroundColor:"#1976d2"},style:{top:-20,right:-20},icon:n?o.createElement(z.Z,null):o.createElement(_.Z,null),event:"click",key:-1,alwaysShowTitle:!1,onClick:function(){var e=!n;(0,j.U$)(u,e)},text:n?"Tắt âm thanh":"Bật âm thanh"}))},R=n(9602),I=n(2318),D=n(4675);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=(0,R.ZP)(I.ZP)((function(e){var t=e.theme,n=e.ownerState,r=t.boxShadows,a=t.functions,o=t.transitions,i=n.openConfigurator,c=r.lg,l=a.pxToRem;return{"& .MuiDrawer-paper":M({height:"180px",margin:0,padding:"0 ".concat(l(10)),borderRadius:10,boxShadow:c,overflowY:"auto"},i?{width:420,left:"calc(50vw - ".concat(210,"px)"),right:"calc(50vw - ".concat(210,"px)"),top:"calc(40vh)",bottom:"calc(40vh)",transition:o.create("all",{easing:o.easing.easeOut,duration:o.duration.shortest})}:{left:"initial",right:l(-350),top:l(-350),bottom:"initial",transition:o.create("all",{easing:o.easing.sharp,duration:o.duration.short})})}}));var H=function(e){var t=e.handleConfirm,n=e.handleReject,r=(0,s.Ad)(),i=(0,a.Z)(r,2),c=i[0],l=i[1],m=c.openConfigurator,d=(c.darkMode,function(){return(0,s.yO)(l,!1)});return o.createElement(L,{variant:"permanent",ownerState:{openConfigurator:m}},o.createElement(u.Z,{display:"flex",justifyContent:"space-between",alignItems:"baseline",pt:4,pb:.5,px:3},o.createElement(u.Z,null,o.createElement(y.Z,{variant:"h5"},"Bật âm thanh cảnh báo"),o.createElement(y.Z,{variant:"body2",color:"text",style:{wordWrap:"break-word",whiteSpace:"pre-wrap"}},"Một số KVHC sử dụng âm thanh để cảnh báo"))),o.createElement(u.Z,{mt:3,px:3,mb:1,display:"flex",gap:"10px"},o.createElement(D.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(){t(),d()}},"Xác nhận"),o.createElement(D.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:function(){n(),d()}},"Từ chối")))},U=n(3334),F=n(2862),V=n(2003),W=n(6982),B=n(5840),Q=n(3354),G=n(2603),K=n(5725),q=n(3918),X=n(7794),J=n(5861),Y=n(4687),$=n.n(Y),ee=n(5256),te=n(7608),ne=n(7073),re=n(6564),ae=n(4281),oe=n(9678),ie=n(6839),ce=n(7294);function le(e){var t=e.handleClose,n=(0,o.useState)(""),r=(0,a.Z)(n,2),i=r[0],c=r[1],l=(0,o.useState)(""),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,o.useState)(""),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,ne.xO)(),v=(0,a.Z)(b,2)[1],y=(0,m.b3)(),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,j.P6)(),k=(0,a.Z)(S,1)[0],C=[{data:i,type:"text",label:"Họ và tên *",action:c},{data:s,type:"text",label:"Số điện thoại *",action:d},{data:h,type:"text",label:"Email *",action:g}],w=function(){var e=(0,J.Z)($().mark((function e(){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===i||""===i.trim()?((0,ne.OV)(v,{typeSnackbar:te.QS,messageSnackbar:re.wb}),0):null===s||""===s.trim()?((0,ne.OV)(v,{typeSnackbar:te.QS,messageSnackbar:re.Fs}),0):(0,ae.kj)(s)?null===h||""===h.trim()?((0,ne.OV)(v,{typeSnackbar:te.QS,messageSnackbar:re.QD}),0):(0,ae.vV)(h)||((0,ne.OV)(v,{typeSnackbar:te.QS,messageSnackbar:re.FD}),0):((0,ne.OV)(v,{typeSnackbar:te.QS,messageSnackbar:re.BX}),0))){e.next=5;break}return e.next=3,(0,oe.oB)({token:Z.token,avatar:k.userAttendanceChoosed.image,name:i,phone:s,email:h});case 3:(n=e.sent).data?((0,ne.OV)(v,{typeSnackbar:te.GF,messageSnackbar:te.Pd}),t(),(0,ie.zc)(x,n.data)):(0,ne.OV)(v,{typeSnackbar:te.QS,messageSnackbar:n.messageError});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ce.createElement(ee.Z,{title:"Thêm khách",fields:C,handleAddOrUpdate:w,actionLabel:te.ig,visibleCloseButton:!0,handleClose:function(e){e.stopPropagation(),t()},headChildren:ce.createElement("div",{style:{display:"flex",justifyContent:"center",paddingBottom:"0.8em"}},ce.createElement("img",{src:k.userAttendanceChoosed.image,style:{borderRadius:"50%",width:"25%"}}))})}var ue=n(7294);function se(e){var t,n=e.handleClose,r=e.updateStatusNotificationHistory,i=(0,o.useState)(!1),c=(0,a.Z)(i,2),l=c[0],s=c[1],m=function(){s(!1)},d=(0,j.P6)(),f=(0,a.Z)(d,2),p=f[0],h=f[1];return ue.createElement(ue.Fragment,null,ue.createElement(u.Z,{px:1,width:"100%",height:"100vh",mx:"auto",onClick:function(){n(),(0,j.aR)(h,null)}},ue.createElement(K.ZP,{container:!0,justifyContent:"center",alignItems:"center",height:"100%"},ue.createElement(u.Z,{style:{width:"33%"}},ue.createElement(q.Z,{item:p.userAttendanceChoosed},p.userAttendanceChoosed.isControlled?ue.createElement("div",null):ue.createElement(u.Z,{mt:4,mb:1,display:"flex"},ue.createElement(D.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:function(e){e.stopPropagation(),s(!0)}},"Thêm khách"),ue.createElement(u.Z,{sx:{width:"30px"}}),ue.createElement(D.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation();var t=p.userAttendanceChoosed.notificationHistoryId;r(t),n(),(0,j.aR)(h,null)}},"Đã xử lý")))))),ue.createElement(X.Z,{open:l,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},ue.createElement(ue.Fragment,null,(t=m,ue.createElement(le,{handleClose:t})))))}var me=n(7721);function de(e){var t=e.children,n=(0,s.Ad)(),c=(0,a.Z)(n,2),l=c[0],d=c[1],f=(0,m.b3)(),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,s.Ad)(),v=(0,a.Z)(b,2),y=v[0],E=v[1],Z=l.miniSidenav,x=(0,i.TH)().pathname,S=(0,o.useState)(!1),k=(0,a.Z)(S,2),C=k[0],w=k[1],O=(0,o.useState)(!0),_=(0,a.Z)(O,2),z=_[0],R=_[1],I=(0,o.useState)(!1),D=(0,a.Z)(I,2),N=D[0],M=D[1],L=(0,o.useState)(""),K=(0,a.Z)(L,2),q=K[0],J=K[1],Y=(0,i.TH)(),$=(0,o.useState)(null),ee=(0,a.Z)($,2),ne=ee[0],re=ee[1],ae=(0,i.s0)(),oe=(0,j.P6)(),ie=(0,a.Z)(oe,2),ce=ie[0],le=ie[1],ue=function(){M(!1)};(0,o.useEffect)((function(){(0,s.en)(E,window.innerWidth<1200)}),[y.miniSidenav]),(0,o.useEffect)((function(){null!==ce.isConfirmAudio&&void 0!==ce.isConfirmAudio&&(ce.isConfirmAudio?w(!0):(0,s.yO)(d,!0))}),[ce.isConfirmAudio]),(0,o.useEffect)((function(){(0,s.jx)(d,"dashboard")}),[x]),(0,o.useEffect)((function(){var e=localStorage.getItem("currentUser");e&&(0,m.Vh)(g,JSON.parse(e))}),[]),(0,o.useEffect)((function(){var e=null;if(h.currentUser&&((0,W.hc)(h.currentUser)||(0,W.gL)(h.currentUser))){e=F.CA?new V.Z(F.CA,[],{WebSocket:B.w3cwebsocket,connectionTimeout:1e3,maxRetries:100}):null;var t=h.currentUser.location;e&&(re(e),e.onopen=function(){console.log("WebSocket Area Restriction Connected")},e.onmessage=function(e){if("string"==typeof e.data){var n=JSON.parse(e.data);n.locationId===t.id&&((0,j.mo)(le,n),R(!1),(0,j.VF)(le))}})}return function(){e&&(console.log("WebSocket Area Restriction Disconnect"),e.close())}}),[h.token]);var de=function(){if(h.token){if((0,W.j5)(h.currentUser))return!1;if((0,W.OB)(h.currentUser))return!1;if((0,W.Fk)(h.currentUser))return!1;if((0,W.QM)(h.currentUser))return!1;if((0,W.po)(h.currentUser))return!1;if((0,W.hc)(h.currentUser))return!0;if((0,W.cE)(h.currentUser))return!1;if((0,W.gL)(h.currentUser))return!0}return o.createElement("div",null)};(0,o.useEffect)((function(){null!==ce.userAttendanceChoosed&&(M(!0),J(te.kD))}),[ce.userAttendanceChoosed]);var fe=function(e){(0,j.d_)(le,e),null==ne||ne.send(JSON.stringify({notificationHistoryId:e})),(0,j.VF)(le)};(0,o.useEffect)((function(){var e=setInterval((function(){!function(e){var t=localStorage.getItem(e);if(!t)return null;var n=JSON.parse(t);(new Date).getTime()>n.expiry?(localStorage.clear(),ae(me.vf)):n.value}("timeToLine")}),6e4);return function(){return clearInterval(e)}}),[localStorage.getItem("timeToLine")]);var pe;return o.createElement(u.Z,{sx:function(e){var t=e.breakpoints,n=e.transitions,a=e.functions.pxToRem;return(0,r.Z)({p:3,position:"relative"},t.up("xl"),{marginLeft:a(Z?120:274),transition:n.create(["margin-left","margin-right"],{easing:n.easing.easeInOut,duration:n.duration.standard})})}},o.createElement(P,null),t,C&&de()&&o.createElement(A,null),de()&&o.createElement(H,{handleConfirm:function(){w(!0),(0,j.LK)(le,!0),(0,j.U$)(le,!0)},handleReject:function(){w(!0),(0,j.LK)(le,!0),(0,j.U$)(le,!1)}}),de()&&"/dashboard"!==Y.pathname&&o.createElement(u.Z,{md:3,xl:5,lg:3,style:{width:"25%",position:"fixed",zIndex:5,bottom:0,right:"24px",background:"whitesmoke"}},o.createElement(T.L,{mainButtonStyles:{backgroundColor:"#e74c3c"},style:{bottom:0,right:0},icon:z?o.createElement(Q.Z,null):o.createElement(G.Z,null),event:"click",key:0,alwaysShowTitle:!1,onClick:function(){R(!z)},text:z?"Hiện":"Ẩn"}),!z&&o.createElement(U.Z,null)),o.createElement(X.Z,{open:N,onClose:ue,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.createElement(o.Fragment,null,q===te.kD?(pe=ue,o.createElement(se,{handleClose:pe,updateStatusNotificationHistory:fe})):o.createElement("div",null))))}de.propTypes={children:l().node.isRequired};var fe=de},7831:function(e,t,n){"use strict";n.d(t,{Z:function(){return W}});var r=n(5861),a=n(885),o=n(4687),i=n.n(o),c=n(7294),l=n(5265),u=n(7462),s=n(5987),m=n(5697),d=n.n(m),f=n(3797),p=n(6634),h=n(9379),g=n(6334);var b=function(e){var t=e.palette,n=e.borders,r=e.transitions,a=t.secondary,o=t.light,i=t.dark,c=n.borderRadius;return{display:"flex",alignItems:"center",width:"100%",color:a.main,borderRadius:c.md,transition:r.create("background-color",{easing:r.easing.easeInOut,duration:r.duration.standard}),"& *":{transition:"color 100ms linear"},"&:not(:last-child)":{mb:1},"&:hover":{backgroundColor:o.main,"& *":{color:i.main}}}},v=n(7294),y=["icon","title"],E=(0,c.forwardRef)((function(e,t){var n=e.icon,r=e.title,a=(0,s.Z)(e,y);return v.createElement(f.Z,(0,u.Z)({},a,{ref:t,sx:function(e){return b(e)}}),v.createElement(h.Z,{component:p.Z,py:.5,display:"flex",alignItems:"center",lineHeight:1},v.createElement(g.Z,{variant:"body1",color:"secondary",lineHeight:.75},n),v.createElement(g.Z,{variant:"button",fontWeight:"regular",sx:{ml:1}},r)))}));E.propTypes={icon:d().node.isRequired,title:d().string.isRequired};var Z=E,x=n(2895),S=n(6974),k=n(8042),C=n(7721),w=n(6867),O=n(5641),P=n(2740),T=n(7794),_=n(9633),z=n(9792),j=n(2367),A=n(4281),R=n(7073),I=n(6564),D=n(7608),N=n(4607),M=n(6982),L=n(3238),H=n(7294);function U(e){var t,n,r=e.user,a=e.handleClose,o=e.handleClickUpdate;return H.createElement(j.Z,{title:"Thông tin cá nhân",handleClose:a,enableUpdate:!0,handleUpdate:o},H.createElement(h.Z,{display:"flex",flexDirection:"column"},H.createElement(h.Z,{display:"flex",justifyContent:"center",paddingBottom:"41px"},H.createElement(O.Z,{src:r.avatar?r.avatar.path:L.Z,alt:r.fullName,size:"xxl",shadow:"md"})),H.createElement(h.Z,{display:"flex",flexDirection:"column",lineHeight:"28px"},H.createElement(g.Z,{variant:"text",color:"text",fontSize:"14px"},"Họ và tên: ",r.fullName),H.createElement(g.Z,{variant:"text",color:"text",fontSize:"14px"},"Email: ",r.email),H.createElement(g.Z,{variant:"text",color:"text",fontSize:"14px"},"Tổ chức: ",null===(t=r.organization)||void 0===t?void 0:t.name),r.location&&H.createElement(g.Z,{variant:"text",color:"text",fontSize:"14px"},"Chi nhánh: ",null===(n=r.location)||void 0===n?void 0:n.name),H.createElement(g.Z,{variant:"text",color:"text",fontSize:"14px"},"Quyền: ",(0,M.OB)(r)?D.Dq:r.roles.map((function(e){return e.name})).join(", ")))))}function F(e){var t=e.user,n=e.handleClose,o=(0,R.xO)(),l=(0,a.Z)(o,2)[1],u=(0,k.b3)(),s=(0,a.Z)(u,2),m=s[0],d=s[1],f=(0,c.useState)(t.fullName),p=(0,a.Z)(f,2),g=p[0],b=p[1],v=(0,c.useState)(t.email),y=(0,a.Z)(v,2),E=y[0],Z=y[1],S=(0,c.useState)(null),C=(0,a.Z)(S,2),w=C[0],P=C[1],T=(0,c.useState)(null),M=(0,a.Z)(T,2),L=M[0],U=M[1],F=function(){var e=(0,r.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.organization||!(null===g||""===g.trim()?((0,R.OV)(l,{typeSnackbar:D.QS,messageSnackbar:I.wb}),0):null===E||""===E.trim()?((0,R.OV)(l,{typeSnackbar:D.QS,messageSnackbar:I.QD}),0):(0,A.vV)(E)||((0,R.OV)(l,{typeSnackbar:D.QS,messageSnackbar:I.FD}),0))){e.next=5;break}return e.next=3,(0,N.H6)({token:m.token,userId:t.id,file:w,fullName:g,email:E,organizationId:t.organization.id,locationId:t.location?t.location.id:"",roles:"[".concat(t.roles.map((function(e){return'"'.concat(e.name,'"')})).join(","),"]")});case 3:null!==(r=e.sent).data?((0,R.OV)(l,{typeSnackbar:D.GF,messageSnackbar:D.NC}),n(),localStorage.setItem("currentUser",JSON.stringify({token:m.token,user:r.data})),(0,k.wA)(d,r.data)):(0,R.OV)(l,{typeSnackbar:D.QS,messageSnackbar:r.messageError});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return H.createElement(j.Z,{title:"Cập nhật thông tin cá nhân",handleClose:n,enableUpdate:!0,handleUpdate:F},H.createElement(h.Z,{display:"flex",flexDirection:"column"},H.createElement(h.Z,{display:"flex",justifyContent:"center",paddingBottom:"41px"},H.createElement(_.Z,{handleOnAbort:function(){},handleOnError:function(){},handleOnLoad:function(e,t){P(e),U(t)}},H.createElement(h.Z,{position:"relative"},H.createElement(O.Z,{src:null===w&&null!==t.avatar?t.avatar.path:L,alt:g,size:"xxl",shadow:"md"}),H.createElement(x.Z,{style:{color:"white",position:"absolute",top:"40%",left:"40%"}},"image")))),H.createElement(h.Z,{mb:2},H.createElement(z.Z,{fullWidth:!0,type:"fullname",value:g,label:"Họ và tên",onChange:function(e){b(e.target.value)}})),H.createElement(h.Z,{mb:2},H.createElement(z.Z,{fullWidth:!0,value:E,type:"email",label:"Email",onChange:function(e){Z(e.target.value)}}))))}var V=function(e){var t=e.handleClose,n=e.user,r=(0,c.useState)(!1),o=(0,a.Z)(r,2),i=o[0],l=o[1];return i?H.createElement(F,{user:n,handleClose:t}):H.createElement(U,{user:n,handleClose:t,handleClickUpdate:function(){l(!0)}})};var W=function(){var e=(0,c.useState)(!1),t=(0,a.Z)(e,2),n=t[0],o=t[1],u=function(){return o(!1)},s=(0,k.b3)(),m=(0,a.Z)(s,2),d=m[0],f=m[1],p=(0,c.useState)(),b=(0,a.Z)(p,2),v=b[0],y=b[1],E=P.Z.size;(0,c.useEffect)((function(){null!=d.currentUser&&y(d.currentUser)}),[d]);var _,z=(0,c.useState)(!1),j=(0,a.Z)(z,2),A=j[0],R=j[1],I=(0,S.s0)(),D=function(){R(!1)},N=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),(0,k.ls)(f),I(C.vf);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v?c.createElement(h.Z,null,c.createElement(h.Z,{marginLeft:E.xl},c.createElement(w.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},onClick:function(e){return o(e.currentTarget)}},c.createElement(O.Z,{src:v.avatar?v.avatar.path:"",alt:v.username,size:"sm",shadow:"sm"}),c.createElement(g.Z,{variant:"text",color:"text",fontSize:E.xs,marginTop:E.xxs},v.fullName)),c.createElement(l.Z,{anchorEl:n,anchorReference:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:Boolean(n),onClose:u,sx:{mt:2}},c.createElement(Z,{icon:c.createElement(x.Z,null,"person"),title:"Xem thông tin cá nhân",onClick:function(){u(),R(!0)}}),(0,M.R$)(d.currentUser)&&c.createElement(Z,{icon:c.createElement(x.Z,null,"arrow_back"),title:"Quay lại trang chủ",onClick:function(){u(),localStorage.removeItem("module"),I(C.Oc)}}),c.createElement(Z,{icon:c.createElement(x.Z,null,"lock_reset"),title:"Thay đổi mật khẩu",onClick:function(){I(C.T5)}}),c.createElement(Z,{icon:c.createElement(x.Z,null,"logout"),title:"Đăng xuất",onClick:N}))),c.createElement(T.Z,{open:A,onClose:D,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},c.createElement(c.Fragment,null,(_=D,void 0!==v?c.createElement(V,{handleClose:_,user:v}):c.createElement("div",null))))):c.createElement("div",null)}},5256:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(7462),a=n(885),o=n(7294),i=n(5295),c=n(1519),l=n(2887),u=n(6358),s=n(5725),m=n(9628),d=n(7171),f=n(9379),p=n(6334),h=n(9792),g=n(4675),b=n(8883),v=n(2186),y=n(6446),E=n(7666),Z=n(2580),x=n(270),S=n(6867);var k=function(e){var t=e.field,n=o.useState(!1),r=(0,a.Z)(n,2),i=r[0],c=r[1];return o.createElement(y.Z,{sx:{m:1,width:"100%",margin:"8px 0"},variant:"outlined"},o.createElement(E.Z,{htmlFor:"outlined-age-simple"},t.label),o.createElement(Z.Z,{fullWidth:!0,id:"outlined-age-simple",type:i?"text":"password",onChange:function(e){return t.action(e.target.value)},endAdornment:o.createElement(x.Z,{position:"end"},o.createElement(S.Z,{"aria-label":"toggle password visibility",onClick:function(){c(!i)},edge:"end"},i?o.createElement(b.Z,null):o.createElement(v.Z,null))),label:t.label}))},C=n(7073),w=o.createElement(m.Z,{fontSize:"small"}),O=o.createElement(d.Z,{fontSize:"small"});function P(e){var t=e.title,n=e.fields,m=e.handleAddOrUpdate,d=e.actionLabel,b=e.visibleCloseButton,v=e.handleClose,y=e.headChildren,E=e.children,Z=(0,C.xO)(),x=(0,a.Z)(Z,2)[1];return o.createElement(f.Z,{px:1,width:"100%",height:"100vh",mx:"auto",key:t},o.createElement(s.ZP,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",height:"100%"},o.createElement(s.ZP,{item:!0,xs:11,sm:9,md:5,lg:4,xl:3},o.createElement(i.Z,null,o.createElement(f.Z,{variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",mx:2,mt:-3,p:2,mb:1,textAlign:"center"},o.createElement(p.Z,{variant:"h4",fontWeight:"medium",color:"white"},t)),o.createElement(f.Z,{pt:4,pb:3,px:3,style:{maxHeight:"750px",overflowY:"auto"}},o.createElement(f.Z,{component:"form",role:"form"},y,n.map((function(e,t){return"autocomplete-multiple"===e.type?o.createElement(f.Z,{mb:2,key:"".concat(e.label,"_").concat(t)},o.createElement(c.Z,{value:e.checked,key:"fields_".concat(e.label),onChange:function(t,n){e.action(n)},multiple:!0,disablePortal:!0,disableCloseOnSelect:!0,id:"tags-filled",options:e.data,renderOption:function(e,t,n){var a=n.selected;return o.createElement("li",(0,r.Z)({},e,{style:{marginBottom:"5px"}}),o.createElement(l.Z,{icon:w,checkedIcon:O,style:{marginRight:8},checked:a}),t)},renderInput:function(t){return o.createElement(u.Z,(0,r.Z)({},t,{label:e.label,placeholder:"Search..."}))},ListboxProps:{style:{maxHeight:"15rem"}}})):"autocomplete"===e.type?o.createElement(f.Z,{mb:2,key:"".concat(e.label,"_").concat(t)},o.createElement(c.Z,{value:e.choosedValue,key:"fields_".concat(e.label),onChange:function(t,n){e.action(n)},disablePortal:!0,id:"autocomplete",options:e.data,renderInput:function(t){return o.createElement(u.Z,(0,r.Z)({},t,{label:e.label,placeholder:"Search..."}))},ListboxProps:{style:{maxHeight:"15rem"}}})):"password"===e.type?o.createElement(k,{field:e}):o.createElement(f.Z,{mb:2,key:"".concat(e.label,"_").concat(t)},o.createElement(h.Z,{value:e.data,type:e.type,label:e.label,fullWidth:!0,onChange:function(t){return e.action(t.target.value)}}))})),E,o.createElement(f.Z,{mt:4,mb:1,display:"flex"},o.createElement(g.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(){(0,C.QP)(x),m(),(0,C.Zk)(x)}},d),b&&o.createElement(o.Fragment,null,o.createElement(f.Z,{sx:{width:"30px"}}),o.createElement(g.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:v},"Hủy bỏ")))))))))}P.defaultProps={children:o.createElement("div",null),handleClose:function(){},visibleCloseButton:!0};var T=P},2367:function(e,t,n){"use strict";var r=n(7294),a=n(5295),o=n(5725),i=n(9379),c=n(6334),l=n(4675);function u(e){var t=e.title,n=e.handleClose,u=e.children,s=e.handleUpdate,m=e.enableUpdate;return r.createElement(i.Z,{px:1,width:"100%",height:"100vh",mx:"auto"},r.createElement(o.ZP,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",height:"100%"},r.createElement(o.ZP,{item:!0,xs:11,sm:9,md:5,lg:4,xl:3},r.createElement(a.Z,null,r.createElement(i.Z,{variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",mx:2,mt:-3,p:2,mb:1,textAlign:"center"},r.createElement(c.Z,{variant:"h4",fontWeight:"medium",color:"white",mt:1},t)),r.createElement(i.Z,{pt:4,pb:3,px:3},r.createElement(i.Z,{component:"form",role:"form"},u,r.createElement(i.Z,{mt:4,mb:1,display:"flex"},r.createElement(r.Fragment,null,m&&r.createElement(r.Fragment,null,r.createElement(l.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:s},"Cập nhật"),r.createElement(i.Z,{sx:{width:"30px"}})),r.createElement(l.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:n},"Đóng")))))))))}u.defaultProps={children:r.createElement("div",null),handleClose:function(){}},t.Z=u},588:function(e,t,n){"use strict";n.d(t,{g:function(){return i},p:function(){return o}});var r=n(6982),a=n(7608),o=function(e){return{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*",token:e,module:c()}}},i=function(e){return{headers:{"Content-Type":"multipart/formdata","Access-Control-Allow-Origin":"*",token:e,module:c()}}},c=function(){return(0,r.N_)()?a.E1:(0,r.Z)()?a.Vt:(0,r.H6)()?a.N2:""}},7702:function(e,t,n){"use strict";n.d(t,{Bw:function(){return B},CI:function(){return M},Cw:function(){return me},Cy:function(){return te},Dd:function(){return L},E3:function(){return _},Ey:function(){return Z},F7:function(){return A},G0:function(){return O},GI:function(){return l},Gt:function(){return p},Hn:function(){return u},Ij:function(){return R},J$:function(){return K},JS:function(){return se},Jh:function(){return q},Kz:function(){return N},MK:function(){return ee},Mz:function(){return d},Oj:function(){return G},P_:function(){return o},Q9:function(){return g},SU:function(){return T},Uf:function(){return i},Uo:function(){return I},VL:function(){return $},XO:function(){return h},Xm:function(){return oe},Xw:function(){return a},YK:function(){return x},ZO:function(){return U},_L:function(){return ie},_q:function(){return ce},a2:function(){return Q},aF:function(){return j},aT:function(){return Y},bW:function(){return v},cD:function(){return C},fI:function(){return ue},gD:function(){return F},gx:function(){return W},hO:function(){return X},jN:function(){return c},kK:function(){return y},kV:function(){return w},l6:function(){return S},lh:function(){return H},n7:function(){return re},oJ:function(){return b},p9:function(){return r},q1:function(){return D},qF:function(){return V},qs:function(){return P},rB:function(){return s},tQ:function(){return J},u5:function(){return E},uw:function(){return ae},vR:function(){return z},wV:function(){return k},x6:function(){return m},xO:function(){return f},ys:function(){return ne},zS:function(){return le}});var r="SHOW_SNACK_BAR",a="HIDE_SNACK_BAR",o="SHOW_LOADING",i="HIDE_LOADING",c="ADD_USER",l="EDIT_USER",u="DELETE_USER_SUCCESS",s="GET_ALL_USER",m="SIGN_IN",d="GET_ALL_USER_SUCCESS",f="GET_ALL_ROLE_SUCCESS",p="GET_ALL_SHIFT_SUCCESS",h="GET_TIME_KEEPING_NOTIFICATION_SUCCESS",g="UPDATE_TIME_KEEPING_NOTIFICATION_SUCCESS",b="UPDATE_SHIFTS_SUCCESS",v="GET_ALL_ORGANIZATION_SUCCESS",y="ADD_ORGANIZATION_SUCCESS",E="DELETE_ORGANIZATION_SUCCESS",Z="UPDATE_ORGANIZATION_SUCCESS",x="GET_ALL_FEATURES_SUCCESS",S="GET_ALL_LOG_SUCCESS",k="UPDATE_USER_SUCCESS",C="UPDATE_MY_INFO_SUCCESS",w="LOG_OUT_SUCCESS",O="GET_ALL_CAMERA_SUCCESS",P="GET_ALL_EMPLOYEE_SUCCESS",T="ADD_EMPLOYEE_SUCCESS",_="UPDATE_EMPLOYEE_SUCCESS",z="GET_ALL_LOCATION_SUCCESS",j="ADD_LOCATION_SUCCESS",A="UPDATE_LOCATION_SUCCESS",R="DELETE_LOCATION_SUCCESS",I="CHANGE_MANAGER_SUCCESS",D="ADD_CAMERA_SUCCESS",N="DELETE_CAMERA_SUCCESS",M="DELETE_EMPLOYEE_SUCCESS",L="UPDATE_CAMERA_SUCCESS",H="GET_ALL_IN_OUT_HISTORIES_SUCCESS",U="GET_ALL_NOTIFICATION_HISTORIES_SUCCESS",F="GET_ALL_AREA_RESTRICTION_SUCCESS",V="ADD_AREA_RESTRICTION_SUCCESS",W="UPDATE_AREA_RESTRICTION_SUCCESS",B="DELETE_AREA_RESTRICTION_SUCCESS",Q="GET_ALL_AREA_RESTRICTION_NOTIFICATION_SUCCESS",G="UPDATE_AREA_RESTRICTION_NOTIFICATION_SUCCESS",K="UPDATE_AREA_USER_ATTENDANCE_CHOOSED",q="GET_USER_ATTENDANCE_ITEMS_SUCCESS",X="ADD_USER_ATTENDANCE_ITEM_SUCCESS",J="UPDATE_USER_ATTENDANCE_ITEM_SUCCESS",Y="UPDATE_CONFIRM_AUDIO",$="UPDATE_STATUS_AUDIO",ee="UPDATE_HAS_NOTIFICATION_AUDIO",te="UPDATE_EMPLOYEE_CHOOSED",ne="UPDATE_CAMERA_RESTRICTION_CHOOSED",re="UPDATE_CAMERA_LOCATION_CHOOSED",ae="UPDATE_ACCOUNT_CHOOSED",oe="UPDATE_FILTER_NOTIFICATION_HISTORY",ie="UPDATE_TOGGLE_NOTIFICATION_HISTORY",ce="UPDATE_FILTER_CAMERA",le="UPDATE_FILTER_EPLOYEE",ue="UPDATE_NOTIFICATION_STATUS",se="UPDATE_FILTER_USER",me="ADD_GUEST"},2862:function(e,t,n){"use strict";n.d(t,{$L:function(){return Y},$Z:function(){return te},AS:function(){return J},Ao:function(){return H},At:function(){return Q},BT:function(){return R},CA:function(){return o},DF:function(){return G},EO:function(){return u},GC:function(){return v},H7:function(){return B},J$:function(){return g},JI:function(){return D},JU:function(){return O},KO:function(){return N},Mg:function(){return w},RF:function(){return h},Tb:function(){return V},Uo:function(){return A},W1:function(){return q},WT:function(){return m},WX:function(){return z},Xz:function(){return X},_0:function(){return T},__:function(){return j},aT:function(){return ee},cT:function(){return U},cV:function(){return S},dz:function(){return $},e5:function(){return s},eH:function(){return E},f6:function(){return y},fP:function(){return C},gr:function(){return I},h1:function(){return p},iN:function(){return L},jQ:function(){return k},jm:function(){return f},lR:function(){return _},lb:function(){return d},o0:function(){return l},oe:function(){return F},pN:function(){return c},pV:function(){return Z},rz:function(){return x},sc:function(){return M},t0:function(){return W},t4:function(){return b},u$:function(){return P},w4:function(){return a},x1:function(){return K},zf:function(){return i}});var r="http://192.168.6.114:8070",a="",o="ws://192.168.6.114:4005",i=("".concat(r,"/accounts/users"),"".concat(r,"/accounts/roles")),c="".concat(r,"/accounts/auth/login"),l="".concat(r,"/accounts/users"),u="".concat(r,"/time-keepings/shifts"),s="".concat(r,"/time-keepings/time-keeping-notifications"),m=function(e){return"".concat(r,"/time-keepings/shifts/").concat(e)},d=function(e){return"".concat(r,"/time-keepings/time-keeping-notifications/").concat(e)},f=function(e){return"".concat(r,"/accounts/users/").concat(e)},p=function(e){var t="".concat(r,"/users");return e&&(t+="?status=".concat(e)),t},h="".concat(r,"/organizations/organizations"),g="".concat(r,"/organizations/organizations"),b=function(e){return"".concat(r,"/organizations/organizations/").concat(e.toString())},v=function(e){return"".concat(r,"/organizations/organizations/").concat(e)},y="".concat(r,"/features/features"),E=function(e,t,n){return"".concat(r,"/user-logs/user-logs?page=").concat(e,"&size=").concat(t,"&search=").concat(n)},Z=function(e){return"".concat(r,"/accounts/users/").concat(e.toString())},x="".concat(r,"/accounts/auth/forget-password"),S="".concat(r,"/accounts/auth/change-password"),k="".concat(r,"/users/guest"),C=function(e,t,n,a,o,i,c){var l="".concat(r,"/cameras/cameras?page=").concat(e,"&size=").concat(t,"&search=").concat(n);return a&&(l+="&camera_ids=".concat(a)),o&&(l+="&area_restriction_id=".concat(o)),i&&(l+="&location_id=".concat(i)),c&&""!==c.trim()&&(l+="&status=".concat(c)),l},w="".concat(r,"/cameras/cameras"),O=function(e,t,n){return"".concat(r,"/locations/locations?page=").concat(e,"&size=").concat(t,"&search=").concat(n)},P="".concat(r,"/locations/locations"),T=function(e){return"".concat(r,"/locations/locations/").concat(e.toString())},_=function(e){return"".concat(r,"/locations/locations/").concat(e.toString())},z=function(e){return"".concat(r,"/cameras/cameras/").concat(e.toString())},j=function(e){return"".concat(r,"/cameras/cameras/").concat(e.toString())},A=function(e){return"".concat(r,"/cameras/cameras/").concat(e.toString(),"/polygons")},R=function(e,t){return"".concat(r,"/histories/in-out-histories?page=").concat(e,"&size=").concat(t)},I=function(e,t,n,a){var o="".concat(r,"/employees/employees?page=").concat(e,"&size=").concat(t,"&search=").concat(n);return a&&(o+="&status=".concat(a)),o},D="".concat(r,"/employees/employees"),N=function(e){return"".concat(r,"/employees/employees/").concat(e.toString())},M=function(e,t){return"".concat(r,"/employees/employees/").concat(e,"/change/").concat(t)},L=function(e){return"".concat(r,"/employees/employees/").concat(e.toString())},H=function(e,t){return"".concat(r,"/histories/notification-histories?page=").concat(e,"&size=").concat(t)},U="".concat(r,"/histories/in-out-histories/report"),F="".concat(r,"/histories/notification-histories/report"),V="".concat(r,"/accounts/users/account-number"),W=function(e,t,n){return"".concat(r,"/area-restrictions/area-restrictions?page=").concat(e,"&size=").concat(t,"&search=").concat(n)},B=function(e){return"".concat(r,"/area-restrictions/area-restrictions/").concat(e.toString(),"/notification")},Q="".concat(r,"/area-restrictions/area-restrictions"),G=function(e){return"".concat(r,"/area-restrictions/area-restrictions/").concat(e.toString())},K="".concat(r,"/histories/histories/time-keepings/count"),q="".concat(r,"/histories/histories/area-restrictions/count"),X=function(e){return"".concat(r,"/area-restrictions/area-restrictions/").concat(e.toString())},J="".concat(r,"/histories/in-out-histories/report-area-restriction"),Y="".concat(r,"/histories/notification-histories/report-area-restriction"),$="".concat(r,"/employees/employees/import"),ee="".concat(r,"/employees/employees/send-qrcode"),te=function(e){return"".concat(r,"/users/").concat(e,"/resend-code")}},7608:function(e,t,n){"use strict";n.d(t,{_3:function(){return V},Pd:function(){return x},aR:function(){return j},nD:function(){return A},sk:function(){return s},KY:function(){return _},ig:function(){return c},NY:function(){return F},I2:function(){return E},aj:function(){return y},Wy:function(){return Z},kf:function(){return C},Dc:function(){return k},QS:function(){return o},yP:function(){return U},rP:function(){return H},wT:function(){return i},XP:function(){return z},AN:function(){return R},Vt:function(){return N},N2:function(){return M},E1:function(){return D},io:function(){return W},ep:function(){return L},Tn:function(){return I},FN:function(){return h},uc:function(){return g},Xz:function(){return b},m6:function(){return v},pK:function(){return m},Dq:function(){return d},cb:function(){return f},JN:function(){return p},CA:function(){return T},fO:function(){return O},Ig:function(){return B},Vy:function(){return u},GF:function(){return a},L:function(){return l},NC:function(){return S},kD:function(){return P},s:function(){return w}});var r=n.p+"audio/canh_bao.7d5f6fcf.mp3",a="success",o="error",i="info",c="Thêm",l="Cập nhật",u="Đăng nhập",s="Thay đổi mật khẩu",m="Super Admin",d="Super Admin Organization",f="Admin Quản lý chấm công",p="Cán bộ Quản lý chấm công",h="Admin Kiểm soát khu vực hạn chế",g="Cán bộ Kiểm soát khu vực hạn chế",b="Admin Kiểm soát hành vi",v="Cán bộ Kiểm soát hành vi",y="Xác nhận xóa",E="Bạn có chắc chắn muốn xóa không?",Z="Xóa thành công",x="Thêm thành công",S="Cập nhật thành công",k="edit",C="delete",w="view",O="setting",P="view user attendance",T="Có lỗi xảy ra, vui lòng thực hiện lại sau!",_="Thay đổi mật khẩu thành công",z="Đăng nhập thành công",j="cameraOrderConfig",A="cameraStartedConfig",R="6",I="MISSING_ENV_VAR".REACT_APP_RING_URL||r,D="time_keeping",N="area_restriction",M="behavior",L="https://drive.google.com/uc?export=view&id=1VMcOxFtm0aePzWOGz-cwOugR0tu8heG4",H="Xác nhận cập nhật",U="Mã nhân viên đã tồn tại, bạn có muốn cập nhật thông tin?",F="Đã xóa",V="Đang hoạt động",W="Đang chờ xác nhận",B=6048e5},7721:function(e,t,n){"use strict";n.d(t,{$p:function(){return d},MY:function(){return v},Oc:function(){return r},R8:function(){return s},SX:function(){return g},T5:function(){return i},U:function(){return o},VD:function(){return E},X4:function(){return u},Y:function(){return h},aT:function(){return m},dV:function(){return c},oO:function(){return f},q9:function(){return p},rz:function(){return b},s3:function(){return y},vf:function(){return a},zO:function(){return l}});var r="/main",a="/authentication/sign-in",o="/authentication/reset-password",i="/authentication/change-password",c="/users",l="/dashboard",u="/time-keeping/setting",s="/employees",m="/organizations",d="/log",f="/features",p="/cameras",h="/locations",g="/in-out-history",b="/notification-histories",v="/report",y="/area-restriction",E="/in-out-history-board"},6564:function(e,t,n){"use strict";n.d(t,{$B:function(){return a},$m:function(){return x},A_:function(){return w},Ab:function(){return P},Ag:function(){return l},BT:function(){return s},BX:function(){return g},D1:function(){return u},E:function(){return E},EC:function(){return T},FD:function(){return d},Fb:function(){return c},Fs:function(){return _},Mx:function(){return S},OJ:function(){return b},ON:function(){return O},Oo:function(){return Z},Oz:function(){return i},Pd:function(){return v},QD:function(){return m},TV:function(){return h},h_:function(){return o},ok:function(){return f},px:function(){return C},ry:function(){return y},t_:function(){return k},wU:function(){return z},wb:function(){return r},xq:function(){return p}});var r="Họ và tên không được để trống",a="Mật khẩu để trống",o="Mật khẩu mới để trống",i="Mật khẩu mới không hợp lệ, phải chứa ít nhất 8 ký tự trong đó có ít nhất 1 chữ in thường, 1 chữ in hoa, 1 số và 1 ký tự đặc biệt",c="Mật khẩu lặp lại để trống",l="Mật khẩu và Mật khẩu lặp lại không khớp",u="Người dùng phải có ít nhất một vai trò",s="Thêm người dùng thành công, kiểm tra link thay đổi mật khẩu trong mail",m="Email không được để trống",d="Email không hợp lệ",f="Kiểm tra email để đặt lại mật khẩu",p="Tổ chức không được để trống",h="Thêm tổ chức thành công",g="Số điện thoại không hợp lệ",b="Mã số nhân viên không được để trống",v="Ca làm việc không được để trống",y="Thêm mới chi nhánh thành công",E="Chi nhánh không được để trống",Z="Mã chi nhánh không được để trống",x="Thêm mới camera thành công",S="Camera không được để trống",k="IP camera không được để trống",C="Check in/ Check out không được để trống",w="Tên khu vực không được để trống",O="Mã khu vực không được để trống",P="Người phụ trách khu vực không được để trống",T="Thêm mới khu vực hạn chế thành công",_="Số điện thoại không được để trống",z="Chia sẻ qr code tới mail của các nhân viên thành công"},5878:function(e,t,n){"use strict";n.d(t,{RF:function(){return E},Y8:function(){return g},cJ:function(){return y},d6:function(){return f},kW:function(){return b},ri:function(){return h},t9:function(){return v},wK:function(){return p}});var r=n(885),a=n(2982),o=n(4942),i=n(7294),c=n(7702);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createContext)();s.displayName="AreaRestrictionContext";var m={areaRestrictions:[],areaRestrictionNotification:null},d=function(e,t){switch(t.type){case c.gD:return u(u({},e),{},{areaRestrictions:t.payload});case c.qF:return u(u({},e),{},{areaRestrictions:[t.payload].concat((0,a.Z)(e.areaRestrictions))});case c.gx:var n=t.payload,r=e.areaRestrictions.map((function(e){return e.id===n.id?n:e}));return u(u({},e),{},{areaRestrictions:r});case c.Bw:return u(u({},e),{},{areaRestrictions:e.areaRestrictions.filter((function(e){return e.id!==t.payload}))});case c.a2:case c.Oj:return u(u({},e),{},{areaRestrictionNotification:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function f(e){var t=e.children,n=(0,i.useReducer)(d,m),a=(0,r.Z)(n,2),o=a[0],c=a[1],l=(0,i.useMemo)((function(){return[o,c]}),[o,c]);return i.createElement(s.Provider,{value:l},t)}var p=function(){var e=(0,i.useContext)(s);if(!e)throw new Error("useAreaRestrictionController should be used inside the AreaRestrictionContextProvider.");return e},h=function(e,t){return e({type:c.gD,payload:t})},g=function(e,t){return e({type:c.qF,payload:t})},b=function(e,t){return e({type:c.gx,payload:t})},v=function(e,t){return e({type:c.Bw,payload:t})},y=function(e,t){return e({type:c.a2,payload:t})},E=function(e,t){return e({type:c.Oj,payload:t})}},5396:function(e,t,n){"use strict";n.d(t,{bE:function(){return f},kX:function(){return d}});var r=n(885),a=n(4942),o=n(7294),i=n(7702);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.createContext)();u.displayName="AreaRestrictionNotificationContext";var s={areaRestrictionNotification:null},m=function(e,t){switch(t.type){case i.a2:case i.Oj:return l(l({},e),{},{areaRestrictionNotification:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function d(e){var t=e.children,n=(0,o.useReducer)(m,s),a=(0,r.Z)(n,2),i=a[0],c=a[1],l=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(u.Provider,{value:l},t)}var f=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("useAreaRestrictionNotificationController should be used inside the AreaRestrictionNotificationContextProvider.");return e}},8042:function(e,t,n){"use strict";n.d(t,{Vh:function(){return p},b3:function(){return f},ls:function(){return g},s7:function(){return d},wA:function(){return h}});var r=n(885),a=n(4942),o=n(7294),i=n(7702);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.createContext)();u.displayName="AuthenContext";var s={currentUser:null,token:null},m=function(e,t){switch(t.type){case i.x6:return l(l({},e),{},{currentUser:t.payload.user,token:t.payload.token});case i.cD:return l(l({},e),{},{currentUser:t.payload});case i.kV:return s;default:throw new Error("Unhandled action type: ".concat(t.type))}};function d(e){var t=e.children,n=(0,o.useReducer)(m,s),a=(0,r.Z)(n,2),i=a[0],c=a[1],l=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(u.Provider,{value:l},t)}var f=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("useAuthenController should be used inside the AuthenContextProvider.");return e},p=function(e,t){return e({type:i.x6,payload:t})},h=function(e,t){return e({type:i.cD,payload:t})},g=function(e){return e({type:i.kV,payload:null})}},1967:function(e,t,n){"use strict";n.d(t,{Be:function(){return E},D7:function(){return v},IY:function(){return p},KC:function(){return y},T5:function(){return h},hK:function(){return f},jp:function(){return b},vV:function(){return g}});var r=n(885),a=n(2982),o=n(4942),i=n(7294),c=n(7702);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createContext)();s.displayName="CameraContext";var m={cameras:[],areaRestrictionChoosed:null,locationChoosed:null,filter:{areaRestriction:null,status:"Đang hoạt động"}},d=function(e,t){switch(t.type){case c.G0:return u(u({},e),{},{cameras:t.payload});case c.q1:return u(u({},e),{},{cameras:[t.payload].concat((0,a.Z)(e.cameras))});case c.Kz:var n;return"Đang hoạt động"===e.filter.status?u(u({},e),{},{cameras:e.cameras.filter((function(e){return e.id!==t.payload}))}):(n=e.cameras.map((function(e){return e.id===t.payload?u(u({},e),{},{status:"deleted"}):e})),u(u({},e),{},{cameras:n}));case c.Dd:var r=t.payload,o=e.cameras.map((function(e){return e.id===r.id?r:e}));return u(u({},e),{},{cameras:o});case c.ys:return u(u({},e),{},{areaRestrictionChoosed:t.payload});case c.n7:return u(u({},e),{},{locationChoosed:t.payload});case c._q:return u(u({},e),{},{filter:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function f(e){var t=e.children,n=(0,i.useReducer)(d,m),a=(0,r.Z)(n,2),o=a[0],c=a[1],l=(0,i.useMemo)((function(){return[o,c]}),[o,c]);return i.createElement(s.Provider,{value:l},t)}var p=function(){var e=(0,i.useContext)(s);if(!e)throw new Error("useCameraController should be used inside the CameraContextProvider.");return e},h=function(e,t){return e({type:c.G0,payload:t})},g=function(e,t){return e({type:c.q1,payload:t})},b=function(e,t){return e({type:c.Kz,payload:t})},v=function(e,t){return e({type:c.Dd,payload:t})},y=function(e,t){return e({type:c.n7,payload:t})},E=function(e,t){return e({type:c._q,payload:t})}},4945:function(e,t,n){"use strict";n.d(t,{AY:function(){return v},H2:function(){return b},Vr:function(){return g},X:function(){return f},o6:function(){return h},pr:function(){return y},vL:function(){return p}});var r=n(885),a=n(2982),o=n(4942),i=n(7294),c=n(7702);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createContext)();s.displayName="EmployeeContext";var m={employees:[],filter:{status:"Đang hoạt động"}},d=function(e,t){switch(t.type){case c.qs:return u(u({},e),{},{employees:t.payload});case c.SU:var n=t.payload,r=[n].concat((0,a.Z)(e.employees));if(null!==n.manager){var o=e.employees.filter((function(e){return e.id===n.manager.id}));o.length>0&&(o[0].employees.push(n),r=r.map((function(e){return e.id===o[0].id?o[0]:e})))}return u(u({},e),{},{employees:r});case c.E3:return u(u({},e),{},{employees:e.employees.map((function(e){if(e.id===t.payload.id)return t.payload;var n=e.employees.filter((function(e){return e.id!==t.payload.id}));return null!==t.payload.manager&&t.payload.manager.id===e.id&&n.push(t.payload),u(u({},e),{},{employees:n})}))});case c.Uo:return u({},e);case c.CI:var i=t.payload,l=e.employees.map((function(e){return e.id===i?u(u({},e),{},{employees:[],manager:null,status:"deleted",areaEmployees:[]}):u(u({},e),{},{employees:e.employees.filter((function(e){return e.id!==i}))})}));return l=l.map((function(e){return null!==e.manager&&e.manager.id===i?u(u({},e),{},{manager:null}):e})),u(u({},e),{},{employees:l});case c.zS:return u(u({},e),{},{filter:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function f(e){var t=e.children,n=(0,i.useReducer)(d,m),a=(0,r.Z)(n,2),o=a[0],c=a[1],l=(0,i.useMemo)((function(){return[o,c]}),[o,c]);return i.createElement(s.Provider,{value:l},t)}var p=function(){var e=(0,i.useContext)(s);if(!e)throw new Error("useEmployeeController should be used inside the EmployeeContextProvider.");return e},h=function(e,t){return e({type:c.qs,payload:t})},g=function(e,t){return e({type:c.SU,payload:t})},b=function(e,t){return e({type:c.E3,payload:t})},v=function(e,t){return e({type:c.CI,payload:t})},y=function(e,t){return e({type:c.zS,payload:t})}},8669:function(e,t,n){"use strict";n.d(t,{Vf:function(){return p},fm:function(){return f},sN:function(){return d}});var r=n(885),a=n(4942),o=n(7294),i=n(7702);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.createContext)();u.displayName="FeatureContext";var s={features:[]},m=function(e,t){if(t.type===i.YK)return l(l({},e),{},{features:t.payload});throw new Error("Unhandled action type: ".concat(t.type))};function d(e){var t=e.children,n=(0,o.useReducer)(m,s),a=(0,r.Z)(n,2),i=a[0],c=a[1],l=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(u.Provider,{value:l},t)}var f=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("useFeatureController should be used inside the FeatureContextProvider.");return e},p=function(e,t){return e({type:i.YK,payload:t})}},6839:function(e,t,n){"use strict";n.d(t,{VS:function(){return f},zc:function(){return p}});var r=n(885),a=n(2982),o=n(4942),i=n(7294),c=n(7702);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createContext)();s.displayName="GuestContext";var m={guest:[]},d=function(e,t){if(t.type===c.Cw)return u(u({},e),{},{guest:[].concat((0,a.Z)(e.guest),[t.payload])});throw new Error("Unhandled action type: ".concat(t.type))};function f(e){var t=e.children,n=(0,i.useReducer)(d,m),a=(0,r.Z)(n,2),o=a[0],c=a[1],l=(0,i.useMemo)((function(){return[o,c]}),[o,c]);return i.createElement(s.Provider,{value:l},t)}var p=function(e,t){return e({type:c.Cw,payload:t})}},5740:function(e,t,n){"use strict";n.d(t,{CD:function(){return f},DM:function(){return d},Gq:function(){return h},uq:function(){return p}});var r=n(885),a=n(4942),o=n(7294),i=n(7702);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.createContext)();u.displayName="InOutHistoryContext";var s={inOutHistories:[],employeeChoosed:null},m=function(e,t){switch(t.type){case i.lh:return l(l({},e),{},{inOutHistories:t.payload});case i.Cy:return l(l({},e),{},{employeeChoosed:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function d(e){var t=e.children,n=(0,o.useReducer)(m,s),a=(0,r.Z)(n,2),i=a[0],c=a[1],l=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(u.Provider,{value:l},t)}var f=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("useInOutHistoryController should be used inside the InOutHistoryContextProvider.");return e},p=function(e,t){return e({type:i.lh,payload:t})},h=function(e,t){return e({type:i.Cy,payload:t})}},7502:function(e,t,n){"use strict";n.d(t,{$N:function(){return b},$s:function(){return h},YR:function(){return v},nQ:function(){return g},pe:function(){return p},vR:function(){return f}});var r=n(885),a=n(2982),o=n(4942),i=n(7294),c=n(7702);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createContext)();s.displayName="LocationContext";var m={locations:[]},d=function(e,t){switch(t.type){case c.vR:return u(u({},e),{},{locations:t.payload});case c.aF:return u(u({},e),{},{locations:[t.payload].concat((0,a.Z)(e.locations))});case c.F7:var n=t.payload,r=e.locations.map((function(e){return e.id===n.id?n:e}));return u(u({},e),{},{locations:r});case c.Ij:return u(u({},e),{},{locations:e.locations.filter((function(e){return e.id!==t.payload}))});default:throw new Error("Unhandled action type: ".concat(t.type))}};function f(e){var t=e.children,n=(0,i.useReducer)(d,m),a=(0,r.Z)(n,2),o=a[0],c=a[1],l=(0,i.useMemo)((function(){return[o,c]}),[o,c]);return i.createElement(s.Provider,{value:l},t)}var p=function(){var e=(0,i.useContext)(s);if(!e)throw new Error("useLocationController should be used inside the LocationContextProvider.");return e},h=function(e,t){return e({type:c.vR,payload:t})},g=function(e,t){return e({type:c.aF,payload:t})},b=function(e,t){return e({type:c.F7,payload:t})},v=function(e,t){return e({type:c.Ij,payload:t})}},4218:function(e,t,n){"use strict";n.d(t,{Ad:function(){return m},T4:function(){return h},aC:function(){return p},en:function(){return d},jx:function(){return b},wM:function(){return s},wQ:function(){return f},yO:function(){return g}});var r=n(885),a=n(4942),o=n(7294);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,o.createContext)();function u(e,t){switch(t.type){case"MINI_SIDENAV":return c(c({},e),{},{miniSidenav:t.value});case"TRANSPARENT_SIDENAV":return c(c({},e),{},{transparentSidenav:t.value});case"WHITE_SIDENAV":return c(c({},e),{},{whiteSidenav:t.value});case"SIDENAV_COLOR":return c(c({},e),{},{sidenavColor:t.value});case"TRANSPARENT_NAVBAR":return c(c({},e),{},{transparentNavbar:t.value});case"FIXED_NAVBAR":return c(c({},e),{},{fixedNavbar:t.value});case"OPEN_CONFIGURATOR":return c(c({},e),{},{openConfigurator:t.value});case"DIRECTION":return c(c({},e),{},{direction:t.value});case"LAYOUT":return c(c({},e),{},{layout:t.value});case"DARKMODE":return c(c({},e),{},{darkMode:t.value});default:throw new Error("Unhandled action type: ".concat(t.type))}}function s(e){var t=e.children,n=(0,o.useReducer)(u,{miniSidenav:!1,transparentSidenav:!1,whiteSidenav:!1,sidenavColor:"primary",transparentNavbar:!0,fixedNavbar:!0,openConfigurator:!1,direction:"ltr",layout:"dashboard",darkMode:!1}),a=(0,r.Z)(n,2),i=a[0],c=a[1],s=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(l.Provider,{value:s},t)}function m(){var e=(0,o.useContext)(l);if(!e)throw new Error("useMaterialUIController should be used inside the MaterialUIControllerProvider.");return e}l.displayName="MaterialUIContext";var d=function(e,t){return e({type:"MINI_SIDENAV",value:t})},f=function(e,t){return e({type:"TRANSPARENT_SIDENAV",value:t})},p=function(e,t){return e({type:"WHITE_SIDENAV",value:t})},h=function(e,t){return e({type:"TRANSPARENT_NAVBAR",value:t})},g=function(e,t){return e({type:"OPEN_CONFIGURATOR",value:t})},b=function(e,t){return e({type:"LAYOUT",value:t})}},436:function(e,t,n){"use strict";n.d(t,{$9:function(){return g},Gq:function(){return S},K2:function(){return x},LK:function(){return E},P6:function(){return p},U$:function(){return Z},VF:function(){return C},aR:function(){return y},aq:function(){return f},cg:function(){return k},d_:function(){return v},mo:function(){return b},zX:function(){return h}});var r=n(885),a=n(2982),o=n(4942),i=n(7294),c=n(7702);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createContext)();s.displayName="NotificationHistoryContext";var m={notificationHistories:[],userAttendanceItems:[],userAttendanceChoosed:null,isConfirmAudio:!1,isAudioOn:!1,hasNotificationAudio:!1,areaRestrictionChoosed:null,employeeChoosed:null,toggle:!1,filter:{areaRestriction:null,status:"Chưa xử lý"}},d=function(e,t){switch(t.type){case c.ZO:return u(u({},e),{},{notificationHistories:t.payload});case c.Jh:return u(u({},e),{},{userAttendanceItems:t.payload});case c.hO:var n=[t.payload].concat((0,a.Z)(e.userAttendanceItems));return u(u({},e),{},{userAttendanceItems:n.slice(0,Math.max(n.length-1,10))});case c.tQ:var r;return r="Chưa xử lý"===e.filter.status?e.notificationHistories.filter((function(e){return e.id!==t.payload})):e.notificationHistories.map((function(e){return e.id===t.payload?u(u({},e),{},{status:"Đã xử lý"}):e})),u(u({},e),{},{notificationHistories:r,userAttendanceItems:e.userAttendanceItems.map((function(e){return e.notificationHistoryId===t.payload?u(u({},e),{},{isControlled:!0}):e}))});case c.J$:return u(u({},e),{},{userAttendanceChoosed:t.payload});case c.aT:return u(u({},e),{},{isConfirmAudio:t.payload});case c.VL:return u(u({},e),{},{isAudioOn:t.payload});case c.MK:return u(u({},e),{},{hasNotificationAudio:t.payload});case c.Cy:return u(u({},e),{},{employeeChoosed:t.payload});case c.Xm:return u(u({},e),{},{filter:t.payload});case c._L:return u(u({},e),{},{toggle:!e.toggle});case c.fI:var o=t.payload,i=e.notificationHistories.map((function(e){return e.id===o?u(u({},e),{},{status:"Đã xử lý"}):e}));return u(u({},e),{},{notificationHistories:i});default:throw new Error("Unhandled action type: ".concat(t.type))}};function f(e){var t=e.children,n=(0,i.useReducer)(d,m),a=(0,r.Z)(n,2),o=a[0],c=a[1],l=(0,i.useMemo)((function(){return[o,c]}),[o,c]);return i.createElement(s.Provider,{value:l},t)}var p=function(){var e=(0,i.useContext)(s);if(!e)throw new Error("useNotificationHistoryController should be used inside the NotificationHistoryContextProvider.");return e},h=function(e,t){return e({type:c.ZO,payload:t})},g=function(e,t){return e({type:c.Jh,payload:t})},b=function(e,t){return e({type:c.hO,payload:t})},v=function(e,t){return e({type:c.tQ,payload:t})},y=function(e,t){return e({type:c.J$,payload:t})},E=function(e,t){return e({type:c.aT,payload:t})},Z=function(e,t){return e({type:c.VL,payload:t})},x=function(e,t){return e({type:c.MK,payload:t})},S=function(e,t){return e({type:c.Cy,payload:t})},k=function(e,t){return e({type:c.Xm,payload:t})},C=function(e){return e({type:c._L,payload:null})}},1368:function(e,t,n){"use strict";n.d(t,{T2:function(){return p},eS:function(){return h},f0:function(){return f},ox:function(){return b},pL:function(){return g},xK:function(){return v}});var r=n(885),a=n(2982),o=n(4942),i=n(7294),c=n(7702);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createContext)();s.displayName="OrganizationContext";var m={organizations:[]},d=function(e,t){switch(t.type){case c.bW:return u(u({},e),{},{organizations:t.payload});case c.kK:return u(u({},e),{},{organizations:[].concat((0,a.Z)(e.organizations),[t.payload])});case c.u5:return u(u({},e),{},{organizations:e.organizations.filter((function(e){return e.id!==t.payload}))});case c.Ey:var n=t.payload,r=e.organizations.map((function(e){return e.id===n.id?n:e}));return u(u({},e),{},{organizations:r});default:throw new Error("Unhandled action type: ".concat(t.type))}};function f(e){var t=e.children,n=(0,i.useReducer)(d,m),a=(0,r.Z)(n,2),o=a[0],c=a[1],l=(0,i.useMemo)((function(){return[o,c]}),[o,c]);return i.createElement(s.Provider,{value:l},t)}var p=function(){var e=(0,i.useContext)(s);if(!e)throw new Error("useOrganizationController should be used inside the OrganizationContextProvider.");return e},h=function(e,t){return e({type:c.bW,payload:t})},g=function(e,t){return e({type:c.kK,payload:t})},b=function(e,t){return e({type:c.u5,payload:t})},v=function(e,t){return e({type:c.Ey,payload:t})}},930:function(e,t,n){"use strict";n.d(t,{EN:function(){return p},EO:function(){return f},al:function(){return d}});var r=n(885),a=n(4942),o=n(7294),i=n(7702);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.createContext)();u.displayName="RoleContext";var s={roles:[]},m=function(e,t){if(t.type===i.xO)return l(l({},e),{},{roles:t.payload});throw new Error("Unhandled action type: ".concat(t.type))};function d(e){var t=e.children,n=(0,o.useReducer)(m,s),a=(0,r.Z)(n,2),i=a[0],c=a[1],l=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(u.Provider,{value:l},t)}var f=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("useRoleController should be used inside the RoleContextProvider.");return e},p=function(e,t){return e({type:i.xO,payload:t})}},9326:function(e,t,n){"use strict";n.d(t,{XP:function(){return h},e:function(){return f},qT:function(){return p},rJ:function(){return d}});var r=n(885),a=n(4942),o=n(7294),i=n(7702);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.createContext)();u.displayName="ShiftContext";var s={shifts:[]},m=function(e,t){switch(t.type){case i.Gt:case i.oJ:return l(l({},e),{},{shifts:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function d(e){var t=e.children,n=(0,o.useReducer)(m,s),a=(0,r.Z)(n,2),i=a[0],c=a[1],l=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(u.Provider,{value:l},t)}var f=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("useShiftController should be used inside the ShiftContextProvider.");return e},p=function(e,t){return e({type:i.Gt,payload:t})},h=function(e,t){return e({type:i.oJ,payload:t})}},7073:function(e,t,n){"use strict";n.d(t,{OV:function(){return p},QP:function(){return g},Zk:function(){return b},p2:function(){return h},wT:function(){return d},xO:function(){return f}});var r=n(885),a=n(4942),o=n(7294),i=n(7702),c=n(7608);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,o.createContext)();s.displayName="SnackbarContext";var m=function(e,t){switch(t.type){case i.p9:return u(u({},e),{},{openSnackbar:!0,typeSnackbar:t.payload.typeSnackbar,messageSnackbar:t.payload.messageSnackbar,timeSnackbar:t.payload.timeSnackbar||3e3});case i.Xw:return u(u({},e),{},{openSnackbar:!1});case i.P_:return u(u({},e),{},{showLoading:!0});case i.Uf:return u(u({},e),{},{showLoading:!1});default:throw new Error("Unhandled action type: ".concat(t.type))}};function d(e){var t=e.children,n={openSnackbar:!1,typeSnackbar:c.GF,messageSnackbar:"Success",timeSnackbar:3e3,showLoading:!1},a=(0,o.useReducer)(m,n),i=(0,r.Z)(a,2),l=i[0],u=i[1],d=(0,o.useMemo)((function(){return[l,u]}),[l,u]);return o.createElement(s.Provider,{value:d},t)}var f=function(){var e=(0,o.useContext)(s);if(!e)throw new Error("useSnackbarController should be used inside the SnackbarContextProvider.");return e},p=function(e,t){var n=t.typeSnackbar,r=t.messageSnackbar,a=t.timeSnackbar;return e({type:i.p9,payload:{typeSnackbar:n,messageSnackbar:r,timeSnackbar:a}})},h=function(e){return e({type:i.Xw})},g=function(e){return e({type:i.P_})},b=function(e){return e({type:i.Uf})}},5403:function(e,t,n){"use strict";n.d(t,{Gp:function(){return p},hY:function(){return f},nI:function(){return h},su:function(){return d}});var r=n(885),a=n(4942),o=n(7294),i=n(7702);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.createContext)();u.displayName="TimeKeepingNotificationContext";var s={timeKeepingNotification:{id:0,lateTime:5,lateInWeek:5,lateInMonth:5,lateInQuarter:5,notificationMethod:{useEmail:!0,useOTT:!1,useRing:!1,useScreen:!1},startDayOfWeek:1,endDayOfWeek:5}},m=function(e,t){switch(t.type){case i.XO:case i.Q9:return l(l({},e),{},{timeKeepingNotification:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function d(e){var t=e.children,n=(0,o.useReducer)(m,s),a=(0,r.Z)(n,2),i=a[0],c=a[1],l=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(u.Provider,{value:l},t)}var f=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("useTimeKeepingNotificationController should be used inside the TimeKeepingNotificationContextProvider.");return e},p=function(e,t){return e({type:i.XO,payload:t})},h=function(e,t){return e({type:i.Q9,payload:t})}},2014:function(e,t,n){"use strict";n.d(t,{Pl:function(){return b},UU:function(){return g},cn:function(){return h},dr:function(){return f},fV:function(){return y},k7:function(){return p},qB:function(){return v}});var r=n(885),a=n(2982),o=n(4942),i=n(7294),c=n(7702);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createContext)();s.displayName="UserContext";var m={users:[],filter:{status:"Đang hoạt động"}},d=function(e,t){switch(t.type){case c.jN:return u(u({},e),{},{users:[].concat((0,a.Z)(e.users),[t.payload])});case c.GI:var n=t.payload,r=e.users.map((function(e){return e.id===n.id?n:e}));return u(u({},e),{},{users:r});case c.Hn:var o=e.users.map((function(e){return e.id===t.payload?u(u({},e),{},{status:"deleted"}):e}));return u(u({},e),{},{users:o});case c.rB:case c.Mz:return u(u({},e),{},{users:t.payload});case c.wV:var i=t.payload,l=e.users.map((function(e){return e.id===i.id?i:e}));return u(u({},e),{},{users:l});case c.JS:return u(u({},e),{},{filter:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function f(e){var t=e.children,n=(0,i.useReducer)(d,m),a=(0,r.Z)(n,2),o=a[0],c=a[1],l=(0,i.useMemo)((function(){return[o,c]}),[o,c]);return i.createElement(s.Provider,{value:l},t)}var p=function(){var e=(0,i.useContext)(s);if(!e)throw new Error("useUserController should be used inside the UserContextProvider.");return e},h=function(e,t){return e({type:c.jN,payload:t})},g=function(e,t){return e({type:c.Hn,payload:t})},b=function(e,t){return e({type:c.Mz,payload:t})},v=function(e,t){return e({type:c.wV,payload:t})},y=function(e,t){return e({type:c.JS,payload:t})}},6918:function(e,t,n){"use strict";n.d(t,{Bg:function(){return d},Go:function(){return p},_H:function(){return h},uH:function(){return f}});var r=n(885),a=n(4942),o=n(7294),i=n(7702);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.createContext)();u.displayName="UserLogContext";var s={userLogs:[],accountChoosed:null},m=function(e,t){switch(t.type){case i.l6:return l(l({},e),{},{userLogs:t.payload});case i.uw:return l(l({},e),{},{accountChoosed:t.payload});default:throw new Error("Unhandled action type: ".concat(t.type))}};function d(e){var t=e.children,n=(0,o.useReducer)(m,s),a=(0,r.Z)(n,2),i=a[0],c=a[1],l=(0,o.useMemo)((function(){return[i,c]}),[i,c]);return o.createElement(u.Provider,{value:l},t)}var f=function(){var e=(0,o.useContext)(u);if(!e)throw new Error("useUserLogController should be used inside the UserLogContextProvider.");return e},p=function(e,t){return e({type:i.l6,payload:t})},h=function(e,t){return e({type:i.uw,payload:t})}},4208:function(e,t,n){"use strict";var r=n(7294),a=n(3935),o=n(9711),i=n(885),c=n(6974),l=n(5974),u=n(6720),s=n(7462),m=n(5987),d=n(5697),f=n.n(d),p=n(2440),h=n(7720),g=n(6634),b=n(2895),v=n(9379),y=n(6334),E=n(799),Z=n(8885),x=n(9334),S=n(4942);var k=n(4218),C=["icon","name","active"];function w(e){var t=e.icon,n=e.name,a=e.active,o=(0,m.Z)(e,C),c=(0,k.Ad)(),l=(0,i.Z)(c,1)[0],u=l.miniSidenav,d=l.transparentSidenav,f=l.whiteSidenav,p=l.darkMode,h=l.sidenavColor;return r.createElement(E.ZP,{component:"li"},r.createElement(v.Z,(0,s.Z)({},o,{sx:function(e){return function(e,t){var n,r=e.palette,a=e.transitions,o=e.breakpoints,i=e.boxShadows,c=e.borders,l=e.functions,u=t.active,s=t.transparentSidenav,m=t.whiteSidenav,d=t.darkMode,f=t.sidenavColor,p=r.white,h=r.transparent,g=r.dark,b=r.grey,v=(r.gradients,i.md),y=c.borderRadius,E=l.pxToRem,Z=l.rgba;return l.linearGradient,n={background:u?f:h.main,color:s&&!d&&!u||m&&!u?g.main:p.main,display:"flex",alignItems:"center",width:"100%",padding:"".concat(E(8)," ").concat(E(10)),margin:"".concat(E(1.5)," ").concat(E(16)),borderRadius:y.md,cursor:"pointer",userSelect:"none",whiteSpace:"nowrap",boxShadow:!u||m||d||s?"none":v},(0,S.Z)(n,o.up("xl"),{transition:a.create(["box-shadow","background-color"],{easing:a.easing.easeInOut,duration:a.duration.shorter})}),(0,S.Z)(n,"&:hover, &:focus",{backgroundColor:function(){var e;return u||(e=s&&!d?b[300]:Z(m?b[400]:p.main,.2)),e}}),n}(e,{active:a,transparentSidenav:d,whiteSidenav:f,darkMode:p,sidenavColor:h})}}),r.createElement(Z.Z,{sx:function(e){return function(e,t){var n=e.palette,r=e.transitions,a=e.borders,o=e.functions,i=t.transparentSidenav,c=t.whiteSidenav,l=t.darkMode,u=t.active,s=n.white,m=n.dark,d=a.borderRadius,f=o.pxToRem;return{minWidth:f(32),minHeight:f(32),color:i&&!l&&!u||c&&!u?m.main:s.main,borderRadius:d.md,display:"grid",placeItems:"center",transition:r.create("margin",{easing:r.easing.easeInOut,duration:r.duration.standard}),"& svg, svg g":{color:i||c?m.main:s.main}}}(e,{transparentSidenav:d,whiteSidenav:f,darkMode:p,active:a})}},"string"==typeof t?r.createElement(b.Z,{sx:function(e){return function(e,t){var n=e.palette,r=n.white,a=n.gradients;return{color:t.active?r.main:a.dark.state}}(e,{active:a})}},t):t),r.createElement(x.Z,{primary:n,sx:function(e){return function(e,t){var n,r=e.typography,a=e.transitions,o=e.breakpoints,i=e.functions,c=t.miniSidenav,l=t.transparentSidenav,u=t.active,s=r.size,m=r.fontWeightRegular,d=r.fontWeightLight,f=i.pxToRem;return n={marginLeft:f(10)},(0,S.Z)(n,o.up("xl"),{opacity:c||c&&l?0:1,maxWidth:c||c&&l?0:"100%",marginLeft:c||c&&l?0:f(10),transition:a.create(["opacity","margin"],{easing:a.easing.easeInOut,duration:a.duration.standard})}),(0,S.Z)(n,"& span",{fontWeight:u?m:d,fontSize:s.sm,lineHeight:0}),n}(e,{miniSidenav:u,transparentSidenav:d,whiteSidenav:f,active:a})}})))}w.defaultProps={active:!1},w.propTypes={icon:f().node.isRequired,name:f().string.isRequired,active:f().bool};var O=w,P=n(2318),T=n(9602);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=(0,T.ZP)(P.ZP)((function(e){var t=e.theme,n=e.ownerState,r=t.palette,a=t.boxShadows,o=t.transitions,i=t.breakpoints,c=t.functions,l=n.transparentSidenav,u=n.whiteSidenav,s=n.miniSidenav,m=n.darkMode,d=r.transparent,f=r.gradients,p=r.white,h=r.background,g=a.xxl,b=c.pxToRem,v=c.linearGradient,y=m?h.sidenav:v(f.dark.main,f.dark.state);l?y=d.main:u&&(y=p.main);return{"& .MuiDrawer-paper":z({boxShadow:g,border:"none"},s?(0,S.Z)({background:y,transform:"translateX(".concat(b(-320),")"),transition:o.create("transform",{easing:o.easing.sharp,duration:o.duration.shorter})},i.up("xl"),{boxShadow:l?"none":g,marginBottom:l?0:"inherit",left:"0",width:b(96),overflowX:"hidden",transform:"translateX(0)",transition:o.create(["width","background-color"],{easing:o.easing.sharp,duration:o.duration.shorter})}):(0,S.Z)({background:y,transform:"translateX(0)",transition:o.create("transform",{easing:o.easing.sharp,duration:o.duration.shorter})},i.up("xl"),{boxShadow:l?"none":g,marginBottom:l?0:"inherit",left:"0",width:250,transform:"translateX(0)",transition:o.create(["width","background-color"],{easing:o.easing.sharp,duration:o.duration.enteringScreen})}))}}));var A=n(9941),R=n(7425),I=n(5092),D=n(5716),N=(0,T.ZP)((function(e){return r.createElement(A.Z,(0,s.Z)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){e.theme;return{background:"transparent",border:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&:has(.active)":{backgroundColor:"rgba(255, 255, 255, 0.2)"}}})),M=(0,T.ZP)((function(e){return r.createElement(R.Z,(0,s.Z)({expandIcon:r.createElement(D.Z,{sx:{color:"white"}})},e))}))((function(e){e.theme;return{padding:0,backgroundColor:"none",flexDirection:"row","& .MuiAccordionSummary-expandIconWrapper":{position:"absolute",right:"20px",color:"white",fontSize:"13px"},"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{margin:0},"&#panel1a-header-active .MuiBox-root.css-mvs481":{opacity:1,background:"rgba(255, 255, 255, 0.2)",color:"rgb(255, 255, 255)",display:"flex",alignItems:"center",width:"100%",padding:"0.5rem 1rem",margin:"0.09375rem 1rem",borderRadius:"0.375rem",cursor:"pointer",userSelect:"none",whiteSpace:"nowrap",boxShadow:"rgba(0, 0, 0, 0.1) 0rem 0.25rem 0.375rem -0.0625rem, rgba(0, 0, 0, 0.06) 0rem 0.125rem 0.25rem -0.0625rem"}}})),L=(0,T.ZP)(I.Z)((function(e){var t=e.theme;return{padding:"0 0 0 ".concat(t.spacing(2)),border:"none","& .active .MuiBox-root.css-mvs481":{opacity:1,background:"linear-gradient(195deg, #49a3f1, #1A73E8)",color:"#ffffff",display:"flex",alignItems:"center",width:"100%",padding:"0.5rem 0.625rem",margin:"0.09375rem 1rem",borderRadius:"0.375rem",cursor:"pointer",userSelect:"none",whiteSpace:"nowrap",boxShadow:"0rem 0.25rem 0.375rem -0.0625rem rgba(0, 0, 0, 0.1),0rem 0.125rem 0.25rem -0.0625rem rgba(0, 0, 0, 0.06)"}}}));var H=function(e){var t=e.name,n=e.icon,a=e.parentKey,i=e.collapseName,c=e.collapse,l=void 0===c?[]:c;return r.createElement(N,null,r.createElement(M,{"aria-controls":"panel1a-content",id:"panel1a-header".concat(a===i.toString().split("/")[0]?"-active":"")},r.createElement(O,{name:t,icon:n,active:a===i})),r.createElement(L,null,l.map((function(e){return r.createElement(o.OL,{key:e.key,to:e.route},r.createElement(O,{name:e.name,icon:e.icon,active:a===i}))}))))},U=n(8042),F=n(6982),V=["color","brand","brandName","routes"];function W(e){e.color;var t=e.brand,n=e.brandName,a=e.routes,l=(0,m.Z)(e,V),u=(0,k.Ad)(),d=(0,i.Z)(u,2),f=d[0],E=d[1],Z=(0,U.b3)(),x=(0,i.Z)(Z,1)[0],C=f.miniSidenav,w=f.transparentSidenav,P=f.whiteSidenav,T=f.darkMode,_=(f.sidenavColor,(0,c.TH)()),z=_.pathname.replace("/",""),A=(0,r.useState)(),R=(0,i.Z)(A,2),I=R[0],D=R[1],N="white";w||P&&!T?N="dark":P&&T&&(N="inherit");(0,r.useEffect)((function(){x.currentUser&&D(x.currentUser)}),[x.token]),(0,r.useEffect)((function(){function e(){(0,k.en)(E,window.innerWidth<1200),(0,k.wQ)(E,!(window.innerWidth<1200)&&w),(0,k.aC)(E,!(window.innerWidth<1200)&&P)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[E,_]);var M=a.map((function(e){var t,n=e.type,a=e.name,i=e.icon,c=e.title,l=e.noCollapse,u=e.key,s=e.href,m=e.route,d=e.collapse,f=e.roles;return f&&I&&!(0,F.nu)(I,f)?null:("collapse"===n?t=s?r.createElement(g.Z,{href:s,key:u,target:"_blank",rel:"noreferrer",sx:{textDecoration:"none"}},r.createElement(O,{name:a,icon:i,active:u===z,noCollapse:l})):d?r.createElement(H,{key:u,name:a,icon:i,parentKey:u,collapseName:z,collapse:d}):r.createElement(o.OL,{key:u,to:m},r.createElement(O,{name:a,icon:i,active:u===z})):"title"===n?t=C?r.createElement("div",null):r.createElement(y.Z,{key:u,color:N,display:"block",variant:"caption",fontWeight:"bold",textTransform:"uppercase",pl:3,mt:2,mb:1,ml:1},c):"divider"===n&&(t=r.createElement(h.Z,{key:u,light:!T&&!P&&!w||T&&!w&&P})),t)}));return r.createElement(j,(0,s.Z)({},l,{variant:"permanent",ownerState:{transparentSidenav:w,whiteSidenav:P,miniSidenav:C,darkMode:T}}),r.createElement(v.Z,{pt:3,pb:1,px:4,textAlign:"center"},r.createElement(v.Z,{display:{xs:"block",xl:"none"},position:"absolute",top:0,right:0,p:1.625,onClick:function(){return(0,k.en)(E,!0)},sx:{cursor:"pointer"}},r.createElement(y.Z,{variant:"h6",color:"secondary"},r.createElement(b.Z,{sx:{fontWeight:"bold"}},"close"))),r.createElement(v.Z,{component:o.OL,to:"/",display:"flex",alignItems:"center"},t&&r.createElement(v.Z,{component:"img",src:t,alt:"Brand",width:"2rem",borderRadius:"50px"}),r.createElement(v.Z,{width:"100%",sx:function(e){return function(e,t){var n=e.functions,r=e.transitions,a=e.typography,o=e.breakpoints,i=t.miniSidenav,c=n.pxToRem,l=a.fontWeightMedium;return(0,S.Z)({fontWeight:l,wordSpacing:c(-1),transition:r.create("opacity",{easing:r.easing.easeInOut,duration:r.duration.standard})},o.up("xl"),{opacity:i?0:1})}(e,{miniSidenav:C})}},r.createElement(y.Z,{component:"h6",variant:"button",fontWeight:"medium",color:N},n)))),r.createElement(h.Z,{light:!T&&!P&&!w||T&&!w&&P}),r.createElement(p.Z,null,M))}W.defaultProps={color:"info",brand:""},W.propTypes={color:f().oneOf(["primary","secondary","info","success","warning","error","dark"]),brand:f().string,brandName:f().string.isRequired,routes:f().arrayOf(f().object).isRequired};var B=W,Q=n(4345),G=n(5632),K=n(6741),q=n(2740),X=n(8670),J=n.n(X);var Y=function(e){return J()(e).rgb(0,0,0).join(", ")};var $=function(e,t){return"rgba(".concat(Y(e),", ").concat(t,")")},ee=n(8391);var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=(0,i.Z)(e,2),c=o[0],l=o[1],u=(0,i.Z)(t,2),s=u[0],m=u[1];return"".concat(a," ").concat((0,ee.Z)(c)," ").concat((0,ee.Z)(l)," ").concat((0,ee.Z)(s)," ").concat((0,ee.Z)(m)," ").concat($(n,r))},ne=G.Z.black,re=G.Z.white,ae=G.Z.tabs,oe=G.Z.coloredShadows,ie={xs:te([0,2],[9,-5],ne.main,.15),sm:te([0,5],[10,0],ne.main,.12),md:"".concat(te([0,4],[6,-1],ne.main,.1),", ").concat(te([0,2],[4,-1],ne.main,.06)),lg:"".concat(te([0,10],[15,-3],ne.main,.1),", ").concat(te([0,4],[6,-2],ne.main,.05)),xl:"".concat(te([0,20],[25,-5],ne.main,.1),", ").concat(te([0,10],[10,-5],ne.main,.04)),xxl:te([0,20],[27,0],ne.main,.05),inset:te([0,1],[2,0],ne.main,.075,"inset"),colored:{primary:"".concat(te([0,4],[20,0],ne.main,.14),", ").concat(te([0,7],[10,-5],oe.primary,.4)),secondary:"".concat(te([0,4],[20,0],ne.main,.14),", ").concat(te([0,7],[10,-5],oe.secondary,.4)),info:"".concat(te([0,4],[20,0],ne.main,.14),", ").concat(te([0,7],[10,-5],oe.info,.4)),success:"".concat(te([0,4],[20,0],ne.main,.14),", ").concat(te([0,7],[10,-5],oe.success,.4)),warning:"".concat(te([0,4],[20,0],ne.main,.14),", ").concat(te([0,7],[10,-5],oe.warning,.4)),error:"".concat(te([0,4],[20,0],ne.main,.14),", ").concat(te([0,7],[10,-5],oe.error,.4)),light:"".concat(te([0,4],[20,0],ne.main,.14),", ").concat(te([0,7],[10,-5],oe.light,.4)),dark:"".concat(te([0,4],[20,0],ne.main,.14),", ").concat(te([0,7],[10,-5],oe.dark,.4))},navbarBoxShadow:"".concat(te([0,0],[1,1],re.main,.9,"inset"),", ").concat(te([0,20],[27,0],ne.main,.05)),sliderBoxShadow:{thumb:te([0,1],[13,0],ne.main,.2)},tabsBoxShadow:{indicator:te([0,1],[5,1],ae.indicator.boxShadow,1)}},ce={borderColor:G.Z.grey[300],borderWidth:{0:0,1:(0,ee.Z)(1),2:(0,ee.Z)(2),3:(0,ee.Z)(3),4:(0,ee.Z)(4),5:(0,ee.Z)(5)},borderRadius:{xs:(0,ee.Z)(1.6),sm:(0,ee.Z)(2),md:(0,ee.Z)(6),lg:(0,ee.Z)(8),xl:(0,ee.Z)(12),xxl:(0,ee.Z)(16),section:(0,ee.Z)(160)}},le=G.Z.info,ue=G.Z.dark,se={html:{scrollBehavior:"smooth"},"*, *::before, *::after":{margin:0,padding:0},"a, a:link, a:visited":{textDecoration:"none !important"},"a.link, .link, a.link:link, .link:link, a.link:visited, .link:visited":{color:"".concat(ue.main," !important"),transition:"color 150ms ease-in !important"},"a.link:hover, .link:hover, a.link:focus, .link:focus":{color:"".concat(le.main," !important")}};var me=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:195;return"linear-gradient(".concat(n,"deg, ").concat(e,", ").concat(t,")")},de=G.Z.white,fe=ce.borderRadius,pe={styleOverrides:{root:{width:(0,ee.Z)(250),whiteSpace:"nowrap",border:"none"},paper:{width:(0,ee.Z)(250),backgroundColor:de.main,height:"calc(100vh - ".concat((0,ee.Z)(32),")"),margin:(0,ee.Z)(16),borderRadius:fe.xl,border:"none"},paperAnchorDockedLeft:{borderRight:"none"}}},he={styleOverrides:{padding:{paddingTop:0,paddingBottom:0}}},ge={defaultProps:{disableGutters:!0},styleOverrides:{root:{paddingTop:0,paddingBottom:0}}},be={styleOverrides:{root:{marginTop:0,marginBottom:0}}},ve=G.Z.black,ye=G.Z.white,Ee=ce.borderWidth,Ze=ce.borderRadius,xe=ie.md,Se={styleOverrides:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:0,wordWrap:"break-word",backgroundColor:ye.main,backgroundClip:"border-box",border:"".concat(Ee[0]," solid ").concat($(ve.main,.125)),borderRadius:Ze.xl,boxShadow:xe,overflow:"visible"}}},ke={styleOverrides:{root:{borderRadius:ce.borderRadius.xl,margin:"".concat((0,ee.Z)(16)," ").concat((0,ee.Z)(16)," 0")},media:{width:"auto"}}},Ce={styleOverrides:{root:{marginTop:0,marginBottom:0,padding:"".concat((0,ee.Z)(8)," ").concat((0,ee.Z)(24)," ").concat((0,ee.Z)(24))}}},we=q.Z.fontWeightBold,Oe=q.Z.size,Pe=ce.borderRadius,Te={display:"inline-flex",justifyContent:"center",alignItems:"center",fontSize:Oe.xs,fontWeight:we,borderRadius:Pe.lg,padding:"".concat((0,ee.Z)(6.302)," ").concat((0,ee.Z)(16.604)),lineHeight:1.4,textAlign:"center",textTransform:"uppercase",userSelect:"none",backgroundSize:"150% !important",backgroundPositionX:"25% !important",transition:"all 150ms ease-in","&:disabled":{pointerEvent:"none",opacity:.65},"& .material-icons":{fontSize:(0,ee.Z)(15),marginTop:(0,ee.Z)(-2)}},_e=G.Z.white,ze=G.Z.text,je=G.Z.info,Ae=G.Z.secondary,Re=q.Z.size,Ie={base:{backgroundColor:_e.main,minHeight:(0,ee.Z)(40),color:ze.main,padding:"".concat((0,ee.Z)(10)," ").concat((0,ee.Z)(24)),"&:hover":{backgroundColor:_e.main},"&:active, &:active:focus, &:active:hover":{opacity:.85},"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(16)," !important")}},small:{minHeight:(0,ee.Z)(32),padding:"".concat((0,ee.Z)(6)," ").concat((0,ee.Z)(16)),fontSize:Re.xs,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(12)," !important")}},large:{minHeight:(0,ee.Z)(47),padding:"".concat((0,ee.Z)(12)," ").concat((0,ee.Z)(28)),fontSize:Re.sm,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(22)," !important")}},primary:{backgroundColor:je.main,"&:hover":{backgroundColor:je.main},"&:focus:not(:hover)":{backgroundColor:je.focus}},secondary:{backgroundColor:Ae.main,"&:hover":{backgroundColor:Ae.main},"&:focus:not(:hover)":{backgroundColor:Ae.focus}}},De=G.Z.transparent,Ne=G.Z.light,Me=G.Z.info,Le=G.Z.secondary,He=q.Z.size,Ue={base:{minHeight:(0,ee.Z)(40),color:Ne.main,borderColor:Ne.main,padding:"".concat((0,ee.Z)(10)," ").concat((0,ee.Z)(24)),"&:hover":{opacity:.75,backgroundColor:De.main},"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(16)," !important")}},small:{minHeight:(0,ee.Z)(32),padding:"".concat((0,ee.Z)(6)," ").concat((0,ee.Z)(16)),fontSize:He.xs,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(12)," !important")}},large:{minHeight:(0,ee.Z)(47),padding:"".concat((0,ee.Z)(12)," ").concat((0,ee.Z)(28)),fontSize:He.sm,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(22)," !important")}},primary:{backgroundColor:De.main,borderColor:Me.main,"&:hover":{backgroundColor:De.main}},secondary:{backgroundColor:De.main,borderColor:Le.main,"&:hover":{backgroundColor:De.main}}},Fe=G.Z.text,Ve=G.Z.info,We=G.Z.secondary,Be=G.Z.transparent,Qe=q.Z.size,Ge={base:{backgroundColor:Be.main,minHeight:(0,ee.Z)(40),color:Fe.main,boxShadow:"none",padding:"".concat((0,ee.Z)(10)," ").concat((0,ee.Z)(24)),"&:hover":{backgroundColor:Be.main,boxShadow:"none"},"&:focus":{boxShadow:"none"},"&:active, &:active:focus, &:active:hover":{opacity:.85,boxShadow:"none"},"&:disabled":{boxShadow:"none"},"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(16)," !important")}},small:{minHeight:(0,ee.Z)(32),padding:"".concat((0,ee.Z)(6)," ").concat((0,ee.Z)(16)),fontSize:Qe.xs,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(12)," !important")}},large:{minHeight:(0,ee.Z)(47),padding:"".concat((0,ee.Z)(12)," ").concat((0,ee.Z)(28)),fontSize:Qe.sm,"& .material-icon, .material-icons-round, svg":{fontSize:"".concat((0,ee.Z)(22)," !important")}},primary:{color:Ve.main,"&:hover":{color:Ve.main},"&:focus:not(:hover)":{color:Ve.focus,boxShadow:"none"}},secondary:{color:We.main,"&:hover":{color:We.main},"&:focus:not(:hover)":{color:We.focus,boxShadow:"none"}}};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe,Je={defaultProps:{disableRipple:!1},styleOverrides:{root:qe({},Te),contained:qe({},Ie.base),containedSizeSmall:qe({},Ie.small),containedSizeLarge:qe({},Ie.large),containedPrimary:qe({},Ie.primary),containedSecondary:qe({},Ie.secondary),outlined:qe({},Ue.base),outlinedSizeSmall:qe({},Ue.small),outlinedSizeLarge:qe({},Ue.large),outlinedPrimary:qe({},Ue.primary),outlinedSecondary:qe({},Ue.secondary),text:qe({},Ge.base),textSizeSmall:qe({},Ge.small),textSizeLarge:qe({},Ge.large),textPrimary:qe({},Ge.primary),textSecondary:qe({},Ge.secondary)}},Ye={styleOverrides:{root:{"&:hover":{backgroundColor:G.Z.transparent.main}}}},$e=G.Z.info,et=G.Z.inputBorderColor,tt=G.Z.dark,nt=q.Z.size,rt=ce.borderWidth,at={styleOverrides:{root:{fontSize:nt.sm,color:tt.main,"&:hover:not(.Mui-disabled):before":{borderBottom:"".concat(rt[1]," solid ").concat(et)},"&:before":{borderColor:et},"&:after":{borderColor:$e.main}}}},ot=G.Z.text,it=G.Z.info,ct=q.Z.size,lt={styleOverrides:{root:{fontSize:ct.sm,color:ot.main,lineHeight:.9,"&.Mui-focused":{color:it.main},"&.MuiInputLabel-shrink":{lineHeight:1.5,fontSize:ct.md,"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend":{fontSize:"0.85em"}}},sizeSmall:{fontSize:ct.xs,lineHeight:1.625,"&.MuiInputLabel-shrink":{lineHeight:1.6,fontSize:ct.sm,"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend":{fontSize:"0.72em"}}}}},ut=G.Z.inputBorderColor,st=G.Z.info,mt=G.Z.grey,dt=G.Z.transparent,ft=ce.borderRadius,pt=q.Z.size,ht={styleOverrides:{root:{backgroundColor:dt.main,fontSize:pt.sm,borderRadius:ft.md,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ut},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:st.main}}},notchedOutline:{borderColor:ut},input:{color:mt[700],padding:(0,ee.Z)(12),backgroundColor:dt.main},inputSizeSmall:{fontSize:pt.xs,padding:(0,ee.Z)(10)},multiline:{color:mt[700],padding:0}}},gt={styleOverrides:{root:{backgroundColor:G.Z.transparent.main}}},bt=ie.lg,vt=q.Z.size,yt=G.Z.text,Et=G.Z.white,Zt=ce.borderRadius,xt={defaultProps:{disableAutoFocusItem:!0},styleOverrides:{paper:{minWidth:(0,ee.Z)(160),boxShadow:bt,padding:"".concat((0,ee.Z)(16)," ").concat((0,ee.Z)(8)),fontSize:vt.sm,color:yt.main,textAlign:"left",backgroundColor:"".concat(Et.main," !important"),borderRadius:Zt.md}}},St=G.Z.light,kt=G.Z.text,Ct=G.Z.dark,wt=ce.borderRadius,Ot=q.Z.size,Pt={styleOverrides:{root:{minWidth:(0,ee.Z)(160),minHeight:"unset",padding:"".concat((0,ee.Z)(4.8)," ").concat((0,ee.Z)(16)),borderRadius:wt.md,fontSize:Ot.sm,color:kt.main,transition:"background-color 300ms ease, color 300ms ease","&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus":{backgroundColor:St.main,color:Ct.main}}}},Tt=G.Z.white,_t=G.Z.gradients,zt=G.Z.grey,jt=G.Z.transparent,At=ce.borderWidth,Rt=ie.md,It={defaultProps:{disableRipple:!1},styleOverrides:{switchBase:{color:_t.dark.main,"&:hover":{backgroundColor:jt.main},"&.Mui-checked":{color:_t.dark.main,"&:hover":{backgroundColor:jt.main},"& .MuiSwitch-thumb":{borderColor:"".concat(_t.dark.main," !important")},"& + .MuiSwitch-track":{backgroundColor:"".concat(_t.dark.main," !important"),borderColor:"".concat(_t.dark.main," !important"),opacity:1}},"&.Mui-disabled + .MuiSwitch-track":{opacity:"0.3 !important"},"&.Mui-focusVisible .MuiSwitch-thumb":{backgroundImage:me(_t.info.main,_t.info.state)}},thumb:{backgroundColor:Tt.main,boxShadow:Rt,border:"".concat(At[1]," solid ").concat(zt[400])},track:{width:(0,ee.Z)(32),height:(0,ee.Z)(15),backgroundColor:zt[400],border:"".concat(At[1]," solid ").concat(zt[400]),opacity:1},checked:{}}},Dt=G.Z.dark,Nt=G.Z.transparent,Mt=G.Z.white,Lt={styleOverrides:{root:{backgroundColor:Nt.main,backgroundImage:"linear-gradient(to right, ".concat($(Dt.main,0),", ").concat($(Dt.main,.4),", ").concat($(Dt.main,0),") !important"),height:(0,ee.Z)(1),margin:"".concat((0,ee.Z)(16)," 0"),borderBottom:"none",opacity:.25},vertical:{backgroundColor:Nt.main,backgroundImage:"linear-gradient(to bottom, ".concat($(Dt.main,0),", ").concat($(Dt.main,.4),", ").concat($(Dt.main,0),") !important"),width:(0,ee.Z)(1),height:"100%",margin:"0 ".concat((0,ee.Z)(16)),borderRight:"none"},light:{backgroundColor:Nt.main,backgroundImage:"linear-gradient(to right, ".concat($(Mt.main,0),", ").concat(Mt.main,", ").concat($(Mt.main,0),") !important"),"&.MuiDivider-vertical":{backgroundImage:"linear-gradient(to bottom, ".concat($(Mt.main,0),", ").concat(Mt.main,", ").concat($(Mt.main,0),") !important")}}}},Ht=G.Z.white,Ut=ie.md,Ft=ce.borderRadius,Vt={styleOverrides:{root:{backgroundColor:Ht.main,boxShadow:Ut,borderRadius:Ft.xl}}},Wt=ce.borderRadius,Bt={styleOverrides:{root:{display:"block",padding:"".concat((0,ee.Z)(16)," ").concat((0,ee.Z)(16)," 0  ").concat((0,ee.Z)(16)),borderRadius:"".concat(Wt.xl," ").concat(Wt.xl," 0 0")}}},Qt=ce.borderWidth,Gt=G.Z.light,Kt={styleOverrides:{root:{padding:"".concat((0,ee.Z)(12)," ").concat((0,ee.Z)(16)),borderBottom:"".concat(Qt[1]," solid ").concat(Gt.main)}}},qt=ce.borderRadius,Xt=G.Z.light,Jt={styleOverrides:{root:{height:(0,ee.Z)(6),borderRadius:qt.md,overflow:"visible",position:"relative"},colorPrimary:{backgroundColor:Xt.main},colorSecondary:{backgroundColor:Xt.main},bar:{height:(0,ee.Z)(6),borderRadius:qt.sm,position:"absolute",transform:"translate(0, 0) !important",transition:"width 0.6s ease !important"}}},Yt=G.Z.grey,$t={styleOverrides:{li:{lineHeight:0},separator:{fontSize:q.Z.size.sm,color:Yt[600]}}},en=G.Z.grey,tn=G.Z.white,nn=G.Z.black,rn=G.Z.info,an=ce.borderRadius,on=ce.borderWidth,cn=ie.sliderBoxShadow,ln={styleOverrides:{root:{width:"100%","& .MuiSlider-active, & .Mui-focusVisible":{boxShadow:"none !important"},"& .MuiSlider-valueLabel":{color:nn.main}},rail:{height:(0,ee.Z)(2),background:en[200],borderRadius:an.sm,opacity:1},track:{background:rn.main,height:(0,ee.Z)(2),position:"relative",border:"none",borderRadius:an.lg,zIndex:1},thumb:{width:(0,ee.Z)(14),height:(0,ee.Z)(14),backgroundColor:tn.main,zIndex:10,boxShadow:cn.thumb,border:"".concat(on[1]," solid ").concat(rn.main),transition:"all 200ms linear","&:hover":{boxShadow:"none"},"&:active":{transform:"translate(-50%, -50%) scale(1.4)"},"&.Mui-active":{boxShadow:te([0,0],[0,14],rn.main,.16)}}}},un={styleOverrides:{root:{transition:"all 200ms ease-in-out"},rounded:{borderRadius:ce.borderRadius.lg}}},sn=n(6628),mn=G.Z.black,dn=G.Z.light,fn=q.Z.size,pn=q.Z.fontWeightRegular,hn=ce.borderRadius,gn={defaultProps:{arrow:!0,TransitionComponent:sn.Z},styleOverrides:{tooltip:{maxWidth:(0,ee.Z)(200),backgroundColor:mn.main,color:dn.main,fontSize:fn.sm,fontWeight:pn,textAlign:"center",borderRadius:hn.md,opacity:.7,padding:"".concat((0,ee.Z)(5)," ").concat((0,ee.Z)(8)," ").concat((0,ee.Z)(4))},arrow:{color:mn.main}}},bn={defaultProps:{color:"transparent"},styleOverrides:{root:{boxShadow:"none"}}},vn=G.Z.grey,yn=G.Z.white,En=ce.borderRadius,Zn=ie.tabsBoxShadow,xn={styleOverrides:{root:{position:"relative",backgroundColor:vn[100],borderRadius:En.xl,minHeight:"unset",padding:(0,ee.Z)(4)},flexContainer:{height:"100%",position:"relative",zIndex:10},fixed:{overflow:"unset !important",overflowX:"unset !important"},vertical:{"& .MuiTabs-indicator":{width:"100%"}},indicator:{height:"100%",borderRadius:En.lg,backgroundColor:yn.main,boxShadow:Zn.indicator,transition:"all 500ms ease"}}},Sn=q.Z.size,kn=q.Z.fontWeightRegular,Cn=ce.borderRadius,wn=G.Z.dark,On={styleOverrides:{root:{display:"flex",alignItems:"center",flexDirection:"row",flex:"1 1 auto",textAlign:"center",maxWidth:"unset !important",minWidth:"unset !important",minHeight:"unset !important",fontSize:Sn.md,fontWeight:kn,textTransform:"none",lineHeight:"inherit",padding:(0,ee.Z)(4),borderRadius:Cn.lg,color:"".concat(wn.main," !important"),opacity:"1 !important","& .material-icons, .material-icons-round":{marginBottom:"0 !important",marginRight:(0,ee.Z)(6)},"& svg":{marginBottom:"0 !important",marginRight:(0,ee.Z)(6)}},labelIcon:{paddingTop:(0,ee.Z)(4)}}},Pn=G.Z.transparent,Tn=G.Z.gradients,_n=ce.borderRadius,zn=ie.colored,jn={styleOverrides:{root:{background:me(Tn.info.main,Tn.info.state),padding:"".concat((0,ee.Z)(24)," 0 ").concat((0,ee.Z)(16)),borderRadius:_n.lg,boxShadow:zn.info,"&.MuiPaper-root":{backgroundColor:Pn.main}}}},An={styleOverrides:{root:{padding:"0 ".concat((0,ee.Z)(6))}}},Rn=G.Z.white,In=ce.borderWidth,Dn={styleOverrides:{root:{color:"#9fc9ff",transition:"all 200ms linear","&.Mui-active":{color:Rn.main},"&.Mui-completed":{color:Rn.main}},alternativeLabel:{top:"14%",left:"-50%",right:"50%"},line:{borderWidth:"".concat(In[2]," !important"),borderColor:"currentColor",opacity:.5}}},Nn=q.Z.size,Mn=q.Z.fontWeightRegular,Ln=G.Z.white,Hn={styleOverrides:{label:{marginTop:"".concat((0,ee.Z)(8)," !important"),fontWeight:Mn,fontSize:Nn.xs,color:"#9fc9ff",textTransform:"uppercase","&.Mui-active":{fontWeight:"".concat(Mn," !important"),color:"".concat($(Ln.main,.8)," !important")},"&.Mui-completed":{fontWeight:"".concat(Mn," !important"),color:"".concat($(Ln.main,.8)," !important")}}}},Un=G.Z.white,Fn={styleOverrides:{root:{background:"#9fc9ff",fill:"#9fc9ff",stroke:"#9fc9ff",strokeWidth:(0,ee.Z)(10),width:(0,ee.Z)(13),height:(0,ee.Z)(13),borderRadius:"50%",zIndex:99,transition:"all 200ms linear","&.Mui-active":{background:Un.main,fill:Un.main,stroke:Un.main,borderColor:Un.main,boxShadow:te([0,0],[0,2],Un.main,1)},"&.Mui-completed":{background:Un.main,fill:Un.main,stroke:Un.main,borderColor:Un.main,boxShadow:te([0,0],[0,2],Un.main,1)}}}},Vn=G.Z.transparent,Wn={styleOverrides:{select:{display:"grid",alignItems:"center",padding:"0 ".concat((0,ee.Z)(12)," !important"),"& .Mui-selected":{backgroundColor:Vn.main}},selectMenu:{background:"none",height:"none",minHeight:"none",overflow:"unset"},icon:{display:"none"}}},Bn=G.Z.dark,Qn=q.Z.size,Gn=q.Z.fontWeightBold,Kn={styleOverrides:{root:{display:"block",minHeight:(0,ee.Z)(24),marginBottom:(0,ee.Z)(2)},label:{display:"inline-block",fontSize:Qn.sm,fontWeight:Gn,color:Bn.main,lineHeight:1,transform:"translateY(".concat((0,ee.Z)(1),")"),marginLeft:(0,ee.Z)(4),"&.Mui-disabled":{color:Bn.main}}}},qn={styleOverrides:{root:{color:G.Z.text.main}}},Xn=ce.borderWidth,Jn=ce.borderColor,Yn=G.Z.transparent,$n=G.Z.info,er={styleOverrides:{root:{"& .MuiSvgIcon-root":{backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:(0,ee.Z)(20),height:(0,ee.Z)(20),color:Yn.main,border:"".concat(Xn[1]," solid ").concat(Jn),borderRadius:(0,ee.Z)(5.6)},"&:hover":{backgroundColor:Yn.main},"&.Mui-focusVisible":{border:"".concat(Xn[2]," solid ").concat($n.main," !important")}},colorPrimary:{color:Jn,"&.Mui-checked":{color:$n.main,"& .MuiSvgIcon-root":{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ".concat(me($n.main,$n.main)),borderColor:$n.main}}},colorSecondary:{color:Jn,"& .MuiSvgIcon-root":{color:$n.main,"&.Mui-checked":{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ".concat(me($n.main,$n.main)),borderColor:$n.main}}}}},tr=ce.borderWidth,nr=ce.borderColor,rr=G.Z.transparent,ar=G.Z.info,or={styleOverrides:{root:{"& .MuiSvgIcon-root":{width:(0,ee.Z)(20),height:(0,ee.Z)(20),color:rr.main,border:"".concat(tr[1]," solid ").concat(nr),borderRadius:"50%"},"&:after":{transition:"opacity 250ms ease-in-out",content:'""',position:"absolute",width:(0,ee.Z)(14),height:(0,ee.Z)(14),borderRadius:"50%",backgroundImage:me(ar.main,ar.main),opacity:0,left:0,right:0,top:0,bottom:0,margin:"auto"},"&:hover":{backgroundColor:rr.main},"&.Mui-focusVisible":{border:"".concat(tr[2]," solid ").concat(ar.main," !important")}},colorPrimary:{color:nr,"&.Mui-checked":{color:ar.main,"& .MuiSvgIcon-root":{borderColor:ar.main},"&:after":{opacity:1}}},colorSecondary:{color:nr,"&.Mui-checked":{color:ar.main,"& .MuiSvgIcon-root":{borderColor:ar.main},"&:after":{opacity:1}}}}},ir=ie.lg,cr=q.Z.size,lr=G.Z.text,ur=G.Z.white,sr=G.Z.transparent,mr=G.Z.light,dr=G.Z.dark,fr=G.Z.gradients,pr=ce.borderRadius,hr={styleOverrides:{popper:{boxShadow:ir,padding:(0,ee.Z)(8),fontSize:cr.sm,color:lr.main,textAlign:"left",backgroundColor:"".concat(ur.main," !important"),borderRadius:pr.md},paper:{boxShadow:"none",backgroundColor:sr.main},option:{padding:"".concat((0,ee.Z)(4.8)," ").concat((0,ee.Z)(16)),borderRadius:pr.md,fontSize:cr.sm,color:lr.main,transition:"background-color 300ms ease, color 300ms ease","&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus":{backgroundColor:mr.main,color:dr.main},'&[aria-selected="true"]':{backgroundColor:"".concat(mr.main," !important"),color:"".concat(dr.main," !important")}},noOptions:{fontSize:cr.sm,color:lr.main},groupLabel:{color:dr.main},loading:{fontSize:cr.sm,color:lr.main},tag:{display:"flex",alignItems:"center",height:"auto",padding:(0,ee.Z)(4),backgroundColor:fr.dark.state,color:ur.main,"& .MuiChip-label":{lineHeight:1.2,padding:"0 ".concat((0,ee.Z)(10)," 0 ").concat((0,ee.Z)(4))},"& .MuiSvgIcon-root, & .MuiSvgIcon-root:hover, & .MuiSvgIcon-root:focus":{color:ur.main,marginRight:0}}}};function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vr=K.Z.values,yr=vr.sm,Er=vr.md,Zr=vr.lg,xr=vr.xl,Sr=vr.xxl,kr="@media (min-width: ".concat(yr,"px)"),Cr="@media (min-width: ".concat(Er,"px)"),wr="@media (min-width: ".concat(Zr,"px)"),Or="@media (min-width: ".concat(xr,"px)"),Pr="@media (min-width: ".concat(Sr,"px)"),Tr={paddingRight:"".concat((0,ee.Z)(24)," !important"),paddingLeft:"".concat((0,ee.Z)(24)," !important"),marginRight:"auto !important",marginLeft:"auto !important",width:"100% !important",position:"relative"},_r=(Xe={},(0,S.Z)(Xe,kr,{".MuiContainer-root":br(br({},Tr),{},{maxWidth:"540px !important"})}),(0,S.Z)(Xe,Cr,{".MuiContainer-root":br(br({},Tr),{},{maxWidth:"720px !important"})}),(0,S.Z)(Xe,wr,{".MuiContainer-root":br(br({},Tr),{},{maxWidth:"960px !important"})}),(0,S.Z)(Xe,Or,{".MuiContainer-root":br(br({},Tr),{},{maxWidth:"1140px !important"})}),(0,S.Z)(Xe,Pr,{".MuiContainer-root":br(br({},Tr),{},{maxWidth:"1320px !important"})}),Xe),zr=G.Z.transparent,jr=ie.lg,Ar=ce.borderRadius,Rr={styleOverrides:{paper:{backgroundColor:zr.main,boxShadow:jr,padding:(0,ee.Z)(8),borderRadius:Ar.md}}},Ir={defaultProps:{disableRipple:!1}},Dr={defaultProps:{baseClassName:"material-icons-round",fontSize:"inherit"},styleOverrides:{fontSizeInherit:{fontSize:"inherit !important"},fontSizeSmall:{fontSize:"".concat((0,ee.Z)(20)," !important")},fontSizeLarge:{fontSize:"".concat((0,ee.Z)(36)," !important")}}},Nr={defaultProps:{fontSize:"inherit"},styleOverrides:{fontSizeInherit:{fontSize:"inherit !important"},fontSizeSmall:{fontSize:"".concat((0,ee.Z)(20)," !important")},fontSizeLarge:{fontSize:"".concat((0,ee.Z)(36)," !important")}}},Mr={defaultProps:{underline:"none",color:"inherit"}},Lr=ie.xxl,Hr={styleOverrides:{paper:{borderRadius:ce.borderRadius.lg,boxShadow:Lr},paperFullScreen:{borderRadius:0}}},Ur=q.Z.size,Fr={styleOverrides:{root:{padding:(0,ee.Z)(16),fontSize:Ur.xl}}},Vr=q.Z.size,Wr=G.Z.text,Br=ce.borderWidth,Qr=ce.borderColor,Gr={styleOverrides:{root:{padding:(0,ee.Z)(16),fontSize:Vr.md,color:Wr.main},dividers:{borderTop:"".concat(Br[1]," solid ").concat(Qr),borderBottom:"".concat(Br[1]," solid ").concat(Qr)}}},Kr=q.Z.size,qr=G.Z.text,Xr={styleOverrides:{root:{fontSize:Kr.md,color:qr.main}}},Jr={styleOverrides:{root:{padding:(0,ee.Z)(16)}}};function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ea=(0,Q.Z)({breakpoints:$r({},K.Z),palette:$r({},G.Z),typography:$r({},q.Z),boxShadows:$r({},ie),borders:$r({},ce),functions:{boxShadow:te,hexToRgb:Y,linearGradient:me,pxToRem:ee.Z,rgba:$},components:{MuiCssBaseline:{styleOverrides:$r($r({},se),_r)},MuiDrawer:$r({},pe),MuiList:$r({},he),MuiListItem:$r({},ge),MuiListItemText:$r({},be),MuiCard:$r({},Se),MuiCardMedia:$r({},ke),MuiCardContent:$r({},Ce),MuiButton:$r({},Je),MuiIconButton:$r({},Ye),MuiInput:$r({},at),MuiInputLabel:$r({},lt),MuiOutlinedInput:$r({},ht),MuiTextField:$r({},gt),MuiMenu:$r({},xt),MuiMenuItem:$r({},Pt),MuiSwitch:$r({},It),MuiDivider:$r({},Lt),MuiTableContainer:$r({},Vt),MuiTableHead:$r({},Bt),MuiTableCell:$r({},Kt),MuiLinearProgress:$r({},Jt),MuiBreadcrumbs:$r({},$t),MuiSlider:$r({},ln),MuiAvatar:$r({},un),MuiTooltip:$r({},gn),MuiAppBar:$r({},bn),MuiTabs:$r({},xn),MuiTab:$r({},On),MuiStepper:$r({},jn),MuiStep:$r({},An),MuiStepConnector:$r({},Dn),MuiStepLabel:$r({},Hn),MuiStepIcon:$r({},Fn),MuiSelect:$r({},Wn),MuiFormControlLabel:$r({},Kn),MuiFormLabel:$r({},qn),MuiCheckbox:$r({},er),MuiRadio:$r({},or),MuiAutocomplete:$r({},hr),MuiPopover:$r({},Rr),MuiButtonBase:$r({},Ir),MuiIcon:$r({},Dr),MuiSvgIcon:$r({},Nr),MuiLink:$r({},Mr),MuiDialog:$r({},Hr),MuiDialogTitle:$r({},Fr),MuiDialogContent:$r({},Gr),MuiDialogContentText:$r({},Xr),MuiDialogActions:$r({},Jr)}}),ta=n(878),na=n(9986),ra=n(2288),aa=n(7073);function oa(){var e=(0,aa.xO)(),t=(0,i.Z)(e,2),n=t[0],a=t[1];return r.createElement(na.Z,{open:n.openSnackbar,autoHideDuration:n.timeSnackbar,onClose:function(){return(0,aa.p2)(a)},anchorOrigin:{vertical:"top",horizontal:"right"}},r.createElement(ra.Z,{onClose:function(){return(0,aa.p2)(a)},severity:n.typeSnackbar,sx:{width:"100%",border:"1px solid grey",borderRadius:2}},n.messageSnackbar))}var ia=n(7721),ca=n(7794),la=n(5725),ua=n(9062);function sa(){var e=(0,aa.xO)(),t=(0,i.Z)(e,2),n=t[0],a=t[1];return r.createElement(ca.Z,{open:n.showLoading,onClose:function(){return(0,aa.Zk)(a)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},r.createElement(v.Z,{px:1,width:"100%",height:"100vh",mx:"auto",key:"loading"},r.createElement(la.ZP,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",height:"100%"},r.createElement(ua.Z,{style:{color:"white"}}))))}function ma(){return r.createElement("div",{className:"container-spinner"},r.createElement("div",{className:"spinner"}))}function da(){var e=(0,k.Ad)(),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,U.b3)(),s=(0,i.Z)(o,2)[1],m=n.miniSidenav,d=n.direction,f=n.sidenavColor,p=n.layout,h=(0,r.useState)(!1),g=(0,i.Z)(h,2),b=g[0],v=g[1],y=(0,c.TH)().pathname,E=(0,r.useState)(),Z=(0,i.Z)(E,2),x=Z[0],S=Z[1],C=(0,c.s0)();(0,r.useEffect)((function(){document.body.setAttribute("dir",d)}),[d]),(0,r.useEffect)((function(){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0}),[y]),(0,r.useEffect)((function(){var e=localStorage.getItem("currentUser");null===e&&y===ia.T5||(e?((0,U.Vh)(s,JSON.parse(e)),S(JSON.parse(e).user)):C(ia.vf))}),[]);return r.createElement(r.Suspense,{fallback:r.createElement(ma,null)},r.createElement(l.Z,{theme:ea},r.createElement(u.ZP,null),"dashboard"===p&&r.createElement(B,{color:f,brandName:"Hệ thống GSTTAN",routes:ta._,onMouseEnter:function(){m&&!b&&((0,k.en)(a,!1),v(!0))},onMouseLeave:function(){b&&((0,k.en)(a,!0),v(!1))}}),r.createElement(oa,null),r.createElement(sa,null),r.createElement(c.Z5,null,function e(t){return t.map((function(t){return x&&t.roles&&!(0,F.nu)(x,t.roles)?null:t.collapse?e(t.collapse):t.route?r.createElement(c.AW,{path:t.route,element:t.component,key:t.key}):null}))}(ta._),r.createElement(c.AW,{path:"/",element:r.createElement(c.Fg,{to:ia.Oc})}),";",r.createElement(c.AW,{path:"*",element:r.createElement(c.Fg,{to:ia.vf})}),";")))}var fa=function(e){e&&e instanceof Function&&n.e(131).then(n.bind(n,2131)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))},pa=n(5403),ha=n(5878),ga=n(1967),ba=n(4945),va=n(8669),ya=n(5740),Ea=n(7502),Za=n(436),xa=n(1368),Sa=n(930),ka=n(9326),Ca=n(6918),wa=n(2014),Oa=n(5396),Pa=n(6839),Ta=[k.wM,U.s7,aa.wT,pa.su,ha.d6,ga.hK,ba.X,va.sN,ya.DM,Ea.vR,Za.aq,xa.f0,Sa.al,ka.rJ,wa.dr,Ca.Bg,Oa.kX,Pa.VS],_a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return function(n){var a=n.children;return r.createElement(e,null,r.createElement(t,null,a))}}),(function(e){var t=e.children;return r.createElement(r.Fragment,null,t)}))}.apply(void 0,Ta);a.render(r.createElement(o.VK,null,r.createElement(_a,null,r.createElement(da,null))),document.getElementById("root")),fa()},4956:function(e,t,n){"use strict";n.d(t,{EY:function(){return g},_0:function(){return p},kW:function(){return d},qu:function(){return h},tM:function(){return f}});var r=n(5861),a=n(4687),o=n.n(a),i=n(9669),c=n.n(i),l=n(588),u=n(2862),s=n(7608),m=n(7622),d=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,d,f,p,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.page,a=t.size,i=t.search,d=t.cameraIds,f=t.areaRestrictionId,p=t.locationId,h=t.status,e.abrupt("return",c().get((0,u.fP)(r,a,i||"",d,f,p,h),(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{data:e.data.cameras.map((function(e){return(0,m.J)(e)})),pageCount:e.data.total_pages,itemCount:e.data.total_items}}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.name,a=t.ipAddress,i=t.locationId,d=t.type,f=t.areaRestrictionId,e.abrupt("return",c().post(u.Mg,{name:r,ip_address:a,location_id:i,type:d,area_restriction_id:f},(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,m.J)(e.data.camera)}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,d,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,a=t.name,i=t.ipAddress,d=t.locationId,f=t.type,p=t.areaRestrictionId,e.abrupt("return",c().put((0,u.__)(r),{name:a,ip_address:i,location_id:d,type:f,area_restriction_id:p},(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,m.J)(e.data.camera)}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,e.abrupt("return",c().delete((0,u.WX)(r),(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,a=t.polygons,e.abrupt("return",c().put((0,u.Uo)(r),{polygons:a},(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1598:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(7294),a=n(5641),o=n(9379),i=n(3904),c=n.p+"images/video_background.f5e1fabb.jpg";function l(e){var t=e.handlePlay,n=e.handlePause,l=e.children,u=e.imageData,s=e.pause,m=e.cameraName;return r.createElement(o.Z,null,l,r.createElement(o.Z,{style:{width:"100%",aspectRatio:"16/9",cursor:"pointer",position:"relative"},onClick:n},null!==u&&r.createElement("img",{src:u,alt:"",width:"100%",height:"100%",style:{borderRadius:"10px",aspectRatio:"16/9"}}),s&&r.createElement(o.Z,{style:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}},r.createElement(o.Z,{style:{position:"relative",width:"100%",height:"100%"}},r.createElement(a.Z,{src:c,alt:"",style:{borderRadius:"10px",width:"100%",height:"100%"}}),r.createElement(i.Z,{style:{position:"absolute",top:"40%",left:"40%",width:"20%",height:"20%",color:"white"},onClick:t}))),r.createElement(o.Z,{style:{position:"absolute",bottom:"13px",left:"45px",fontWeight:"700",color:"#ffffff",fontSize:"26px",zIndex:1e3,textShadow:"1px 0px 1px #CCCCCC, 0px 1px 1px #EEEEEE, 0px 0px 100px rgba(0,0,0,0.5)"}},m)))}l.defaultProps={children:r.createElement("div",null),handleClose:function(){}};var u=l},9678:function(e,t,n){"use strict";n.d(t,{am:function(){return d},lD:function(){return m},oB:function(){return f}});var r=n(5861),a=n(4687),o=n.n(a),i=n(588),c=n(9669),l=n.n(c),u=n(7608),s=n(2862),m=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,e.abrupt("return",l().get(s.x1,(0,i.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{numberCheckIn:e.data.number_check_in,numberLateTime:e.data.number_late_time,numberLateIn:e.data.number_late_in}}:{messageError:e.data.message,data:null}:{messageError:u.CA,data:null}})).catch((function(e){return console.log(e),{messageError:u.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,e.abrupt("return",l().get(s.W1,(0,i.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{numberAreaRestrictionWarning:e.data.number_area_restriction_warning,numberNotificationInDay:e.data.number_notification_in_day,numberNotificationNotResolve:e.data.number_notification_not_resolve,numberNotificationNotResolveUsingRing:e.data.number_notification_not_resolve_using_ring}}:{messageError:e.data.message,data:null}:{messageError:u.CA,data:null}})).catch((function(e){return console.log(e),{messageError:u.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,c,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.avatar,a=t.name,c=t.phone,m=t.email,e.abrupt("return",l().post(s.jQ,{avatar:r,name:a,phone:c,email:m},(0,i.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:e.data.guest}:{messageError:e.data.message,data:null}:{messageError:u.CA,data:null}})).catch((function(e){return console.log(e),{messageError:u.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},3918:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(885),a=n(9379),o=n(6334),i=n(9928),c=n(7294),l=n(436),u=n(4675),s=n(2895),m=n(7794),d=n(5725),f=n(6867),p=n(2862),h=n(1598),g=n(7294);var b=function(e){var t=e.handleClose,n=e.cameraId,o=e.cameraTaken,i=e.cameraName,l=(0,c.useState)(null),u=(0,r.Z)(l,2),m=u[0],b=u[1],v=(0,c.useState)(!1),y=(0,r.Z)(v,2),E=y[0],Z=y[1];return g.createElement(a.Z,{px:1,width:"100%",height:"100vh",mx:"auto"},g.createElement(d.ZP,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",height:"100%"},g.createElement(d.ZP,{item:!0,xs:11,sm:9,md:7,lg:7,xl:7,position:"relative"},g.createElement(h.Z,{handlePlay:function(e){e.stopPropagation(),Z(!1),b(null!==n?"".concat(p.w4,":").concat(o,"/bgr/").concat(n):null)},handlePause:function(e){e.stopPropagation(),Z(!0)},pause:E,imageData:m,cameraName:i,handleClose:t},g.createElement(f.Z,{size:"small","aria-label":"close",color:"inherit",onClick:function(e){e.stopPropagation(),t()},style:{position:"absolute",right:10,top:15,zIndex:1}},g.createElement(s.Z,{fontSize:"large",color:"secondary"},"close"))))))};function v(e){var t=e.item,n=e.children,d=(0,c.useState)(t.isControlled),f=(0,r.Z)(d,2),p=f[0],h=f[1],g=(0,c.useState)(!1),v=(0,r.Z)(g,2),y=v[0],E=v[1],Z=function(){E(!1)},x=(0,l.P6)(),S=(0,r.Z)(x,2),k=S[0],C=S[1];(0,c.useEffect)((function(){t.isControlled!==p&&h(t.isControlled)}),[t]);var w,O,P,T;return c.createElement(a.Z,{mt:2,mb:5},c.createElement(i.Z,{image:t.image,image2:t.employeeImage,title:c.createElement(o.Z,null,"Unknown"===t.employeeName?"Người lạ":"Họ và tên: ".concat(t.employeeName)),description:c.createElement(c.Fragment,null,c.createElement(o.Z,{color:"inherit",fontSize:14},"Thời gian: ",t.time.split(" ")[1]),c.createElement(o.Z,{color:"inherit",fontSize:14},"Ngày: ",t.time.split(" ")[0]),c.createElement(o.Z,{color:"inherit",fontSize:14},"Loại cảnh báo: ",t.type),c.createElement(o.Z,{color:"inherit",fontSize:14},"Khu vực hạn chế: ",t.areaRestrictionName),c.createElement(o.Z,{color:"inherit",fontSize:14},"Camera: ",t.cameraName),c.createElement(o.Z,{color:"inherit",fontSize:14},c.createElement(u.Z,{variant:"text",color:"success",style:{padding:0},onClick:function(e){e.stopPropagation(),E(!0)}},c.createElement(s.Z,null,"videocam")," Xem camera")),c.createElement(o.Z,{color:"inherit",fontSize:14},"Tình trạng: ",p?"Đã xử lý":"Chưa xử lý")),handleClick:function(){(0,l.aR)(C,t)},customeStyle:{border:p?"none":"2px solid red",margin:"8px"}},n),c.createElement(m.Z,{open:y,onClose:Z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},c.createElement(c.Fragment,null,(w=Z,c.createElement(b,{handleClose:w,cameraName:null===(O=k.userAttendanceChoosed)||void 0===O?void 0:O.cameraName,cameraId:null===(P=k.userAttendanceChoosed)||void 0===P?void 0:P.cameraId,cameraTaken:null===(T=k.userAttendanceChoosed)||void 0===T?void 0:T.cameraTaken})))))}},3334:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(2982),a=n(5861),o=n(885),i=n(4687),c=n.n(i),l=n(7294),u=n(9379),s=n(3918),m=n(9539),d=n.n(m),f=n(5331),p=n(7462),h=n(5987),g=n(1508),b=n(3720),v=n(9666),y=n(2640),E=n(5697),Z=n.n(E),x=n(6638),S=n(6799),k=n(9560),C=["children","value","index"];function w(e){var t=e.children,n=e.value,r=e.index,a=(0,h.Z)(e,C);return l.createElement("div",(0,p.Z)({role:"tabpanel",hidden:n!==r,id:"a11y-tabpanel-".concat(r),"aria-labelledby":"a11y-tab-".concat(r)},a),n===r&&l.createElement(g.Z,{p:2},t))}function O(e){var t=e.labelId,n=e.onChange,r=e.selectionFollowsFocus,a=e.value,o=document.documentElement.clientWidth;return l.createElement(b.Z,{position:"static"},l.createElement(v.Z,{"aria-labelledby":t,onChange:n,selectionFollowsFocus:r,value:a},o>1350?l.createElement(y.Z,{label:"Tất cả","aria-controls":"a11y-tabpanel-0",id:"a11y-tab-0",icon:l.createElement(x.Z,null)}):l.createElement(y.Z,{label:"","aria-controls":"a11y-tabpanel-0",id:"a11y-tab-0",icon:l.createElement(x.Z,null)}),l.createElement(y.Z,{label:"Người lạ","aria-controls":"a11y-tabpanel-1",id:"a11y-tab-1",icon:l.createElement(S.Z,null)}),l.createElement(y.Z,{label:"Nhân viên","aria-controls":"a11y-tabpanel-2",id:"a11y-tab-2",icon:l.createElement(k.Z,null)})))}w.propTypes={children:Z().node,index:Z().number.isRequired,value:Z().number.isRequired},O.propTypes={labelId:Z().string.isRequired,onChange:Z().func.isRequired,selectionFollowsFocus:Z().bool,value:Z().number.isRequired};var P=n(9792),T=n(8317),_=n(4281),z=n(8042),j=n(436),A=n(8533),R=n(9062),I=n(4218),D=n(7608);function N(){var e=l.useState(0),t=(0,o.Z)(e,2),n=t[0],i=t[1],m=(0,l.useState)([]),p=(0,o.Z)(m,2),h=p[0],g=p[1],b=(0,l.useState)(0),v=(0,o.Z)(b,2),y=v[0],E=v[1],Z=(0,l.useState)(0),x=(0,o.Z)(Z,2),S=x[0],k=x[1],C=(0,I.Ad)(),N=(0,o.Z)(C,2),M=(N[0],N[1],(0,j.P6)()),L=(0,o.Z)(M,2),H=L[0],U=L[1],F=(0,z.b3)(),V=(0,o.Z)(F,1)[0],W=function(e){var t=(0,l.useState)(new Audio(e)),n=(0,o.Z)(t,1)[0],r=(0,l.useState)(!1),i=(0,o.Z)(r,2),u=i[0],s=i[1],m=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,n.play();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){return n.addEventListener("ended",(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pause(),e.next=3,n.play();case 3:case"end":return e.stop()}}),e)})))),function(){n.removeEventListener("ended",(function(){return s(!1)}))}}),[]),[u,m,function(){s(!1),n.pause()}]}(D.Tn),B=(0,o.Z)(W,3),Q=(B[0],B[1]),G=B[2],K=(0,l.useState)(!1),q=(0,o.Z)(K,2),X=q[0],J=q[1];(0,l.useEffect)((function(){H.hasNotificationAudio?J(!0):J(!1)}),[H.hasNotificationAudio]),(0,l.useEffect)((0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H.isAudioOn||!X){e.next=5;break}return e.next=3,Q();case 3:e.next=7;break;case 5:return e.next=7,G();case 7:case"end":return e.stop()}}),e)}))),[H.isAudioOn,X]),(0,l.useEffect)((0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V.token){e.next=3;break}return e.next=3,Y(0,10,null,!0);case 3:case"end":return e.stop()}}),e)}))),[V.token]),(0,l.useEffect)((function(){H.userAttendanceItems&&g(H.userAttendanceItems)}),[H.userAttendanceItems]);var Y=function(){var e=(0,a.Z)(c().mark((function e(t,n,a,o){var i,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.F)({token:V.token,page:t,size:n,timeStart:(0,_.g9)((0,_.RV)("00:00:00")),timeEnd:(0,_.g9)((0,_.RV)("23:59:59")),hasEmployee:a});case 2:null!==(i=e.sent).data&&(l=i.data.data.map((function(e){return(0,f.c)(e,V.currentUser.location.id)})),u=o?l:[].concat((0,r.Z)(H.userAttendanceItems),(0,r.Z)(l)),(0,j.$9)(U,u),k(i.data.pageCount));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.Z)(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(n),E(0),e.next=4,Y(0,10,0===n?null:2===n,!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){return l.createElement("div",{id:"scrollableDiv",style:{height:"52vh",overflowY:"auto",overflowX:"hidden"}},l.createElement(A.Z,{dataLength:h.length,next:(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(t=y+1),e.next=4,Y(t,10,0===n?null:2===n,!1);case 4:case"end":return e.stop()}}),e)}))),hasMore:y<S-1,loader:l.createElement(u.Z,null,l.createElement(R.Z,{color:"info"})),scrollableTarget:"scrollableDiv",style:{overflow:"unset"}},h.map((function(e,t){return e.isControlled?l.createElement(s.Z,{item:e,key:"".concat(e.employeeName,"_").concat(e.time,"_").concat(t)}):l.createElement(d(),{forever:!0,key:"".concat(e.employeeName,"_").concat(e.time,"_").concat(t)},l.createElement(s.Z,{item:e}))}))))};return l.createElement(u.Z,{style:{background:"DEE2E8",boxShadow:"0px 2px 6px rgb(0 0 0 / 25%)"}},l.createElement(u.Z,null,l.createElement(P.Z,{label:"Tìm kiếm",style:{margin:"10px",width:"-webkit-fill-available"}})),l.createElement(u.Z,null,l.createElement(O,{labelId:"demo-a11y-tabs-automatic-label",selectionFollowsFocus:!0,onChange:$,value:n}),l.createElement(u.Z,{style:{position:"sticky"}},l.createElement(w,{value:n,index:0},ee()),l.createElement(w,{value:n,index:1},ee()),l.createElement(w,{value:n,index:2},ee()))))}},2792:function(e,t,n){"use strict";n.d(t,{N:function(){return d}});var r=n(5861),a=n(4687),o=n.n(a),i=n(9669),c=n.n(i),l=n(588),u=n(2862),s=n(7608),m=function(e){return{id:e.id,name:e.name,description:e.description,roles:e.roles,numberAccount:e.number_account,numberOrganization:e.number_organization}},d=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c().get(u.f6,(0,l.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:e.data.features.map((function(e){return m(e)}))}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},8043:function(e,t,n){"use strict";n.d(t,{DY:function(){return h},Xx:function(){return f},wk:function(){return p},z1:function(){return d}});var r=n(5861),a=n(4687),o=n.n(a),i=n(9669),c=n.n(i),l=n(588),u=n(2862),s=n(7608),m=n(4596),d=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.page,a=t.size,i=t.search,e.abrupt("return",c().get((0,u.JU)(r,a,i||""),(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{data:e.data.locations.map((function(e){return(0,m.K)(e)})),pageCount:e.data.total_pages,itemCount:e.data.total_items}}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.name,a=t.code,i=t.type,e.abrupt("return",c().post(u.u$,{name:r,code:a,type:i},(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,m.K)(e.data.location)}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,a=t.name,i=t.code,d=t.type,e.abrupt("return",c().put((0,u._0)(r),{name:a,code:i,type:d},(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,m.K)(e.data.location)}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,e.abrupt("return",c().delete((0,u.lR)(r),(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},8317:function(e,t,n){"use strict";n.d(t,{F:function(){return g}});var r=n(5861),a=n(4687),o=n.n(a),i=n(9669),c=n.n(i),l=n(588),u=n(2862),s=n(7608),m=n(7622),d=n(3877),f=n(4513),p=n(1492),h=function(e){return{id:e.id,type:e.type,time:e.time,camera:e.camera?(0,m.J)(e.camera):null,employee:e.employee?(0,d.j)(e.employee):null,image:e.image?(0,f.m)(e.image):null,status:e.status,notificationMethod:e.notification_method?(0,p.V)(e.notification_method):null}},g=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,m,d,f,p,g,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.page,a=t.size,i=t.timeStart,m=t.timeEnd,d=t.hasEmployee,f=t.areaRestrictionId,p=t.employeeId,g=t.status,b=(0,u.Ao)(r,a),i&&m&&(b+="&time_start=".concat(i,"&time_end=").concat(m)),null!=d&&(b+="&has_employee=".concat(d)),f&&(b+="&area_restriction_ids=".concat(f)),p&&(b+="&employee_ids=".concat(p)),g&&(b+="&status=".concat(g)),e.abrupt("return",c().get(b,(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{data:e.data.histories.map((function(e){return h(e)})),pageCount:e.data.total_pages,itemCount:e.data.total_items}}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},5963:function(e,t,n){"use strict";n.d(t,{Hm:function(){return f},Z:function(){return h},fC:function(){return d},v$:function(){return p}});var r=n(5861),a=n(4687),o=n.n(a),i=n(9669),c=n.n(i),l=n(588),u=n(2862),s=n(7608),m=n(5034),d=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c().get(u.RF,(0,l.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:e.data.organizations.map((function(e){return(0,m.K)(e)}))}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.name,a=t.email,i=t.phone,d=t.description,e.abrupt("return",c().post(u.J$,{name:r,email:a,phone:i,description:d},(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,m.K)(e.data.organization)}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,e.abrupt("return",c().delete((0,u.t4)(r),(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,a=t.name,i=t.email,d=t.phone,f=t.description,e.abrupt("return",c().put((0,u.GC)(r),{name:a,email:i,phone:d,description:f},(0,l.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,m.K)(e.data.organization)}:{messageError:e.data.message,data:null}:{messageError:s.CA,data:null}})).catch((function(e){return console.log(e),{messageError:s.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},4607:function(e,t,n){"use strict";n.d(t,{H6:function(){return p},Ix:function(){return b},M4:function(){return v},Q3:function(){return g},SJ:function(){return d},lK:function(){return f},rN:function(){return h}});var r=n(5861),a=n(4687),o=n.n(a),i=n(9669),c=n.n(i),l=n(2862),u=n(588),s=n(7246),m=n(7608),d=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.status,e.abrupt("return",c().get((0,l.h1)(r),(0,u.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:e.data.users.map((function(e){return(0,s.J)(e)}))}:{messageError:e.data.message,data:null}:{messageError:m.CA,data:null}})).catch((function(e){return console.log(e),{messageError:m.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c().get(l.zf,(0,u.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:e.data.roles}:{messageError:e.data.message,data:null}:{messageError:m.CA,data:null}})).catch((function(e){return console.log(e),{messageError:m.CA,data:null}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,d,f,p,h,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.userId,a=t.file,i=t.fullName,d=t.email,f=t.organizationId,p=t.locationId,h=t.roles,(g=new FormData).append("file",a),g.append("fullname",i),g.append("user_id",r.toString()),g.append("email",d),g.append("organization_id",f.toString()),g.append("location_id",p.toString()),g.append("roles",h),e.abrupt("return",c().put((0,l.pV)(r),g,(0,u.g)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,s.J)(e.data.user)}:{messageError:e.data.message,data:null}:{messageError:m.CA,data:null}})).catch((function(e){return console.log(e),{messageError:m.CA,data:null}})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,d,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.fullName,a=t.email,i=t.roles,d=t.organizationId,f=t.locationId,e.abrupt("return",c().post(l.o0,{fullname:r,email:a,roles:i,organization_id:d,location_id:f},(0,u.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,s.J)(e.data.user)}:{messageError:e.data.message,data:null}:{messageError:m.CA,data:null}})).catch((function(e){return console.log(e),{messageError:m.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,e.abrupt("return",c().delete((0,l.jm)(r),(0,u.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:m.CA,data:null}})).catch((function(e){return console.log(e),{messageError:m.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return c().get(l.Tb,(0,u.p)(e)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:e.data.number_account}:{messageError:e.data.message,data:null}:{messageError:m.CA,data:null}})).catch((function(e){return console.log(e),{messageError:m.CA,data:null}}))},v=function(e){var t=e.token,n=e.id;return c().post((0,l.$Z)(n),(0,u.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:m.CA,data:null}})).catch((function(e){return console.log(e),{messageError:m.CA,data:null}}))}},4286:function(e,t,n){"use strict";n.d(t,{C:function(){return r},G:function(){return a}});var r=function(e){return{id:e.id,areaName:e.name,areaCode:e.code,personnelAllowedInOut:e.number_employee_allow,personnelInCharge:e.managers,timeStart:e.time_start,timeEnd:e.time_end,numberCamera:e.number_camera,numberOfAlertsForTheDay:e.number_notification,employeeAreaRestrictions:e.employeeAreaRestrictions}},a=function(e){return{name:e.areaName,code:e.areaCode,manager_ids:e.personnelInCharge.map((function(e){return e.id})),time_start:e.timeStart,time_end:e.timeEnd}}},7622:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(4596),a=n(4286),o=function(e){return{id:e.id,name:e.name,location:e.location?(0,r.K)(e.location):null,areaRestriction:e.area_restriction?(0,a.C)(e.area_restriction):null,ipAddress:e.ip_address,type:e.type,status:e.status,taken:e.taken}}},3877:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(4513),a=n(41),o=n(4286),i=function e(t){return{id:t.id,name:t.name,code:t.code,phone:t.phone,email:t.email,image:t.image?(0,r.m)(t.image):null,shifts:t.shifts?t.shifts.map((function(e){return(0,a.z)(e)})):[],areaEmployees:t.area_employees?t.area_employees.map((function(e){return function(e){return{id:e.id,areaRestriction:(0,o.C)(e.area_restriction),timeStart:e.time_start,timeEnd:e.time_end}}(e)})):[],manager:t.manager?{id:t.manager.id,name:t.manager.name,code:t.manager.code,phone:t.manager.phone,email:t.manager.email,image:t.manager.image?(0,r.m)(t.manager.image):null,status:t.manager.status}:null,employees:t.employees?t.employees.map((function(t){return e(t)})):[],status:t.status}}},4596:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(5034),a=function(e){return{id:e.id,name:e.name,code:e.code,type:e.type,organization:e.organization?(0,r.K)(e.organization):null,numberCamera:e.number_camera,numberEmployee:e.number_employee}}},4513:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var r=function(e){return{id:e.id,path:e.path,type:e.type}}},1492:function(e,t,n){"use strict";n.d(t,{V:function(){return r},h:function(){return a}});var r=function(e){return{useOTT:e.use_ott,useEmail:e.use_email,useScreen:e.use_screen,useRing:e.use_ring}},a=function(e){return{use_ott:e.useOTT,use_email:e.useEmail,use_screen:e.useScreen,use_ring:e.useRing}}},5034:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r=function(e){return{id:e.id,name:e.name,email:e.email,phone:e.phone,address:e.address,description:e.description,numberUser:e.number_user}}},7246:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(5034),a=n(4513),o=function(e){return{id:e.id,fullName:e.fullname,username:e.username,email:e.email,avatar:e.avatar?(0,a.m)(e.avatar):null,organization:(0,r.K)(e.organization),location:e.location,roles:e.roles,parentUser:e.parent_user?{id:e.parent_user.id,fullName:e.parent_user.fullname,username:e.parent_user.username,email:e.parent_user.email,avatar:e.parent_user.avatar,roles:e.parent_user.roles}:null,status:e.status}}},41:function(e,t,n){"use strict";n.d(t,{$:function(){return a},z:function(){return r}});var r=function(e){return{id:e.id,name:e.name,timeStart:e.time_start,timeEnd:e.time_end}},a=function(e){return{id:e.id,name:e.name,time_start:e.timeStart,time_end:e.timeEnd}}},878:function(e,t,n){"use strict";n.d(t,{$:function(){return So},_:function(){return xo}});var r=n(5861),a=n(885),o=n(4687),i=n.n(o),c=n(7294),l=n(6974),u=n(5697),s=n.n(u),m=n(9379),d=n(4218);function f(e){var t=e.background,n=e.children,r=(0,d.Ad)(),o=(0,a.Z)(r,2)[1],i=(0,l.TH)().pathname;return(0,c.useEffect)((function(){(0,d.jx)(o,"page")}),[i]),c.createElement(m.Z,{width:"100vw",height:"100%",minHeight:"100vh",bgColor:t,sx:{overflowX:"hidden"}},n)}f.defaultProps={background:"default"},f.propTypes={background:s().oneOf(["white","light","default"]),children:s().node.isRequired};var p=f,h=n(4065),g=n(6634),b=n(6334),v=n(2740);function y(e){var t=e.light,n=v.Z.size;return c.createElement(m.Z,{position:"absolute",width:"100%",bottom:0,py:4},c.createElement(h.Z,null,c.createElement(m.Z,{width:"100%",display:"flex",flexDirection:{xs:"column",lg:"row"},justifyContent:"center",alignItems:"center",px:1.5},c.createElement(m.Z,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",color:t?"white":"text",fontSize:n.sm},"© ",(new Date).getFullYear()," by",c.createElement(g.Z,{href:"https://www.comitcorp.com/",target:"_blank"},c.createElement(b.Z,{variant:"button",fontWeight:"medium",color:t?"white":"dark"}," COMIT Corp "))))))}y.defaultProps={light:!1},y.propTypes={light:s().bool};var E=y;function Z(e){var t=e.image,n=e.children;return c.createElement(p,null,c.createElement(m.Z,{position:"absolute",width:"100%",minHeight:"100vh",sx:{backgroundImage:function(e){var n=e.functions,r=n.linearGradient,a=n.rgba,o=e.palette.gradients;return t&&"".concat(r(a(o.dark.main,.6),a(o.dark.state,.6)),", url(").concat(t,")")},backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),n,c.createElement(E,{light:!0}))}Z.propTypes={image:s().string.isRequired,children:s().node.isRequired};var x=Z,S=n.p+"images/bg-sign-in-basic.f327db1d.jpeg",k=n(6914),C=n(8042),w=n(7073),O=n(7608),P=n(5256),T=n(7721),_=n(9669),z=n.n(_),j=n(2862),A=n(7246),R=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,e.abrupt("return",z().post(j.pN,{username:n,password:r}).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{user:(0,A.J)(e.data.user),token:e.data.token}}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e,j.pN),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,e.abrupt("return",z().post(j.rz,{email:n}).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:!1}:{messageError:O.CA,data:!1}})).catch((function(e){return console.log(e),{messageError:O.CA,data:!1}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.code,a=t.oldPassword,o=t.newPassword,e.abrupt("return",z().post(j.cV,{user_id:n,old_password:a,code:r,new_password:o}).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:e.data.data}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=n(6982);var M=function(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),n=t[0],o=t[1],u=(0,c.useState)(""),s=(0,a.Z)(u,2),m=s[0],d=s[1],f=(0,C.b3)(),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,w.xO)(),v=(0,a.Z)(b,2)[1],y=(0,l.s0)(),E=[{type:"username",label:"Tên đăng nhập",data:n,action:o},{type:"password",label:"Mật khẩu",data:m,action:d}];(0,c.useEffect)((function(){null!=h.currentUser&&((0,N.j5)(h.currentUser)||(0,N.OB)(h.currentUser)?(y(T.zO),y(0)):(0,N.sw)(h.currentUser,O.E1)&&!(0,N.sw)(h.currentUser,O.Vt)?(localStorage.setItem("module",O.E1),y(T.zO),y(0)):(0,N.sw)(h.currentUser,O.Vt)&&!(0,N.sw)(h.currentUser,O.E1)?(localStorage.setItem("module",O.Vt),y(T.zO),y(0)):y(T.Oc))}),[h.token]);var Z=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=4;break}return t.preventDefault(),e.next=4,_();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){return window.addEventListener("keydown",Z),function(){window.removeEventListener("keydown",Z)}}),[Z]);var _=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n||""===n.trim()?((0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:"Tên đăng nhập không được để trống"}),0):null!==m&&""!==m.trim()||((0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:"Mật khẩu không được để trống"}),0))){e.next=5;break}return e.next=3,R({username:n,password:m});case 3:null!==(t=e.sent).data?((0,w.OV)(v,{typeSnackbar:O.GF,messageSnackbar:O.XP}),localStorage.setItem("currentUser",JSON.stringify(t.data)),r="timeToLine",a=O.Ig,o=void 0,o={expiry:(new Date).getTime()+a},localStorage.setItem(r,JSON.stringify(o)),(0,C.Vh)(g,t.data)):(0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:"Tên đăng nhập hoặc mật khẩu không đúng"});case 5:case"end":return e.stop()}var r,a,o}),e)})));return function(){return e.apply(this,arguments)}}();return c.createElement(x,{image:S},c.createElement(P.Z,{title:O.Vy,fields:E,handleAddOrUpdate:_,actionLabel:O.Vy,visibleCloseButton:!1},c.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.createElement("div",null),c.createElement(k.Z,{size:"small",onClick:function(){y(T.U)}},"Quên mật khẩu?"))))},L=n(2895),H=n(6564),U=n(4281),F=n(5963),V=n(1368),W=n(7294);var B=function(e){var t=e.handleClose,n=(0,c.useState)(""),o=(0,a.Z)(n,2),l=o[0],u=o[1],s=(0,c.useState)(""),m=(0,a.Z)(s,2),d=m[0],f=m[1],p=(0,c.useState)(""),h=(0,a.Z)(p,2),g=h[0],b=h[1],v=(0,c.useState)(""),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,C.b3)(),S=(0,a.Z)(x,1)[0],k=(0,V.T2)(),T=(0,a.Z)(k,2)[1],_=(0,w.xO)(),z=(0,a.Z)(_,2)[1],j=[{data:l,type:"name",label:"Tên tổ chức *",action:u},{data:d,type:"email",label:"Email",action:f},{data:g,type:"phone",label:"Số điện thoại",action:b},{data:E,type:"description",label:"Mô tả",action:Z}],A=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===l||""===l.trim()?((0,w.OV)(z,{typeSnackbar:O.QS,messageSnackbar:H.xq}),0):""===d||(0,U.vV)(d)?""===g||(0,U.kj)(g)||((0,w.OV)(z,{typeSnackbar:O.QS,messageSnackbar:H.BX}),0):((0,w.OV)(z,{typeSnackbar:O.QS,messageSnackbar:H.FD}),0))){e.next=5;break}return e.next=3,(0,F.Hm)({token:S.token,name:l,email:d,phone:g,description:E});case 3:(n=e.sent).data?((0,w.OV)(z,{typeSnackbar:O.GF,messageSnackbar:H.TV}),(0,V.pL)(T,n.data),t()):(0,w.OV)(z,{typeSnackbar:O.QS,messageSnackbar:n.messageError});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return W.createElement(P.Z,{title:"Thêm tổ chức",fields:j,handleAddOrUpdate:A,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t})},Q=n(6714),G=n(4675),K=n(7294);function q(e,t,n){var o=(0,c.useState)([]),l=(0,a.Z)(o,2),u=l[0],s=l[1],d=(0,C.b3)(),f=(0,a.Z)(d,1)[0],p=(0,V.T2)(),h=(0,a.Z)(p,2),g=h[0],b=h[1];(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.token){e.next=5;break}return e.next=3,(0,F.fC)(f.token);case 3:null!=(t=e.sent).data&&(0,V.eS)(b,t.data);case 5:case"end":return e.stop()}}),e)}))),[f.token]);return(0,c.useEffect)((function(){g.organizations&&s(g.organizations.map((function(r){return function(r){return{name:r.name,email:r.email?r.email:"",phone:r.phone?r.phone:"",description:r.description?r.description:"",accountNumber:r.numberUser?r.numberUser:0,action:K.createElement(m.Z,{display:"flex",alignItems:"center",mt:{xs:2,sm:0},ml:{xs:-1.5,sm:0}},K.createElement(G.Z,{variant:"text",color:"info",onClick:function(){return e(r)}},K.createElement(Q.Z,null)," xem"),K.createElement(G.Z,{variant:"text",color:"dark",onClick:function(){return t(r)}},K.createElement(L.Z,null,"edit")," sửa"),K.createElement(m.Z,{mr:1},K.createElement(G.Z,{variant:"text",color:"error",onClick:function(){return n(r)}},K.createElement(L.Z,null,"delete")," xóa")))}}(r)})))}),[g.organizations]),{columns:[{Header:"Tên tổ chức",accessor:"name",align:"left"},{Header:"Email",accessor:"email",align:"center"},{Header:"Số điện thoại",accessor:"phone",align:"center"},{Header:"Mô tả",accessor:"description",align:"center"},{Header:"Tổng số tài khoản",accessor:"accountNumber",align:"center"},{Header:"Thao tác",accessor:"action",align:"center",width:"20%"}],rows:u}}var X=function(e){var t=e.handleClose,n=e.organization,o=(0,c.useState)(n.name||""),l=(0,a.Z)(o,2),u=l[0],s=l[1],m=(0,c.useState)(n.email||""),d=(0,a.Z)(m,2),f=d[0],p=d[1],h=(0,c.useState)(n.phone||""),g=(0,a.Z)(h,2),b=g[0],v=g[1],y=(0,c.useState)(n.description||""),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,C.b3)(),k=(0,a.Z)(S,1)[0],T=(0,V.T2)(),_=(0,a.Z)(T,2)[1],z=(0,w.xO)(),j=(0,a.Z)(z,2)[1],A=[{data:u,type:"name",label:"Tên tổ chức *",action:s},{data:f,type:"email",label:"Email",action:p},{data:b,type:"phone",label:"Số điện thoại",action:v},{data:Z,type:"description",label:"Mô tả",action:x}],R=function(){var e=(0,r.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!(null===u||""===u.trim()?((0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:H.xq}),0):""===f||(0,U.vV)(f)?""===b||(0,U.kj)(b)||((0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:H.BX}),0):((0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:H.FD}),0))){e.next=5;break}return e.next=3,(0,F.Z)({token:k.token,id:n.id,name:u,email:f,phone:b,description:Z});case 3:(r=e.sent).data?((0,w.OV)(j,{typeSnackbar:O.GF,messageSnackbar:O.NC}),t(),(0,V.xK)(_,r.data)):(0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:r.messageError});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.createElement(P.Z,{title:"Cập nhật tổ chức",fields:A,handleAddOrUpdate:R,actionLabel:O.L,visibleCloseButton:!0,handleClose:t})},J=n(2367),Y=n(7294);var $=function(e){var t=e.handleClose,n=e.organization;return Y.createElement(J.Z,{title:"Thông tin tổ chức",handleClose:t,enableUpdate:!1},Y.createElement(m.Z,{display:"flex",flexDirection:"column"},Y.createElement(m.Z,{display:"flex",flexDirection:"column",lineHeight:"28px"},Y.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Tên tổ chức: ",n.name),n.email&&Y.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Email: ",n.email),n.phone&&Y.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Số điện thoại: ",n.phone),n.description&&Y.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Mô tả: ",n.description),Y.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Tổng số tài khoản: ",n.numberUser?n.numberUser:"0"))))},ee=n(5725),te=n(5295),ne=n(5167);function re(e){var t=e.company,n=t.href,r=t.name,a=v.Z.size;return c.createElement(m.Z,{width:"100%",display:"flex",flexDirection:{xs:"column",lg:"row"},justifyContent:"center",alignItems:"center",px:1.5},c.createElement(m.Z,{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",color:"text",fontSize:a.sm,px:1.5},"© ",(new Date).getFullYear()," by",c.createElement(g.Z,{href:n,target:"_blank"},c.createElement(b.Z,{variant:"button",fontWeight:"medium"}," ",r," "))))}re.defaultProps={company:{href:"https://www.comitcorp.com/",name:"COMIT Corp"}},re.propTypes={company:s().objectOf(s().string)};var ae=re,oe=n(2982),ie=n(7462),ce=n(5987),le=n(9521),ue=n(9573),se=n(8732),me=n(7896),de=n(3694),fe=n(1519),pe=n(9792),he=n(9602),ge=(0,he.ZP)(G.Z)((function(e){var t=e.theme,n=e.ownerState,r=t.borders,a=t.functions,o=t.typography,i=t.palette,c=n.variant,l=n.paginationSize,u=n.active,s=r.borderColor,m=a.pxToRem,d=o.fontWeightRegular,f=o.size,p=i.light,h=m(36);return"small"===l?h=m(30):"large"===l&&(h=m(46)),{borderColor:s,margin:"0 ".concat(m(2)),pointerEvents:u?"none":"auto",fontWeight:d,fontSize:f.sm,width:h,minWidth:h,height:h,minHeight:h,"&:hover, &:focus, &:active":{transform:"none",boxShadow:("gradient"!==c||"contained"!==c)&&"none !important",opacity:"1 !important"},"&:hover":{backgroundColor:p.main,borderColor:s}}})),be=["item","variant","color","size","active","children"],ve=(0,c.createContext)(),ye=(0,c.forwardRef)((function(e,t){var n=e.item,r=e.variant,a=e.color,o=e.size,i=e.active,l=e.children,u=(0,ce.Z)(e,be),s=(0,c.useContext)(ve),d=s?s.size:null,f=(0,c.useMemo)((function(){return{variant:r,color:a,size:o}}),[r,a,o]);return c.createElement(ve.Provider,{value:f},n?c.createElement(ge,(0,ie.Z)({},u,{ref:t,variant:i?s.variant:"outlined",color:i?s.color:"secondary",iconOnly:!0,circular:!0,ownerState:{variant:r,active:i,paginationSize:d}}),l):c.createElement(m.Z,{display:"flex",justifyContent:"flex-end",alignItems:"center",sx:{listStyle:"none"}},l))}));ye.defaultProps={item:!1,variant:"gradient",color:"info",size:"medium",active:!1},ye.propTypes={item:s().bool,variant:s().oneOf(["gradient","contained"]),color:s().oneOf(["white","primary","secondary","info","success","warning","error","light","dark"]),size:s().oneOf(["small","medium","large"]),active:s().bool,children:s().node.isRequired};var Ee=ye,Ze=n(7294),xe=["width","children","sorted","align"];function Se(e){var t=e.width,n=e.children,r=e.sorted,o=e.align,i=(0,ce.Z)(e,xe),c=(0,d.Ad)(),l=(0,a.Z)(c,1)[0].darkMode;return Ze.createElement(m.Z,(0,ie.Z)({},i,{component:"th",width:t,py:1.5,px:3,sx:function(e){var t=e.palette.light,n=e.borders.borderWidth;return{borderBottom:"".concat(n[1]," solid ").concat(t.main)}}}),Ze.createElement(m.Z,(0,ie.Z)({},i,{position:"relative",textAlign:o,color:l?"white":"secondary",opacity:.7,sx:function(e){var t=e.typography,n=t.size,a=t.fontWeightBold;return{fontSize:n.xxs,fontWeight:a,textTransform:"uppercase",cursor:r&&"pointer",userSelect:r&&"none"}}}),n,r&&Ze.createElement(m.Z,{position:"absolute",top:0,right:"right"!==o?"16px":0,left:"right"===o?"-5px":"unset",sx:function(e){return{fontSize:e.typography.size.lg}}},Ze.createElement(m.Z,{position:"absolute",top:-6,color:"asce"===r?"text":"secondary",opacity:"asce"===r?1:.5},Ze.createElement(L.Z,null,"arrow_drop_up")),Ze.createElement(m.Z,{position:"absolute",top:0,color:"desc"===r?"text":"secondary",opacity:"desc"===r?1:.5},Ze.createElement(L.Z,null,"arrow_drop_down")))))}Se.defaultProps={width:"auto",sorted:"none",align:"left"},Se.propTypes={width:s().oneOfType([s().string,s().number]),children:s().node.isRequired,sorted:s().oneOf([!1,"none","asce","desc"]),align:s().oneOf(["left","right","center"])};var ke=Se;function Ce(e){var t=e.noBorder,n=e.align,r=e.children;return c.createElement(m.Z,{component:"td",textAlign:n,py:1.5,px:3,sx:function(e){var n=e.palette.light,r=e.typography.size,a=e.borders.borderWidth;return{fontSize:r.sm,borderBottom:t?"none":"".concat(a[1]," solid ").concat(n.main)}}},c.createElement(m.Z,{display:"inline-block",width:"max-content",color:"text",sx:{verticalAlign:"middle"}},r))}Ce.defaultProps={noBorder:!1,align:"left"},Ce.propTypes={children:s().node.isRequired,noBorder:s().bool,align:s().oneOf(["left","right","center"])};var we=Ce,Oe=n(2887),Pe=n(6272),Te=["indeterminate"],_e=c.forwardRef((function(e,t){var n=e.indeterminate,r=(0,ce.Z)(e,Te),a=c.useRef(),o=t||a;return c.useEffect((function(){o.current.indeterminate=n}),[o,n]),c.createElement(Oe.Z,(0,ie.Z)({ref:o},r))}));function ze(e){var t=e.entriesPerPage,n=e.canSearch,o=e.showTotalEntries,l=e.table,u=e.pagination,s=e.isSorted,d=e.noEndBorder,f=e.showCheckAll,p=e.fetchData,h=e.pageCount,g=e.itemCount,v=e.formFilter,y=t.defaultValue?t.defaultValue:10,E=t.entries?t.entries.map((function(e){return e.toString()})):["5","10","15","20","25"],Z=(0,c.useMemo)((function(){return l.columns}),[l]),x=(0,c.useMemo)((function(){return l.rows}),[l]),S=!!h,k=(0,w.xO)(),C=(0,a.Z)(k,2)[1],O=(0,le.useTable)({columns:Z,data:x,initialState:{pageIndex:0},manualPagination:S,manualSortBy:!0,autoResetPage:!1,pageCount:h},le.useGlobalFilter,le.useSortBy,le.usePagination,le.useRowSelect,(function(e){e.visibleColumns.push((function(e){return f?[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return c.createElement("div",null,c.createElement(_e,t()))},Cell:function(e){var t=e.row;return c.createElement("div",null,c.createElement(_e,t.getToggleRowSelectedProps()))},width:"50px"}].concat((0,oe.Z)(e)):e}))})),P=O.getTableProps,T=O.getTableBodyProps,_=O.headerGroups,z=O.prepareRow,j=O.rows,A=O.page,R=O.pageOptions,I=O.canPreviousPage,D=O.canNextPage,N=O.gotoPage,M=O.nextPage,H=O.previousPage,U=O.setPageSize,F=O.setGlobalFilter,V=(O.selectedFlatRows,O.state),W=V.pageIndex,B=V.pageSize,Q=V.globalFilter;V.selectedRowIds;(0,c.useEffect)((function(){return U(y||10)}),[y]);var G,K=R.map((function(e){return c.createElement(Ee,{item:!0,key:e,onClick:function(){return N(Number(e))},active:W===e},e+1)})),q=R.map((function(e){return e+1})),X=(0,c.useState)(Q||""),J=(0,a.Z)(X,2),Y=J[0],$=J[1],ee=function(e){return s&&e.isSorted?e.isSortedDesc?"desc":"asce":!!s&&"none"},te=0===W?W+1:W*B+1;return G=0===W?B:W===R.length-1?g||j.length:B*(W+1),(0,c.useEffect)((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=5;break}return(0,w.QP)(C),e.next=4,p({page:W,size:B,search:Y});case 4:(0,w.Zk)(C);case 5:case"end":return e.stop()}}),e)}))),[p,W,B]),(0,c.useEffect)((function(){if(p){var e=setTimeout((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,w.QP)(C),e.next=3,p({page:W,size:B,search:Y});case 3:(0,w.Zk)(C);case 4:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearTimeout(e)}}}),[Y]),c.createElement(c.Fragment,null,t||n?c.createElement(m.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3},t&&c.createElement(m.Z,{display:"flex",alignItems:"center"},c.createElement(fe.Z,{disableClearable:!0,value:B.toString(),options:E,onChange:function(e,t){var n;n=parseInt(t,10),U(n)},size:"small",sx:{width:"5rem"},renderInput:function(e){return c.createElement(pe.Z,e)},ListboxProps:{style:{maxHeight:"15rem"}}}),c.createElement(b.Z,{variant:"caption",color:"secondary"},"  entries per page")),n&&c.createElement(m.Z,{width:"12rem",ml:"auto"},c.createElement(pe.Z,{placeholder:"Tìm kiếm...",value:Y,size:"small",fullWidth:!0,onChange:function(e){var t,n=e.currentTarget;t=n.value,$(t),g||F(t||void 0)}})),v&&v()):null,c.createElement(me.Z,{sx:{boxShadow:"none"}},c.createElement(ue.Z,P(),c.createElement(m.Z,{component:"thead"},_.map((function(e,t){return c.createElement(de.Z,(0,ie.Z)({},e.getHeaderGroupProps(),{key:"headerGroup_".concat(t)}),e.headers.map((function(e,t){return c.createElement(ke,(0,ie.Z)({key:"header_".concat(t)},e.getHeaderProps(s&&e.getSortByToggleProps()),{width:e.width?e.width:"auto",align:e.align?e.align:"left",sorted:ee(e)}),e.render("Header"))})))}))),c.createElement(se.Z,T(),A.map((function(e,t){return z(e),c.createElement(de.Z,(0,ie.Z)({},e.getRowProps(),{key:"row_".concat(t)}),e.cells.map((function(e,n){return c.createElement(we,(0,ie.Z)({key:"cell_".concat(n),noBorder:d&&j.length-1===t,align:e.column.align?e.column.align:"left"},e.getCellProps()),e.render("Cell"))})))}))))),c.createElement(m.Z,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},p:o||1!==R.length?3:0},o&&c.createElement(m.Z,{mb:{xs:3,sm:0}},c.createElement(b.Z,{variant:"button",color:"secondary",fontWeight:"regular"},"Showing ",te," to ",G," of ",g||j.length," entries")),R.length>1&&c.createElement(Ee,{variant:u.variant?u.variant:"gradient",color:u.color?u.color:"info"},I&&c.createElement(Ee,{item:!0,onClick:function(){return H()}},c.createElement(L.Z,{sx:{fontWeight:"bold"}},"chevron_left")),K.length>6?c.createElement(m.Z,{width:"5rem",mx:1},c.createElement(Pe.Z,{title:"Click đúp để sửa giá trị",style:{width:"100%"}},c.createElement(pe.Z,{inputProps:{type:"number",min:1,max:q.length},value:q[W],onChange:function(e){var t=e.target;return N(Number(t.value-1))}}))):K,D&&c.createElement(Ee,{item:!0,onClick:function(){return M()}},c.createElement(L.Z,{sx:{fontWeight:"bold"}},"chevron_right")))))}ze.defaultProps={entriesPerPage:{defaultValue:10,entries:[5,10,15,20,25]},canSearch:!1,showTotalEntries:!0,pagination:{variant:"gradient",color:"info"},isSorted:!0,noEndBorder:!1},ze.propTypes={entriesPerPage:s().oneOfType([s().shape({defaultValue:s().number,entries:s().arrayOf(s().number)}),s().bool]),canSearch:s().bool,showTotalEntries:s().bool,table:s().objectOf(s().array).isRequired,pagination:s().shape({variant:s().oneOf(["contained","gradient"]),color:s().oneOf(["primary","secondary","info","success","warning","error","dark","light"])}),isSorted:s().bool,noEndBorder:s().bool};var je=ze,Ae=n(7794),Re=n(2200),Ie=n(6358),De=n(6926),Ne=n(6867),Me=function(e,t){if(null===t)return null;var n=e.filter((function(e){return e.name===t.split("-")[1]&&e.code===t.split("-")[0]}));return n.length>0?n[0]:null},Le=function(e,t){var n=e.filter((function(e){return e.name===t}));return n.length>0?n[0]:null},He=n(588),Ue=n(3877),Fe=101,Ve=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.page,a=t.size,o=t.search,c=t.status,e.abrupt("return",z().get((0,j.gr)(r,a,o||"",c),(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{data:e.data.employees.map((function(e){return(0,Ue.j)(e)})),pageCount:e.data.total_pages,itemCount:e.data.total_items}}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c,l,u,s,m,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.avatar,a=t.name,o=t.code,c=t.phone,l=t.email,u=t.managerId,s=t.areaEmployee,m=t.shifts,d=t.confirmUpdate,(f=new FormData).append("image",r),f.append("name",a),f.append("code",o),f.append("phone",c),f.append("email",l),f.append("manager_id",u?u.toString():""),f.append("area_employees",s),f.append("shift_ids",m),void 0!==d&&f.append("force_update",d.toString()),e.abrupt("return",z().post(j.JI,f,(0,He.g)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,Ue.j)(e.data.employee)}:e.data.code===Fe?{messageError:e.data.message,data:Fe}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c,l,u,s,m,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.employeeId,a=t.avatar,o=t.name,c=t.code,l=t.phone,u=t.email,s=t.managerId,m=t.shifts,d=t.areaEmployee,(f=new FormData).append("image",a),f.append("name",o),f.append("code",c),f.append("phone",l),f.append("email",u),f.append("manager_id",null!==s?s.toString():""),f.append("shift_ids",m),f.append("area_employees",d),e.abrupt("return",z().put((0,j.KO)(r),f,(0,He.g)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,Ue.j)(e.data.employee)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.oldManagerId,a=t.newManagerId,e.abrupt("return",z().put((0,j.sc)(r,a),{},(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,Ue.j)(e.data.employee)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(e){var t=e.token,n=e.id;return z().delete((0,j.iN)(n),(0,He.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}}))},Ke=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.files,a=t.excelFile,o=new FormData,r.forEach((function(e){return o.append("file",e)})),o.append("excelFile",a),e.abrupt("return",z().post(j.dz,o,(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=n(4945),Xe=["indeterminate"];function Je(e){var t=e.field;return c.createElement(m.Z,{display:"inline-block",width:"max-content",color:"text",sx:{verticalAlign:"middle",fontSize:"0.875rem"}},t)}var Ye=c.forwardRef((function(e,t){var n=e.indeterminate,r=(0,ce.Z)(e,Xe),a=c.useRef(),o=t||a;return c.useEffect((function(){o.current.indeterminate=n}),[o,n]),c.createElement(Oe.Z,(0,ie.Z)({ref:o},r))}));function $e(e){var t=e.entriesPerPage,n=e.canSearch,o=e.showTotalEntries,l=e.table,u=e.pagination,s=e.isSorted,d=(e.noEndBorder,e.showCheckAll),f=e.fetchData,p=e.pageCount,h=e.itemCount,g=e.formFilter,v=t.defaultValue?t.defaultValue:10,y=t.entries?t.entries.map((function(e){return e.toString()})):["5","10","15","20","25"],E=(0,c.useMemo)((function(){return l.columns}),[l]),Z=(0,c.useMemo)((function(){return l.rows}),[l]),x=(0,c.useState)(Z),S=(0,a.Z)(x,2),k=S[0],P=S[1],T=!!p;(0,c.useEffect)((function(){P(l.rows)}),[l]);var _=(0,le.useTable)({columns:E,data:Z,initialState:{pageIndex:0},manualPagination:T,manualSortBy:!0,autoResetPage:!1,pageCount:p},le.useGlobalFilter,le.useSortBy,le.usePagination,le.useRowSelect,(function(e){e.visibleColumns.push((function(e){return d?[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return c.createElement("div",null,c.createElement(Ye,t()))},Cell:function(e){var t=e.row;return c.createElement("div",null,c.createElement(Ye,t.getToggleRowSelectedProps()))},width:"50px"}].concat((0,oe.Z)(e)):e}))})),z=_.getTableProps,j=_.getTableBodyProps,A=_.headerGroups,R=(_.prepareRow,_.rows),I=(_.page,_.pageOptions),D=_.canPreviousPage,N=_.canNextPage,M=_.gotoPage,H=_.nextPage,U=_.previousPage,F=_.setPageSize,V=_.state,W=V.pageIndex,B=V.pageSize;(0,c.useEffect)((function(){return F(v||10)}),[v]);var Q,K=I.map((function(e){return c.createElement(Ee,{item:!0,key:e,onClick:function(){return M(Number(e))},active:W===e},e+1)})),q=I.map((function(e){return e+1})),X=(0,c.useState)(""),J=(0,a.Z)(X,2),Y=J[0],$=J[1],ee=function(e){return s&&e.isSorted?e.isSortedDesc?"desc":"asce":!!s&&"none"},te=0===W?W+1:W*B+1;Q=0===W?B:W===I.length-1?h||R.length:B*(W+1),(0,c.useEffect)((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=5;break}return(0,w.QP)(ze),e.next=4,f({page:W,size:B,search:Y});case 4:(0,w.Zk)(ze);case 5:case"end":return e.stop()}}),e)}))),[f,W,B]),(0,c.useEffect)((function(){if(f){var e=setTimeout((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,w.QP)(ze),e.next=3,f({page:W,size:B,search:Y});case 3:(0,w.Zk)(ze);case 4:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearTimeout(e)}}}),[Y]);var ne=(0,c.useState)(null),re=(0,a.Z)(ne,2),ae=re[0],ce=re[1],he=c.useState(null),ge=(0,a.Z)(he,2),be=ge[0],ve=ge[1],ye=(0,C.b3)(),Ze=(0,a.Z)(ye,2),xe=Ze[0],Se=(Ze[1],(0,qe.vL)()),Ce=(0,a.Z)(Se,2),we=Ce[0],Oe=Ce[1],Te=(0,w.xO)(),_e=(0,a.Z)(Te,2),ze=(_e[0],_e[1]),je=(0,c.useState)(null),Ae=(0,a.Z)(je,2),Le=Ae[0],He=Ae[1],Ue=function(){ce(null),ve(null)},Fe=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.manager&&""!==t.manager.trim()){e.next=10;break}if(n=Me(we.employees,Le),null===(r=Me(we.employees,"".concat(t.employees[0].code,"-").concat(t.employees[0].name)))){e.next=8;break}return e.next=6,Be({token:xe.token,employeeId:r.id,avatar:null,name:r.name,code:r.code,phone:r.phone,email:r.email,managerId:n.id,shifts:"[".concat(r.shifts.map((function(e){return e.id})).join(","),"]"),areaEmployee:""});case 6:null!==(a=e.sent).data?((0,qe.H2)(Oe,a.data),(0,w.OV)(ze,{typeSnackbar:O.GF,messageSnackbar:O.NC}),ve(null)):(0,w.OV)(ze,{typeSnackbar:O.QS,messageSnackbar:a.messageError});case 8:e.next=26;break;case 10:if(o=Me(we.employees,t.manager),c=Me(we.employees,Le),null===o||null===c){e.next=26;break}return e.next=15,Qe({token:xe.token,oldManagerId:o.id,newManagerId:c.id});case 15:if(null===(l=e.sent).data){e.next=25;break}return e.next=19,Ve({token:xe.token,page:0,size:parseInt(B,10)});case 19:null!==(u=e.sent).data&&(0,qe.o6)(Oe,u.data.data),(0,w.OV)(ze,{typeSnackbar:O.GF,messageSnackbar:O.NC}),ve(null),e.next=26;break;case 25:(0,w.OV)(ze,{typeSnackbar:O.QS,messageSnackbar:l.messageError});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(e){var t=[];return(e.manager===ae||""===e.manager&&e.employees[0].code===ae)&&(t=function(e){var t=""!==e.manager?we.employees.filter((function(e){return e.name===(null==ae?void 0:ae.split("-")[1])&&e.code===(null==ae?void 0:ae.split("-")[0])}))[0]:null;if(null!==t){var n=t.employees.map((function(e){return e.id}));return n.push(t.id),t.employees.forEach((function(e){n.concat(e.employees.map((function(e){return e.id})))})),we.employees.filter((function(e){return n.indexOf(e.id)<0})).map((function(e){return"".concat(e.code,"-").concat(e.name)}))}var r=Me(we.employees,"".concat(e.employees[0].code,"-").concat(e.employees[0].name));if(null!==r){var a=r.employees.map((function(e){return e.id}));return a.push(r.id),we.employees.filter((function(e){return a.indexOf(e.id)<0})).map((function(e){return"".concat(e.code,"-").concat(e.name)}))}return[]}(e)),c.createElement(Re.Z,{anchorEl:be,anchorReference:null,placement:"bottom-start",open:Boolean(e.manager===ae||""===e.manager&&e.employees[0].code===ae),onClose:Ue,style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},c.createElement(m.Z,{display:"flex",style:{marginTop:"16px"}},c.createElement(fe.Z,{sx:{minWidth:"250px"},key:"field_change_manager",onChange:function(e,t){e.stopPropagation(),He(t)},disablePortal:!0,noOptionsText:"Không tìm thấy nhân sự phù hợp",id:"autocomplete",options:t,renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:"Danh sách nhân sự",placeholder:"Search...",onClick:function(e){e.stopPropagation()}}))},ListboxProps:{style:{maxHeight:"15rem"}}}),c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(){var t=(0,r.Z)(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),(0,w.QP)(ze),t.next=4,Fe(e);case 4:(0,w.Zk)(ze);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),sx:{marginLeft:"8px"}},"Xác nhận")))};return c.createElement(c.Fragment,null,t||n?c.createElement(m.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3},t&&c.createElement(m.Z,{display:"flex",alignItems:"center"},c.createElement(fe.Z,{disableClearable:!0,value:B.toString(),options:y,onChange:function(e,t){var n;n=parseInt(t,10),F(n),P(Z.slice(0,n))},size:"small",sx:{width:"5rem"},renderInput:function(e){return c.createElement(pe.Z,e)},ListboxProps:{style:{maxHeight:"15rem"}}}),c.createElement(b.Z,{variant:"caption",color:"secondary"},"  entries per page")),n&&c.createElement(m.Z,{width:"12rem",ml:"auto"},c.createElement(pe.Z,{placeholder:"Tìm kiếm...",value:Y,size:"small",fullWidth:!0,onChange:function(e){var t=e.currentTarget;$(t.value)}})),g&&g()):null,c.createElement(me.Z,{sx:{boxShadow:"none"},onClick:Ue},c.createElement(ue.Z,z(),c.createElement(m.Z,{component:"thead"},A.map((function(e,t){return c.createElement(de.Z,(0,ie.Z)({},e.getHeaderGroupProps(),{key:"headerGroup_".concat(t)}),e.headers.map((function(e,t){return c.createElement(ke,(0,ie.Z)({key:"header_".concat(t)},e.getHeaderProps(s&&e.getSortByToggleProps()),{width:e.width?e.width:"auto",align:e.align?e.align:"left",sorted:ee(e)}),e.render("Header"))})))}))),c.createElement(se.Z,j(),k.map((function(e,t){return c.createElement(c.Fragment,{key:"row_".concat(t)},c.createElement(de.Z,null,c.createElement(De.Z,{rowSpan:e.employees.length+1},""===e.manager&&1===e.employees.length&&e.employees[0].status.props.children===O.NY?c.createElement("div",null):c.createElement(m.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},c.createElement(Je,{field:e.manager}),c.createElement(Ne.Z,{size:"small",disableRipple:!0,color:"inherit",onClick:function(t){return function(e,t){e.stopPropagation(),""!==t.manager?t.manager===ae?ce(null):ce(t.manager):t.employees[0].code===ae?ce(null):ce(t.employees[0].code),ve(e.currentTarget)}(t,e)}},c.createElement(L.Z,{sx:{color:"green"},fontSize:"small"},"change_circle_outlined"),c.createElement(b.Z,{sx:{color:"green",fontSize:"0.8rem"}},"Thay đổi")),We(e)))),e.employees.map((function(e,t){return c.createElement(de.Z,{key:"row_".concat(t)},Object.keys(e).slice(1).map((function(t,n){return c.createElement(De.Z,{key:"cell_".concat(n)},c.createElement(Je,{field:e[t]}))})))})))}))))),c.createElement(m.Z,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},p:o||1!==I.length?3:0},o&&c.createElement(m.Z,{mb:{xs:3,sm:0}},c.createElement(b.Z,{variant:"button",color:"secondary",fontWeight:"regular"},"Showing ",te," to ",Q," of ",h||R.length," entries")),I.length>1&&c.createElement(Ee,{variant:u.variant?u.variant:"gradient",color:u.color?u.color:"info"},D&&c.createElement(Ee,{item:!0,onClick:function(){return U()}},c.createElement(L.Z,{sx:{fontWeight:"bold"}},"chevron_left")),K.length>6?c.createElement(m.Z,{width:"5rem",mx:1},c.createElement(Pe.Z,{title:"Click đúp để sửa giá trị"},c.createElement(pe.Z,{inputProps:{type:"number",min:1,max:q.length},value:q[W],onChange:function(e){var t=e.target;return M(Number(t.value-1))}}))):K,N&&c.createElement(Ee,{item:!0,onClick:function(){return H()}},c.createElement(L.Z,{sx:{fontWeight:"bold"}},"chevron_right")))))}$e.defaultProps={entriesPerPage:{defaultValue:10,entries:[5,10,15,20,25]},canSearch:!1,showTotalEntries:!0,pagination:{variant:"gradient",color:"info"},isSorted:!0,noEndBorder:!1},$e.propTypes={entriesPerPage:s().oneOfType([s().shape({defaultValue:s().number,entries:s().arrayOf(s().number)}),s().bool]),canSearch:s().bool,showTotalEntries:s().bool,table:s().objectOf(s().array).isRequired,pagination:s().shape({variant:s().oneOf(["contained","gradient"]),color:s().oneOf(["primary","secondary","info","success","warning","error","dark","light"])}),isSorted:s().bool,noEndBorder:s().bool};var et=$e;var tt=function(e){var t=e.tableTitle,n=e.columns,r=e.rows,o=e.enableCreate,i=void 0!==o&&o,l=e.enableImport,u=void 0!==l&&l,s=e.enableExport,d=void 0!==s&&s,f=e.enableExpand,p=void 0!==f&&f,h=e.enableSearch,g=void 0===h||h,v=e.formCreate,y=e.formImport,E=e.formExpand,Z=e.formExport,x=e.isCustomTable,S=void 0!==x&&x,k=e.fetchData,w=e.pageCount,P=e.itemCount,T=e.formFilter,_=(0,c.useState)(!1),z=(0,a.Z)(_,2),j=z[0],A=z[1],R=(0,c.useState)(""),I=(0,a.Z)(R,2),D=(I[0],I[1]),M=(0,C.b3)(),H=(0,a.Z)(M,1)[0];(0,c.useEffect)((function(){H.currentUser&&((0,N.QM)(H.currentUser)?D(O.E1):(0,N.hc)(H.currentUser)&&D(O.Vt))}),[H.token]);var U=(0,c.useState)(""),F=(0,a.Z)(U,2),V=F[0],W=F[1],B=function(){A(!1)};return c.createElement(ne.Z,null,c.createElement(m.Z,{pt:6,pb:3},c.createElement(ee.ZP,{container:!0,spacing:6},c.createElement(ee.ZP,{item:!0,xs:12},c.createElement(te.Z,null,c.createElement(m.Z,{mx:2,mt:-3,py:3,px:2,variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",justifyContent:"space-between",display:"flex"},c.createElement(b.Z,{variant:"h5",color:"white"},t),c.createElement(m.Z,{display:"flex",alignItems:"center",mt:{xs:2,sm:0},ml:{xs:-1.5,sm:0}},i?c.createElement(G.Z,{variant:"text",color:"white",onClick:function(){A(!0),W("create")}},c.createElement("div",{style:{display:"flex",alignSelf:"center"}},c.createElement(L.Z,null,"add_circle_outline"),c.createElement("span",{style:{paddingLeft:"0.3em"}},"thêm mới"))):c.createElement("div",null),u&&y&&y(),d&&Z&&Z(),p&&E&&E())),c.createElement(m.Z,{pt:3},S?c.createElement(et,{table:{columns:n,rows:r},isSorted:!1,entriesPerPage:!0,showTotalEntries:!0,noEndBorder:!0,canSearch:g,showCheckAll:!1,fetchData:k,pageCount:w,itemCount:P,formFilter:T}):c.createElement(je,{table:{columns:n,rows:r},isSorted:!1,entriesPerPage:!0,showTotalEntries:!0,noEndBorder:!0,canSearch:g,showCheckAll:!1,fetchData:k,pageCount:w,itemCount:P,formFilter:T})))))),c.createElement(ae,null),c.createElement(Ae.Z,{open:j,onClose:B,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},c.createElement(c.Fragment,null,"create"===V?v(B):c.createElement("div",null))))};function nt(e){var t=e.title,n=e.handleConfirmDelete,r=e.handleClose,o=e.children,i=(0,w.xO)(),l=(0,a.Z)(i,2)[1];return c.createElement(m.Z,{px:1,width:"100%",height:"100vh",mx:"auto"},c.createElement(ee.ZP,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",height:"100%"},c.createElement(ee.ZP,{item:!0,xs:11,sm:9,md:5,lg:4,xl:3},c.createElement(te.Z,null,c.createElement(m.Z,{variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",mx:2,mt:-3,p:2,mb:1,textAlign:"center"},c.createElement(b.Z,{variant:"h4",fontWeight:"medium",color:"white"},t)),c.createElement(m.Z,{pt:4,pb:3,px:3},c.createElement(m.Z,{component:"form",role:"form"},o,c.createElement(m.Z,{mt:4,mb:1,display:"flex"},c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(){(0,w.QP)(l),n(),(0,w.Zk)(l)}},"Xóa"),c.createElement(m.Z,{sx:{width:"30px"}}),c.createElement(G.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:r},"Hủy bỏ"))))))))}nt.defaultProps={children:c.createElement("div",null),handleClose:function(){}};var rt=nt;var at=function(e){var t,n,o,l,u=e.tableTitle,s=e.tableData,m=e.AddForm,d=void 0===m?function(){return c.createElement("div",null)}:m,f=e.EditForm,p=void 0===f?function(){return c.createElement("div",null)}:f,h=e.ViewForm,g=void 0===h?function(){return c.createElement("div",null)}:h,b=e.SettingForm,v=void 0===b?function(){return c.createElement("div",null)}:b,y=e.ImportForm,E=void 0===y?function(){return c.createElement("div",null)}:y,Z=e.ExportForm,x=void 0===Z?function(){return c.createElement("div",null)}:Z,S=e.ExpandForm,k=void 0===S?function(){return c.createElement("div",null)}:S,P=e.FilterForm,T=void 0===P?function(){return c.createElement("div",null)}:P,_=e.deleteAction,z=e.optionFeature,j=e.isCustomTable,A=void 0!==j&&j,R=(0,c.useState)(!1),I=(0,a.Z)(R,2),D=I[0],N=I[1],M=(0,C.b3)(),L=(0,a.Z)(M,1)[0],H=(0,w.xO)(),U=(0,a.Z)(H,2)[1],F=(0,c.useState)(null),V=(0,a.Z)(F,2),W=V[0],B=V[1],Q=(0,c.useState)(""),G=(0,a.Z)(Q,2),K=G[0],q=G[1],X=function(){N(!1)},J=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W||void 0===_){e.next=5;break}return e.next=3,_.deleteApi({token:L.token,id:W.id});case 3:null!==(t=e.sent).data?((0,w.OV)(U,{typeSnackbar:O.GF,messageSnackbar:O.Wy}),X(),_.actionDelete(W.id)):(0,w.OV)(U,{typeSnackbar:O.QS,messageSnackbar:t.messageError});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=s((function(e){N(!0),B(e),q(O.s)}),(function(e){N(!0),B(e),q(O.Dc)}),(function(e){N(!0),B(e),q(O.kf)}),(function(e){N(!0),B(e),q(O.fO)})),$=Y.columns,ee=Y.rows,te=Y.fetchData,ne=Y.pageCount,re=Y.itemCount;return c.createElement("div",{key:u},c.createElement(tt,{tableTitle:u,columns:$,rows:ee,formCreate:function(e){return c.createElement(d,{handleClose:e})},formImport:E,formExport:x,formExpand:k,enableCreate:z.enableCreate,enableImport:z.enableImport,enableExport:z.enableExport,enableExpand:z.enableExpand,enableSearch:z.enableSearch,isCustomTable:A,fetchData:te,pageCount:ne,itemCount:re,formFilter:T}),c.createElement(Ae.Z,{open:D,onClose:X,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},c.createElement(c.Fragment,null,K===O.Dc?(t=X,null!==W?c.createElement(p,{handleClose:t,item:W}):c.createElement("div",null)):K===O.kf?(n=X,c.createElement(rt,{title:O.aj,handleConfirmDelete:J,handleClose:n},c.createElement("p",null,O.I2))):K===O.s?(o=X,null!==W?c.createElement(g,{handleClose:o,item:W}):c.createElement("div",null)):K===O.fO?(l=X,null!==W?c.createElement(v,{handleClose:l,item:W}):c.createElement("div",null)):c.createElement("div",null))))};var ot=function(){var e=(0,V.T2)(),t=(0,a.Z)(e,2)[1];return c.createElement(at,{tableTitle:"Danh sách tổ chức",tableData:q,AddForm:function(e){var t=e.handleClose;return B({handleClose:t})},EditForm:function(e){var t=e.handleClose,n=e.item;return X({handleClose:t,organization:n})},ViewForm:function(e){var t=e.handleClose,n=e.item;return $({handleClose:t,organization:n})},deleteAction:{actionDelete:function(e){return(0,V.ox)(t,e)},deleteApi:F.v$},optionFeature:{enableCreate:!0,enableImport:!1,enableExport:!1}})},it=n(7294);var ct=function(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),n=t[0],o=t[1],u=(0,w.xO)(),s=(0,a.Z)(u,2)[1],m=(0,l.s0)(),d=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n||""===n.trim()?((0,w.OV)(s,{typeSnackbar:O.QS,messageSnackbar:H.QD}),0):(0,U.vV)(n)||((0,w.OV)(s,{typeSnackbar:O.QS,messageSnackbar:H.FD}),0))){e.next=5;break}return e.next=3,I({email:n});case 3:(t=e.sent).data?((0,w.OV)(s,{typeSnackbar:O.GF,messageSnackbar:H.ok}),m(T.vf)):(0,w.OV)(s,{typeSnackbar:O.QS,messageSnackbar:t.messageError});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=[{type:"email",label:"Email",data:n,action:o}];return it.createElement(x,{image:S},it.createElement(P.Z,{handleAddOrUpdate:d,fields:f,actionLabel:"Reset",title:"Reset Password",visibleCloseButton:!1},it.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},it.createElement("div",null),it.createElement(k.Z,{size:"small",onClick:function(){m(T.vf)}},"Quay lại đăng nhập"))))},lt=n(4607),ut=n(2014),st=n(930),mt=n(5265),dt=n(7976);var ft=function(e){var t=e.handleView,n=e.handleEdit,r=e.handleDelete,o=e.handleReSendCode,i=(0,c.useState)(!1),l=(0,a.Z)(i,2),u=l[0],s=l[1],d=function(){return s(!1)},f=v.Z.size;return c.createElement(m.Z,{marginLeft:f.xl},c.createElement(dt.Z,{color:"inherit",fontSize:"medium",onClick:function(e){e.stopPropagation(),s(e.currentTarget)},style:{cursor:"pointer"}}),c.createElement(mt.Z,{anchorEl:u,anchorReference:null,anchorOrigin:{vertical:"top",horizontal:"right"},open:Boolean(u),onClose:d,sx:{mt:1,ml:1}},c.createElement(m.Z,{display:"flex",flexDirection:"column",alignItems:"center"},c.createElement(G.Z,{variant:"text",color:"info",onClick:function(){t(),d()}},c.createElement("div",{style:{display:"flex",alignSelf:"center"}},c.createElement(ee.ZP,{item:!0,xs:12},c.createElement(Q.Z,null)),c.createElement(ee.ZP,{item:!0,xs:12},c.createElement("span",{style:{paddingLeft:"0.3em"}},"xem")))),c.createElement(G.Z,{variant:"text",color:"dark",onClick:function(){n(),d()}},c.createElement("div",{style:{display:"flex",alignSelf:"center"}},c.createElement(ee.ZP,{item:!0,xs:12},c.createElement(L.Z,null,"edit")),c.createElement(ee.ZP,{item:!0,xs:12},c.createElement("span",{style:{paddingLeft:"0.3em"}},"sửa")))),c.createElement(G.Z,{variant:"text",color:"error",onClick:function(){r(),d()}},c.createElement("div",{style:{display:"flex",alignSelf:"center"}},c.createElement(ee.ZP,{item:!0,xs:12},c.createElement(L.Z,null,"delete")),c.createElement(ee.ZP,{item:!0,xs:12},c.createElement("span",{style:{paddingLeft:"0.3em"}},"xóa")))),o?c.createElement(m.Z,{mr:1},c.createElement(G.Z,{variant:"text",color:"success",onClick:function(e){e.stopPropagation(),o(),d()}},c.createElement(L.Z,null,"schedule_send")," gửi lại mã")):c.createElement("div",null))))};function pt(e,t,n){var o=(0,c.useState)([]),l=(0,a.Z)(o,2),u=l[0],s=l[1],d=(0,C.b3)(),f=(0,a.Z)(d,1)[0],p=(0,ut.k7)(),h=(0,a.Z)(p,2),g=h[0],b=h[1],v=(0,st.EO)(),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,V.T2)(),S=(0,a.Z)(x,2)[1],k=(0,w.xO)(),P=(0,a.Z)(k,2)[1];(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t,n,r,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Đã xóa"===g.filter.status?"deleted":"Đang hoạt động"===g.filter.status?"active":"Đang chờ xác nhận"===g.filter.status?"pending":"",!f.token){e.next=12;break}return e.next=4,Promise.all([(0,lt.SJ)({token:f.token,status:t}),(0,F.fC)(f.token),(0,lt.lK)(f.token)]);case 4:n=e.sent,r=(0,a.Z)(n,3),o=r[0],c=r[1],l=r[2],null!=o.data&&(0,ut.Pl)(b,o.data),null!=l.data&&(0,st.EN)(Z,l.data),null!=c.data&&(0,V.eS)(S,c.data);case 12:case"end":return e.stop()}}),e)}))),[f.token,g.filter.status]);var T=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,(0,lt.M4)({token:f.token,id:t.id});case 3:null!==(n=e.sent).data?(0,w.OV)(P,{typeSnackbar:O.GF,messageSnackbar:"Đã gửi lại mã, vào mail để kiểm tra."}):(0,w.OV)(P,{typeSnackbar:O.QS,messageSnackbar:n.messageError});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=[];return E.roles.forEach((function(n){(function(e,t){var n=!1;return e.roles.forEach((function(e){e.id===t.id&&(n=!0)})),n})(e,n)&&t.push(c.createElement(m.Z,{sx:{display:"block",margin:"0 10px"}},n.name))})),t};return(0,c.useEffect)((function(){g.users&&s(g.users.map((function(r){return function(r){return{username:r.username,fullName:r.fullName,email:r.email,organization:null===r.organization?"":r.organization.name,roles:c.createElement("div",null,_(r)),status:(0,U.Fq)(r.status),action:"deleted"===r.status?c.createElement("div",null):c.createElement(ft,{handleView:function(){return e(r)},handleEdit:function(){return t(r)},handleDelete:function(){return n(r)},handleReSendCode:function(){return T(r)}})}}(r)})))}),[g.users,E.roles]),{columns:[{Header:"Tên đăng nhập",accessor:"username",align:"center"},{Header:"Họ và tên",accessor:"fullName",align:"center"},{Header:"Email",accessor:"email",align:"center"},{Header:"Tổ chức",accessor:"organization",align:"center"},{Header:"Quyền quản lý",accessor:"roles",align:"center"},{Header:"Trạng thái",accessor:"status",align:"center"},{Header:"Thao tác",accessor:"action",align:"center"}],rows:u}}var ht=n(9628),gt=n(7171),bt=n(8043),vt=["children"],yt=(0,c.forwardRef)((function(e,t){var n=e.children,r=(0,ce.Z)(e,vt),a=(0,c.useRef)(null);return(0,c.useImperativeHandle)(t,(function(){return a.current})),c.createElement("ul",(0,ie.Z)({},r,{ref:a,role:"list-box"}),n)})),Et=c.createElement(ht.Z,{fontSize:"small"}),Zt=c.createElement(gt.Z,{fontSize:"small"});function xt(e){var t=e.label,n=e.handleChoose,o=e.defaultData,l=e.type,u=(0,c.useState)(0),s=(0,a.Z)(u,2),d=s[0],f=s[1],p=(0,c.useState)(0),h=(0,a.Z)(p,2),g=h[0],b=h[1],v=(0,c.useState)(""),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,c.useState)([]),S=(0,a.Z)(x,2),k=S[0],w=S[1],O=(0,c.useState)([]),P=(0,a.Z)(O,2),T=P[0],_=P[1],z=(0,C.b3)(),j=(0,a.Z)(z,1)[0],A=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,o=t.isLoadMore,null===j.token){e.next=6;break}return e.next=4,(0,bt.z1)({token:j.token,page:n,size:r,search:a});case 4:null!==(c=e.sent).data&&(b(c.data.pageCount),_(o?function(e){return[].concat((0,oe.Z)(e),(0,oe.Z)(c.data.data))}:c.data.data));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j.token]);(0,c.useEffect)((function(){j.token&&A({page:0,size:10,isLoadMore:!1}).catch(console.error)}),[j.token]);(0,c.useEffect)((function(){w(T.map((function(e){return e.name})))}),[T]),(0,c.useEffect)((function(){var e=setTimeout((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({page:0,size:10,search:E,isLoadMore:!1});case 2:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearTimeout(e)}}),[E]);var R=function(e){var t,n=e.currentTarget,r=n.scrollTop+n.clientHeight;n.scrollHeight-r<=1&&d<g-1&&(f(t=d+1),A({page:t,size:10,isLoadMore:!0}).catch(console.error))},I=function(e,t){e.stopPropagation();var r=[];T.forEach((function(e){t.includes(e.name)&&r.push(e)})),n(r)};return c.createElement(m.Z,{mb:2,key:t},"autocomplete"===l?c.createElement(fe.Z,{sx:{minWidth:"250px"},key:"field_location",onChange:function(e,t){I(e,t?Array.of(t):[])},value:o&&o.length>0?o[0].name:void 0,disablePortal:!0,noOptionsText:"Không tìm thấy chi nhánh phù hợp",id:"location-autocomplete",options:k,renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;Z(t.value)},onClick:function(){Z("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:R},ListboxComponent:yt}):c.createElement(fe.Z,{value:o?o.map((function(e){return e.name})):void 0,key:"fields_".concat(t),onChange:I,multiple:!0,disablePortal:!0,disableCloseOnSelect:!0,id:"tags-filled",options:k,renderOption:function(e,t,n){var r=n.selected;return c.createElement("li",(0,ie.Z)({},e,{style:{marginBottom:"5px"}}),c.createElement(Oe.Z,{icon:Et,checkedIcon:Zt,style:{marginRight:8},checked:r}),t)},renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;Z(t.value)},onClick:function(){Z("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:R},ListboxComponent:yt}))}var St=function(e){var t=e.handleClose,n=(0,c.useState)(""),o=(0,a.Z)(n,2),l=o[0],u=o[1],s=(0,c.useState)(""),m=(0,a.Z)(s,2),d=m[0],f=m[1],p=(0,C.b3)(),h=(0,a.Z)(p,1)[0],g=(0,ut.k7)(),b=(0,a.Z)(g,2)[1],v=(0,st.EO)(),y=(0,a.Z)(v,1)[0],E=(0,V.T2)(),Z=(0,a.Z)(E,1)[0],x=(0,w.xO)(),S=(0,a.Z)(x,2)[1],k=c.useState([]),T=(0,a.Z)(k,2),_=T[0],z=T[1],j=c.useState(""),A=(0,a.Z)(j,2),R=A[0],I=A[1],D=c.useState(null),M=(0,a.Z)(D,2),L=M[0],F=M[1],W=[{data:l,type:"fullName",label:"Họ và tên *",action:u},{data:d,type:"email",label:"Email *",action:f}],B=[].concat(W,[{data:y.roles.map((function(e){return e.name})),type:"autocomplete-multiple",label:"Quyền *",action:z},{data:Z.organizations.map((function(e){return e.name})),type:"autocomplete",label:"Tổ chức *",action:I}]),Q=[].concat(W,[{data:y.roles.map((function(e){return e.name})),type:"autocomplete-multiple",label:"Quyền *",action:z}]),G=[].concat(W,[{data:y.roles.map((function(e){return e.name})),type:"autocomplete",label:"Quyền *",action:z}]),K=function(){var e=(0,r.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===l||""===l.trim()?((0,w.OV)(S,{typeSnackbar:O.QS,messageSnackbar:H.wb}),0):null===d||""===d.trim()?((0,w.OV)(S,{typeSnackbar:O.QS,messageSnackbar:H.QD}),0):(0,U.vV)(d)?0===_.length?((0,w.OV)(S,{typeSnackbar:O.QS,messageSnackbar:H.D1}),0):(0,N.j5)(h.currentUser)&&""===R.trim()?((0,w.OV)(S,{typeSnackbar:O.QS,messageSnackbar:H.xq}),0):(0,N.j5)(h.currentUser)||(0,N.OB)(h.currentUser)||null!==L||((0,w.OV)(S,{typeSnackbar:O.QS,messageSnackbar:H.E}),0):((0,w.OV)(S,{typeSnackbar:O.QS,messageSnackbar:H.FD}),0))){e.next=7;break}if(null===(n=(0,N.j5)(h.currentUser)?(a=void 0,(a=Z.organizations.filter((function(e){return e.name===R}))).length>0?a[0]:null):h.currentUser.organization)){e.next=7;break}return e.next=5,(0,lt.rN)({token:h.token,fullName:l,email:d,roles:Array.isArray(_)?_:Array.of(_),organizationId:n.id,locationId:L?L.id:""});case 5:null!==(r=e.sent).data?((0,w.OV)(S,{typeSnackbar:O.GF,messageSnackbar:H.BT}),t(),(0,ut.cn)(b,r.data)):(0,w.OV)(S,{typeSnackbar:O.QS,messageSnackbar:r.messageError});case 7:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.j5)(h.currentUser)?c.createElement(P.Z,{title:"Thêm người dùng",fields:B,handleAddOrUpdate:K,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t}):(0,N.OB)(h.currentUser)?c.createElement(P.Z,{title:"Thêm người dùng",fields:Q,handleAddOrUpdate:K,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t}):c.createElement(P.Z,{title:"Thêm người dùng",fields:G,handleAddOrUpdate:K,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t},c.createElement(xt,{type:"autocomplete",label:"Chi nhánh *",handleChoose:function(e){e.length>0?F(e[0]):F(null)}}))},kt=n(9633),Ct=n(5641),wt=n(3238),Ot=n(7294);function Pt(e){var t=e.avatar,n=e.handleFile,r=(0,c.useState)(null),o=(0,a.Z)(r,2),i=o[0],l=o[1];return Ot.createElement(m.Z,{display:"flex",justifyContent:"center",paddingBottom:"41px"},Ot.createElement(kt.Z,{handleOnAbort:function(){},handleOnError:function(){},handleOnLoad:function(e,t){n(e),l(t)}},Ot.createElement(m.Z,{position:"relative"},Ot.createElement(Ct.Z,{src:null==i?null!==t?t.path:wt.Z:i,alt:"",size:"xxl",shadow:"md"}),Ot.createElement(L.Z,{style:{color:"white",position:"absolute",top:"40%",left:"40%"}},"image"))))}var Tt=function(e){var t,n=e.handleClose,o=e.user,l=(0,c.useState)(null),u=(0,a.Z)(l,2),s=u[0],m=u[1],d=(0,c.useState)(o.fullName),f=(0,a.Z)(d,2),p=f[0],h=f[1],g=(0,c.useState)(o.email),b=(0,a.Z)(g,2),v=b[0],y=b[1],E=(0,c.useState)([]),Z=(0,a.Z)(E,2),x=Z[0],S=Z[1],k=(0,c.useState)(null===(t=o.organization)||void 0===t?void 0:t.name),T=(0,a.Z)(k,2),_=T[0],z=T[1],j=c.useState(o.location),A=(0,a.Z)(j,2),R=A[0],I=A[1],D=(0,C.b3)(),M=(0,a.Z)(D,1)[0],L=(0,ut.k7)(),F=(0,a.Z)(L,2)[1],W=(0,st.EO)(),B=(0,a.Z)(W,1)[0],Q=(0,V.T2)(),G=(0,a.Z)(Q,1)[0],K=(0,w.xO)(),q=(0,a.Z)(K,2)[1];(0,c.useEffect)((function(){M.token&&S((0,N.j5)(M.currentUser)||(0,N.OB)(M.currentUser)?o.roles.map((function(e){return e.name})):o.roles[0].name)}),[M.token]);var X=[{data:p,type:"name",label:"Họ và tên *",action:h},{data:v,type:"email",label:"Email",action:y}],J=[].concat(X,[{data:B.roles.map((function(e){return e.name})),checked:x,type:"autocomplete-multiple",label:"Quyền *",action:S},{data:G.organizations.map((function(e){return e.name})),choosedValue:_,type:"autocomplete",label:"Tổ chức *",action:z}]),Y=[].concat(X,[{data:B.roles.map((function(e){return e.name})),checked:x,type:"autocomplete-multiple",label:"Quyền *",action:S}]),$=[].concat(X,[{data:B.roles.map((function(e){return e.name})),choosedValue:x,type:"autocomplete",label:"Quyền *",action:S}]),ee=function(){var e=(0,r.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===p||""===p.trim()?((0,w.OV)(q,{typeSnackbar:O.QS,messageSnackbar:H.wb}),0):null===v||""===v.trim()?((0,w.OV)(q,{typeSnackbar:O.QS,messageSnackbar:H.QD}),0):(0,U.vV)(v)?0===x.length?((0,w.OV)(q,{typeSnackbar:O.QS,messageSnackbar:H.D1}),0):(0,N.j5)(M.currentUser)||(0,N.OB)(M.currentUser)||null!==R||((0,w.OV)(q,{typeSnackbar:O.QS,messageSnackbar:H.E}),0):((0,w.OV)(q,{typeSnackbar:O.QS,messageSnackbar:H.FD}),0))){e.next=7;break}if(null===(t=(0,N.j5)(M.currentUser)?(a=void 0,(a=G.organizations.filter((function(e){return e.name===_}))).length>0?a[0]:null):M.currentUser.organization)){e.next=7;break}return e.next=5,(0,lt.H6)({token:M.token,userId:o.id,file:s,fullName:p,email:v,organizationId:t.id,locationId:R?R.id:"",roles:Array.isArray(x)?"[".concat(x.map((function(e){return'"'.concat(e,'"')})).join(","),"]"):'["'.concat(x,'"]')});case 5:null!==(r=e.sent).data?((0,w.OV)(q,{typeSnackbar:O.GF,messageSnackbar:O.NC}),n(),(0,ut.qB)(F,r.data)):(0,w.OV)(q,{typeSnackbar:O.QS,messageSnackbar:r.messageError});case 7:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();return null!==M.currentUser&&(0,N.j5)(M.currentUser)?c.createElement(P.Z,{title:"Cập nhật người dùng",fields:J,handleAddOrUpdate:ee,actionLabel:O.L,visibleCloseButton:!0,handleClose:n,headChildren:c.createElement(Pt,{avatar:o.avatar,handleFile:function(e){return m(e)}})}):(0,N.OB)(M.currentUser)?c.createElement(P.Z,{title:"Cập nhật người dùng",fields:Y,handleAddOrUpdate:ee,actionLabel:O.L,visibleCloseButton:!0,handleClose:n}):c.createElement(P.Z,{title:"Cập nhật người dùng",fields:$,handleAddOrUpdate:ee,actionLabel:O.L,visibleCloseButton:!0,handleClose:n},c.createElement(xt,{type:"autocomplete",label:"Chi nhánh *",defaultData:R?Array.of(R):[],handleChoose:function(e){e.length>0?I(e[0]):I(null)}}))};var _t=function(e){var t,n,r=e.handleClose,a=e.user;return c.createElement(J.Z,{title:"Thông tin người dùng",handleClose:r,enableUpdate:!1},c.createElement(m.Z,{display:"flex",flexDirection:"column"},c.createElement(m.Z,{display:"flex",justifyContent:"center",paddingBottom:"41px"},c.createElement(Ct.Z,{src:a.avatar?a.avatar.path:wt.Z,alt:a.fullName,size:"xxl",shadow:"md"})),c.createElement(m.Z,{display:"flex",flexDirection:"column",lineHeight:"28px"},c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Họ và tên: ",a.fullName),c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Email: ",a.email),c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Tổ chức: ",null===(t=a.organization)||void 0===t?void 0:t.name),a.location&&c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Chi nhánh: ",null===(n=a.location)||void 0===n?void 0:n.name),c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Quyền: ",a.roles.map((function(e){return"".concat(e.name," ")}))))))},zt=(0,he.ZP)("span")((function(e){var t=e.theme,n=t.palette,r=t.typography,a=t.functions,o=n.white,i=r.size,c=r.fontWeightMedium,l=a.pxToRem;return{color:o.main,fontSize:i.xl,padding:"".concat(l(9)," ").concat(l(6)," ").concat(l(8)),marginLeft:l(40),fontWeight:c,cursor:"pointer",lineHeight:0}})),jt=n(7294);function At(e){var t=e.value,n=e.handleClose;return jt.createElement(m.Z,{borderRadius:20,px:1,my:1,style:{backgroundColor:"#4F4F52",color:"white",fontSize:"0.875rem",padding:"10px"}},t,jt.createElement(zt,{onClick:n,style:{marginLeft:"10px"}},"×"))}var Rt=n(7294);function It(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,c.useState)(null),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,ut.k7)(),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,c.useState)(f.filter.status),g=(0,a.Z)(h,2),b=g[0],v=g[1],y=(0,w.xO)(),E=(0,a.Z)(y,2)[1],Z=function(){r(null)},x=function(e){var t=null;e?(v(e),t=e):v(null),(0,ut.fV)(p,{status:t}),Z()};return Rt.createElement(m.Z,{display:"flex",gap:"10px",style:{marginLeft:"10px",alignItems:"center"}},b&&Rt.createElement(At,{value:"".concat(b),handleClose:function(){x(null)}}),Rt.createElement(L.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:function(e){r(n?null:e.currentTarget)}},"filter_list"),Rt.createElement(Re.Z,{anchorEl:n,anchorReference:null,placement:"bottom-start",open:Boolean(n),style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},Rt.createElement(m.Z,{display:"block",style:{marginTop:"16px"}},Rt.createElement(fe.Z,{value:l,key:"fields_status",onChange:function(e,t){return u(t)},disablePortal:!0,id:"autocomplete_status",options:["Đang hoạt động","Đã xóa","Đang chờ xác nhận"],renderInput:function(e){return Rt.createElement(Ie.Z,(0,ie.Z)({},e,{label:"Trạng thái"}))},ListboxProps:{style:{maxHeight:"15rem"}}}),Rt.createElement(m.Z,{mt:1,mb:1,display:"flex"},Rt.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation(),(0,w.QP)(E),x(l),(0,w.Zk)(E)}},"Xác nhận"),Rt.createElement(m.Z,{sx:{width:"30px"}}),Rt.createElement(G.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:Z},"Hủy bỏ")))))}var Dt=function(){var e=(0,ut.k7)(),t=(0,a.Z)(e,2)[1];return c.createElement(at,{tableTitle:"Danh sách người dùng",tableData:pt,AddForm:function(e){var t=e.handleClose;return St({handleClose:t})},EditForm:function(e){var t=e.handleClose,n=e.item;return Tt({handleClose:t,user:n})},ViewForm:function(e){var t=e.handleClose,n=e.item;return _t({handleClose:t,user:n})},FilterForm:It,deleteAction:{actionDelete:function(e){return(0,ut.UU)(t,e)},deleteApi:lt.Q3},optionFeature:{enableCreate:!0,enableExport:!1,enableImport:!1}})},Nt=n(5403),Mt=n(4942),Lt=n(1492);function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){(0,Mt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft=function(e){return{id:e.id,lateTime:e.late_time,lateInWeek:e.late_in_week,lateInQuarter:e.late_in_quarter,lateInMonth:e.late_in_month,notificationMethod:(0,Lt.V)(e.notification_method),startDayOfWeek:e.start_day_of_week,endDayOfWeek:e.end_day_of_week}},Vt=n(41),Wt=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z().get(j.EO,(0,He.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:e.data.shifts.map((function(e){return(0,Vt.z)(e)}))}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z().get(j.e5,(0,He.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:Ft(e.data.time_keeping_notification)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=(0,r.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z().put((0,j.WT)(n.id),(0,Vt.$)(n),(0,He.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,Vt.z)(e.data.shift)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gt=function(e,t){return z().put((0,j.lb)(t.id),function(e){return Ut(Ut({id:e.id,late_time:e.lateTime,late_in_week:e.lateInWeek,late_in_month:e.lateInMonth,late_in_quarter:e.lateInQuarter},(0,Lt.h)(e.notificationMethod)),{},{start_day_of_week:e.startDayOfWeek,end_day_of_week:e.endDayOfWeek})}(t),(0,He.p)(e)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:Ft(e.data.time_keeping_notification)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}}))},Kt=function(){var e=(0,r.Z)(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z().post(j.aT,{employee_ids:n,check_all:r},(0,He.p)(t)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),qt=n(9842),Xt=n(2856),Jt=n(4571);var Yt=function(e){var t=e.label,n=e.time,r=e.handleChooseTime,o=c.useState(n),i=(0,a.Z)(o,2),l=i[0],u=i[1];return c.useEffect((function(){u(n)}),[n]),c.createElement(Xt._,{dateAdapter:qt.H},c.createElement(Jt.j,{ampm:!1,inputFormat:"HH:mm:ss",mask:"__:__:__",label:t,renderInput:function(e){return c.createElement(Ie.Z,e)},value:l,onChange:function(e){u(e),r(e)}}))};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){(0,Mt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e){var t=e.shift,n=e.handleChange;return c.createElement(ee.ZP,{container:!0,mb:3,spacing:4},c.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},c.createElement(b.Z,{fontSize:16,fontWeight:"medium"},t.name)),c.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},c.createElement(m.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2},c.createElement(Yt,{label:"Thời gian bắt đầu",time:(0,U.RV)(t.timeStart),handleChooseTime:function(e){return function(e){null!=e&&n(en(en({},t),{},{timeStart:(0,U.fk)(e)}))}(e)}}),c.createElement(Yt,{label:"Thời gian kết thúc",time:(0,U.RV)(t.timeEnd),handleChooseTime:function(e){return function(e){null!=e&&n(en(en({},t),{},{timeEnd:(0,U.fk)(e)}))}(e)}}))))}function nn(e){var t=e.shifts,n=e.handleChange,r=(0,c.useState)(t),o=(0,a.Z)(r,2),i=o[0],l=o[1],u=function(e){var r=t.map((function(t){return t.id===e.id?e:t}));n(r)};return(0,c.useEffect)((function(){l(t)}),[t]),c.createElement(ee.ZP,{item:!0,xs:12,md:6,lg:6},c.createElement(te.Z,null,c.createElement(m.Z,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:2},c.createElement(b.Z,{fontWeight:"bold",fontSize:24,mt:2,mb:4,style:{color:"black"}},"Ca làm việc"),i.map((function(e,t){return c.createElement(c.Fragment,{key:"".concat(e.name,"_").concat(t)},c.createElement(tn,{shift:e,handleChange:function(e){return u(e)}}))})))))}var rn=n(2580),an=n(270);function on(e){var t=e.title;return c.createElement(ee.ZP,{item:!0},c.createElement(b.Z,{fontSize:16,fontWeight:"medium"},t))}function cn(e){var t=e.title,n=e.value,r=e.adornment,o=e.isSecondary,i=e.handleChange,l=(0,c.useState)(n),u=(0,a.Z)(l,2),s=u[0],m=u[1];return(0,c.useEffect)((function(){m(n)}),[n]),c.createElement(ee.ZP,{container:!0,mb:1},o?c.createElement(c.Fragment,null,c.createElement(ee.ZP,{item:!0,xs:1,md:1,lg:1}),c.createElement(ee.ZP,{item:!0,xs:8,md:8,lg:8},c.createElement(b.Z,{fontSize:14},t))):c.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},c.createElement(on,{title:t})),c.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},c.createElement(rn.Z,{id:"outlined-adornment",value:s,onChange:function(e){return function(e){try{var t=parseInt(e.target.value,10);isNaN(t)&&(t=0),m(t),i(t)}catch(e){console.log(e)}}(e)},endAdornment:c.createElement(an.Z,{position:"end"},c.createElement(b.Z,{fontSize:14},r))})))}function ln(e){var t=e.label,n=e.checked,r=e.handleAfterChangeChecked,o=(0,c.useState)(n),i=(0,a.Z)(o,2),l=i[0],u=i[1];return(0,c.useEffect)((function(){u(n)}),[n]),c.createElement(ee.ZP,{item:!0},c.createElement(m.Z,{display:"flex",alignItems:"center"},c.createElement(Oe.Z,{checked:l,onChange:function(e){return function(e){u(e.target.checked),r(e.target.checked)}(e)}}),c.createElement(b.Z,{fontSize:14},t)))}var un=n(4721);function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){(0,Mt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn=["Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy","Chủ nhật"];function fn(e){var t=e.timeKeepingNotification,n=e.handleChange,r=(0,c.useState)(t),o=(0,a.Z)(r,2),i=o[0],l=o[1],u=function(e){n(mn(mn({},i),{},{lateTime:e}))},s=function(e){n(mn(mn({},i),{},{lateInWeek:e}))},m=function(e){n(mn(mn({},i),{},{lateInMonth:e}))},d=function(e){n(mn(mn({},i),{},{lateInQuarter:e}))},f=function(e){return dn[0===e?6:e-1]};return(0,c.useEffect)((function(){l(t)}),[t]),c.createElement(ee.ZP,{item:!0,xs:12,md:6,lg:6},c.createElement(te.Z,null,c.createElement(ee.ZP,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:2},c.createElement(b.Z,{fontWeight:"bold",fontSize:24,mt:2,mb:4,style:{color:"black"}},"Cảnh báo"),c.createElement(ee.ZP,{container:!0,mb:3,spacing:4},c.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},c.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Ngày làm việc:")),c.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},c.createElement(ee.ZP,{container:!0,spacing:2},c.createElement(ee.ZP,{item:!0,xs:6,md:6,lg:6},c.createElement(fe.Z,{value:f(t.startDayOfWeek),key:"fields_start_day_of_week",onChange:function(e,t){return function(e){if(null!=e){var t=dn.indexOf(e)+1,r=7===t?0:t;return n(mn(mn({},i),{},{startDayOfWeek:r}))}return null}(t)},disablePortal:!0,id:"autocomplete_start_day",className:"time-keeping-noti-autocomplete",options:dn,renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:"Chọn ngày bắt đầu tuần"}))},ListboxProps:{style:{maxHeight:"15rem"}}})),c.createElement(ee.ZP,{item:!0,xs:6,md:6,lg:6},c.createElement(fe.Z,{value:f(t.endDayOfWeek),key:"fields_end_day_of_week",onChange:function(e,t){return function(e){if(null!=e){var t=dn.indexOf(e)+1,r=7===t?0:t;return n(mn(mn({},i),{},{endDayOfWeek:r}))}return null}(t)},disablePortal:!0,id:"autocomplete_end_day",className:"time-keeping-noti-autocomplete",options:dn,renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:"Chọn ngày kết thúc tuần"}))},ListboxProps:{style:{maxHeight:"15rem"}}}))))),c.createElement(cn,{title:"Thời gian cho phép đi muộn:",value:i.lateTime,adornment:"phút",isSecondary:!1,handleChange:function(e){return u(e)}}),c.createElement(ee.ZP,{container:!0,mb:1},c.createElement(on,{title:"Số lần đi muộn cần nhắc nhở:"}),c.createElement(Pe.Z,{title:"Nếu nhân viên đi muộn quá số lần trong tuần, tháng, quý thì sẽ nhận được cảnh báo qua các hình thức cảnh báo"},c.createElement(un.Z,{color:"info"}))),c.createElement(cn,{title:"Theo tuần:",value:i.lateInWeek,adornment:"lần",isSecondary:!0,handleChange:function(e){return s(e)}}),c.createElement(cn,{title:"Theo tháng:",value:i.lateInMonth,adornment:"lần",isSecondary:!0,handleChange:function(e){return m(e)}}),c.createElement(cn,{title:"Theo quý:",value:i.lateInQuarter,adornment:"lần",isSecondary:!0,handleChange:function(e){return d(e)}}),c.createElement(ee.ZP,{container:!0,mb:1},c.createElement(on,{title:"Hình thức cảnh báo:"})),c.createElement(ee.ZP,{container:!0,mb:3,spacing:10},c.createElement(ln,{label:"Tin nhắn OTT",checked:i.notificationMethod.useOTT,handleAfterChangeChecked:function(e){return function(e){n(mn(mn({},i),{},{notificationMethod:mn(mn({},i.notificationMethod),{},{useOTT:e})}))}(e)}}),c.createElement(ln,{label:"Email",checked:i.notificationMethod.useEmail,handleAfterChangeChecked:function(e){return function(e){n(mn(mn({},i),{},{notificationMethod:mn(mn({},i.notificationMethod),{},{useEmail:e})}))}(e)}})))))}var pn=n(9326),hn=n(1508),gn=n(7720),bn=n(2077),vn=c.createElement(ht.Z,{fontSize:"small"}),yn=c.createElement(gt.Z,{fontSize:"small"});function En(e){var t=e.label,n=e.handleChoose,o=e.defaultData,l=e.PopperComponent,u=e.type,s=e.status,d=e.minWidth,f=void 0===d?250:d,p=(0,c.useState)(0),h=(0,a.Z)(p,2),g=h[0],b=h[1],v=(0,c.useState)(0),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,c.useState)(""),S=(0,a.Z)(x,2),k=S[0],w=S[1],O=(0,c.useState)([]),P=(0,a.Z)(O,2),T=P[0],_=P[1],z=(0,c.useState)([]),j=(0,a.Z)(z,2),A=j[0],R=j[1],I=(0,C.b3)(),D=(0,a.Z)(I,1)[0],N=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,o=t.isLoadMore,c=t.status,null===D.token){e.next=6;break}return e.next=4,Ve({token:D.token,page:n,size:r,search:a,status:c});case 4:null!==(l=e.sent).data&&(Z(l.data.pageCount),R(o?function(e){return[].concat((0,oe.Z)(e),(0,oe.Z)(l.data.data))}:l.data.data));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[D.token]);(0,c.useEffect)((function(){D.token&&N({page:0,size:10,isLoadMore:!1,status:s}).catch(console.error)}),[D.token]);(0,c.useEffect)((function(){_(A.map((function(e){return"".concat(e.code,"-").concat(e.name)})))}),[A]),(0,c.useEffect)((function(){var e=setTimeout((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({page:0,size:10,search:k,isLoadMore:!1,status:s});case 2:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearTimeout(e)}}),[k]);var M=function(e){var t,n=e.currentTarget,r=n.scrollTop+n.clientHeight;n.scrollHeight-r<=1&&g<E-1&&(b(t=g+1),N({page:t,size:10,isLoadMore:!0,status:s}).catch(console.error))},L=function(e,t){e.stopPropagation();var r=[];A.forEach((function(e){t.includes("".concat(e.code,"-").concat(e.name))&&r.push(e)})),n(r)};return c.createElement(m.Z,{mb:2,key:t},"autocomplete"===u?c.createElement(fe.Z,{sx:{minWidth:"".concat(f,"px")},key:"field_employee",onChange:function(e,t){L(e,t?Array.of(t):[])},value:o&&o.length>0?"".concat(o[0].code,"-").concat(o[0].name):void 0,disablePortal:!0,noOptionsText:"Không tìm thấy nhân sự phù hợp",id:"employee-autocomplete",options:T,renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;w(t.value)},onClick:function(){w("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:M},ListboxComponent:yt}):c.createElement(fe.Z,{value:o?o.map((function(e){return"".concat(e.code,"-").concat(e.name)})):void 0,key:"fields_".concat(t),onChange:L,multiple:!0,disableCloseOnSelect:!0,id:"tags-filled",options:T,renderOption:function(e,t,n){var r=n.selected;return c.createElement("li",(0,ie.Z)({},e,{style:{marginBottom:"5px"}}),c.createElement(Oe.Z,{icon:vn,checkedIcon:yn,style:{marginRight:8},checked:r}),t)},renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;w(t.value)},onClick:function(){w("")}}))},PopperComponent:l,ListboxProps:{style:{maxHeight:"15rem"},onScroll:M},ListboxComponent:yt}))}var Zn=function(e){var t=e.handleClose,n=(0,c.useState)([]),o=(0,a.Z)(n,2),l=o[0],u=o[1],s=c.useState(!0),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,C.b3)(),g=(0,a.Z)(h,1)[0],b=(0,w.xO)(),v=(0,a.Z)(b,2)[1],y=function(){var e=(0,r.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.map((function(e){return e.id})),e.next=3,Kt(g.token,f?null:n,f);case 3:null!==(r=e.sent).data?(0,w.OV)(v,{typeSnackbar:O.GF,messageSnackbar:H.wU}):(0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:r.messageError}),t();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(0,he.ZP)(Re.Z)((function(e){var t=e.theme;return{border:"1px solid ".concat("light"===t.palette.mode?"rgba(149, 157, 165, 0.2)":"rgb(1, 4, 9)")}})),Z=function(e){p(e.target.checked)};return c.createElement(m.Z,{px:1,width:"100%",height:"100vh",mx:"auto"},c.createElement(ee.ZP,{container:!0,justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},c.createElement(ee.ZP,{item:!0,xs:11,sm:9,md:9,lg:6,xl:6,style:{backgroundColor:"white",padding:"20px",borderRadius:"10px"}},c.createElement(m.Z,{mt:5},c.createElement(bn.Z,{image:O.ep,width:50})),c.createElement(ee.ZP,{container:!0,justifyContent:"center",spacing:2,mt:3},c.createElement(ee.ZP,{item:!0,xs:2,sm:2,md:2,lg:2,xl:2},c.createElement(m.Z,null,"Chia sẻ cho ")),c.createElement(ee.ZP,{item:!0,xs:7,sm:7,md:7,lg:7,xl:7},f?c.createElement(hn.Z,{sx:{backgroundColor:"white",height:"45px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},c.createElement(Oe.Z,{defaultChecked:!0,onChange:function(){p(!1)},id:"check-all",sx:{marginRight:"8px"},onMouseDown:function(e){return e.preventDefault()}}),"Tất cả nhân sự"):c.createElement(En,{label:"Danh sách nhân viên",type:"autocomplete-multiple",handleChoose:function(e){e.length>0&&u(e)},status:"active",PopperComponent:function(e){return c.createElement(E,e,c.createElement(hn.Z,e),c.createElement(gn.Z,null),c.createElement(hn.Z,{sx:{backgroundColor:"white",height:"45px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},c.createElement(Oe.Z,{checked:f,onChange:Z,id:"check-all",sx:{marginRight:"8px"},onMouseDown:function(e){return e.preventDefault()}}),"Tất cả nhân sự"))}}))),c.createElement(m.Z,{mt:4,mb:1,display:"flex"},c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:y},"Chia sẻ"),c.createElement(m.Z,{sx:{width:"30px"}}),c.createElement(G.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:function(e){e.stopPropagation(),t()}},"Hủy bỏ")))))};var xn=function(){var e=(0,c.useState)([]),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,c.useState)(null),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,c.useState)(!1),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,C.b3)(),v=(0,a.Z)(b,1)[0],y=(0,w.xO)(),E=(0,a.Z)(y,2)[1],Z=(0,pn.e)(),x=(0,a.Z)(Z,2),S=x[0],k=x[1],P=(0,Nt.hY)(),T=(0,a.Z)(P,2),_=T[0],z=T[1];(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.token){e.next=9;break}return e.next=3,Promise.all([Wt(v.token),Bt(v.token)]);case 3:t=e.sent,n=(0,a.Z)(t,2),r=n[0],o=n[1],null!==r.data&&(0,pn.qT)(k,r.data),null!=o.data&&(0,Nt.Gp)(z,o.data);case 9:case"end":return e.stop()}}),e)}))),[v.token]),(0,c.useEffect)((function(){o(S.shifts)}),[S.shifts]),(0,c.useEffect)((function(){d(_.timeKeepingNotification)}),[_.timeKeepingNotification]);var j,A=function(){var e=(0,r.Z)(i().mark((function e(){var t,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.map(function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt(v.token,t);case 2:if(null===(n=e.sent).data){e.next=5;break}return e.abrupt("return",n.data);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Gt(v.token,s);case 3:return a=e.sent,e.next=6,Promise.all(t);case 6:null!==(o=e.sent)&&null!==a?((0,pn.XP)(k,o),(0,Nt.nI)(z,a.data),(0,w.OV)(E,{typeSnackbar:O.GF,messageSnackbar:"Cập nhật thành công"})):(0,w.OV)(E,{typeSnackbar:O.QS,messageSnackbar:"Error"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){g(!1)};return c.createElement(ne.Z,null,c.createElement(ee.ZP,{container:!0,spacing:3},c.createElement(nn,{shifts:n,handleChange:function(e){return function(e){o(e)}(e)}}),null!==s&&c.createElement(fn,{timeKeepingNotification:s,handleChange:function(e){return function(e){d(e)}(e)}})),c.createElement(m.Z,{mt:4,mb:1,display:"flex",justifyContent:"center",gap:3},(null==s?void 0:s.notificationMethod.useOTT)&&c.createElement(Pe.Z,{title:"Chia sẻ mã QR tới mail của các nhân sự, nhân sự có thể quét mã để sử dụng OTT"},c.createElement(G.Z,{variant:"gradient",color:"dark",onClick:function(){return g(!0)}},"Chia sẻ mã QR OTT")),c.createElement(G.Z,{variant:"gradient",color:"info",onClick:A},"Lưu lại")),c.createElement(Ae.Z,{open:h,onClose:R,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},c.createElement(c.Fragment,null,(j=R,c.createElement(Zn,{handleClose:j})))))},Sn=n(2792),kn=n(8669);function Cn(){var e=(0,c.useState)([]),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,C.b3)(),u=(0,a.Z)(l,2),s=u[0],m=(u[1],(0,kn.fm)()),d=(0,a.Z)(m,2),f=d[0],p=d[1];(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.token){e.next=5;break}return e.next=3,(0,Sn.N)(s.token);case 3:null!==(t=e.sent).data&&(0,kn.Vf)(p,t.data);case 5:case"end":return e.stop()}}),e)}))),[s.token]);return(0,c.useEffect)((function(){f.features&&o(f.features.map((function(e){return function(e){return(0,N.j5)(s.currentUser)?{featuresName:e.name,accountUsed:e.numberAccount,organizationUsed:e.numberOrganization}:{featuresName:e.name,accountUsed:e.numberAccount}}(e)})))}),[f.features]),{columns:(0,N.j5)(s.currentUser)?[{Header:"Tên tính năng",accessor:"featuresName",align:"left"},{Header:"Số tài khoản sử dụng",accessor:"accountUsed",align:"left"},{Header:"Số tổ chức sử dụng",accessor:"organizationUsed",align:"left"}]:[{Header:"Tên tính năng",accessor:"featuresName",align:"left"},{Header:"Số tài khoản sử dụng",accessor:"accountUsed",align:"left"}],rows:n}}var wn=function(){return c.createElement(at,{tableTitle:"Danh sách tính năng",tableData:Cn,optionFeature:{enableCreate:!1,enableImport:!1,enableExport:!1}})},On=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.page,a=t.size,o=t.search,c=t.userId,l=(0,j.eH)(r,a,o||""),c&&(l+="&user_id=".concat(c)),e.abrupt("return",z().get(l,(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{data:e.data.user_logs,pageCount:e.data.total_pages,itemCount:e.data.total_items}}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pn=n(6918);function Tn(){var e=(0,c.useState)(0),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,c.useState)(0),u=(0,a.Z)(l,2),s=u[0],m=u[1],d=(0,c.useState)([]),f=(0,a.Z)(d,2),p=f[0],h=f[1],g=(0,C.b3)(),b=(0,a.Z)(g,1)[0],v=(0,Pn.uH)(),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,c.useState)(null),S=(0,a.Z)(x,2),k=S[0],w=S[1];(0,c.useEffect)((function(){k!==b.token&&w(b.token)}),[b.token]);var O=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,!k){e.next=6;break}return e.next=4,On({token:k,page:n,size:r,search:a});case 4:null!==(c=e.sent).data&&((0,Pn.Go)(Z,c.data.data),o(c.data.pageCount),m(c.data.itemCount));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]);(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=5;break}return e.next=3,On({token:k,page:0,size:10,userId:E.accountChoosed?E.accountChoosed.id:""});case 3:null!==(t=e.sent).data&&((0,Pn.Go)(Z,t.data.data),o(t.data.pageCount),m(t.data.itemCount));case 5:case"end":return e.stop()}}),e)}))),[E.accountChoosed]);return(0,c.useEffect)((function(){E.userLogs&&h(E.userLogs.map((function(e){return function(e){return{accountName:e.username,time:(0,U.Cp)(e.time),logInfo:e.content}}(e)})))}),[E.userLogs]),{columns:[{Header:"Tên tài khoản",accessor:"accountName",align:"center"},{Header:"Thời gian",accessor:"time",align:"center"},{Header:"Thông tin log",accessor:"logInfo",align:"center"}],rows:p,fetchData:O,pageCount:n,itemCount:s}}var _n=c.createElement(ht.Z,{fontSize:"small"}),zn=c.createElement(gt.Z,{fontSize:"small"});function jn(e){var t=e.label,n=e.handleChoose,o=e.defaultData,l=e.type,u=(0,c.useState)(0),s=(0,a.Z)(u,2),d=s[0],f=s[1],p=(0,c.useState)(0),h=(0,a.Z)(p,2),g=h[0],b=h[1],v=(0,c.useState)(""),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,c.useState)([]),S=(0,a.Z)(x,2),k=S[0],w=S[1],O=(0,c.useState)([]),P=(0,a.Z)(O,2),T=P[0],_=P[1],z=(0,C.b3)(),j=(0,a.Z)(z,1)[0],A=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.isLoadMore,null===j.token){e.next=6;break}return e.next=4,(0,lt.SJ)(j.token);case 4:null!==(r=e.sent).data&&(b(r.data.pageCount),_(n?function(e){return[].concat((0,oe.Z)(e),(0,oe.Z)(r.data))}:r.data));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j.token]);(0,c.useEffect)((function(){j.token&&A({page:0,size:10,isLoadMore:!1}).catch(console.error)}),[j.token]);(0,c.useEffect)((function(){w([].concat((0,oe.Z)(T.map((function(e){return"".concat(e.id,"-").concat(e.username)}))),["".concat(j.currentUser.id,"-").concat(j.currentUser.username)]))}),[T,j.currentUser]),(0,c.useEffect)((function(){var e=setTimeout((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({page:0,size:10,search:E,isLoadMore:!1});case 2:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearTimeout(e)}}),[E]);var R=function(e){var t,n=e.currentTarget,r=n.scrollTop+n.clientHeight;n.scrollHeight-r<=1&&d<g-1&&(f(t=d+1),A({page:t,size:10,isLoadMore:!0}).catch(console.error))},I=function(e,t){e.stopPropagation();var r=[];T.push(j.currentUser),T.forEach((function(e){t.includes("".concat(e.id,"-").concat(e.username))&&r.push(e)})),n(r)},D=function(e){var t=T.filter((function(t){return"".concat(t.id,"-").concat(t.username)==e}));if(t.length>0){if("deleted"===t[0].status)return"red";if("pending"===t[0].status)return"success"}return"inherit"};return c.createElement(m.Z,{mb:2,key:t},"autocomplete"===l?c.createElement(fe.Z,{sx:{minWidth:"250px"},key:"field_user",onChange:function(e,t){I(e,t?Array.of(t):[])},value:o&&o.length>0?"".concat(o[0].id,"-").concat(o[0].username):void 0,disablePortal:!0,noOptionsText:"Không tìm thấy tài khoản phù hợp",id:"user-autocomplete",options:k,renderOption:function(e,t,n){n.selected;return c.createElement("li",(0,ie.Z)({},e,{style:{marginBottom:"5px",color:D(t)}}),t)},renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;Z(t.value)},onClick:function(){Z("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:R},ListboxComponent:yt}):c.createElement(fe.Z,{value:o?o.map((function(e){return"".concat(e.id,"-").concat(e.username)})):void 0,key:"fields_".concat(t),onChange:I,multiple:!0,disablePortal:!0,disableCloseOnSelect:!0,id:"tags-filled",options:k,renderOption:function(e,t,n){var r=n.selected;return c.createElement("li",(0,ie.Z)({},e,{style:{marginBottom:"5px"}}),c.createElement(Oe.Z,{icon:_n,checkedIcon:zn,style:{marginRight:8},checked:r}),t)},renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;Z(t.value)},onClick:function(){Z("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:R},ListboxComponent:yt}))}function An(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,c.useState)([]),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(null),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,Pn.uH)(),g=(0,a.Z)(h,2)[1],b=(0,w.xO)(),v=(0,a.Z)(b,2)[1],y=function(){r(null)},E=function(e){e.length>0?((0,Pn._H)(g,e[0]),p(e[0])):((0,Pn._H)(g,null),p(null)),y()};return c.createElement(m.Z,{display:"flex",gap:"10px",style:{marginLeft:"10px",alignItems:"center"}},f&&c.createElement(At,{value:"".concat(f.id,"-").concat(f.username),handleClose:function(){E([])}}),c.createElement(L.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:function(e){r(n?null:e.currentTarget)}},"filter_list"),c.createElement(Re.Z,{anchorEl:n,anchorReference:null,placement:"bottom-start",open:Boolean(n),onClose:y,style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},c.createElement(m.Z,{display:"flex",style:{marginTop:"16px"}},c.createElement(jn,{type:"autocomplete",label:"Danh sách tài khoản",handleChoose:function(e){u(e)}}),c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation(),(0,w.QP)(v),E(l),(0,w.Zk)(v)},sx:{marginLeft:"8px",marginBottom:"16px"}},"Xác nhận"))))}var Rn=function(){return c.createElement(at,{tableTitle:"Danh sách log",tableData:Tn,FilterForm:An,optionFeature:{enableCreate:!1,enableImport:!1,enableExport:!1}})},In=n(9711);var Dn=function(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),n=t[0],o=t[1],u=(0,c.useState)(""),s=(0,a.Z)(u,2),m=s[0],d=s[1],f=(0,c.useState)(""),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,w.xO)(),v=(0,a.Z)(b,2)[1],y=(0,C.b3)(),E=(0,a.Z)(y,1)[0],Z=(0,In.lr)(),k=(0,a.Z)(Z,2),_=k[0],z=(k[1],(0,l.s0)()),j=[{data:m,type:"password",label:"Mật khẩu mới *",action:d},{data:h,type:"password",label:"Nhập lại mật khẩu *",action:g}],A=[{data:n,type:"password",label:"Mật khẩu cũ *",action:o}].concat(j),R=function(){var e=(0,r.Z)(i().mark((function e(){var t,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==_.get("code")||null!==n&&""!==n.trim()?null===m||""===m.trim()?((0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:H.h_}),0):null===h||""===h.trim()?((0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:H.Fb}),0):m!==h?((0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:H.Ag}),0):(0,U.eW)(m)||((0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:H.Oz}),0):((0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:H.$B}),0))){e.next=11;break}return t=0,r="",a=_.get("user_id"),o=_.get("code"),t=null!==a?parseInt(a,10):E.currentUser.id,null!==o&&(r=o),e.next=9,D({userId:t,code:r,oldPassword:n,newPassword:m});case 9:null!==(c=e.sent).data?((0,w.OV)(v,{typeSnackbar:O.GF,messageSnackbar:O.KY}),z(T.vf)):(0,w.OV)(v,{typeSnackbar:O.QS,messageSnackbar:c.messageError});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.createElement(x,{image:S},_.get("code")?c.createElement(P.Z,{title:"Thay đổi mật khẩu",fields:j,handleAddOrUpdate:R,actionLabel:O.sk,visibleCloseButton:!1}):c.createElement(P.Z,{title:"Thay đổi mật khẩu",fields:A,handleAddOrUpdate:R,actionLabel:O.sk,visibleCloseButton:!1}))},Nn=n(4956),Mn=n(1967),Ln=n(4286);function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){(0,Mt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn=function(e){return{id:e.id,areaRestriction:(0,Ln.C)(e.area_restriction),notificationMethod:(0,Lt.V)(e.notification_method),managers:e.managers?e.managers.map((function(e){return function(e){return{manager:e.manager?(0,Ue.j)(e.manager):{},timeSkip:e.time_skip}}(e)})):null}},Vn=function(e){return Un(Un({},(0,Lt.h)(e.notificationMethod)),{},{manager_times:e.managers?e.managers.map((function(e){return{manager_id:e.manager?e.manager.id:null,time_skip:e.timeSkip}})):[]})},Wn=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.page,a=t.size,o=t.search,e.abrupt("return",z().get((0,j.t0)(r,a,o||""),(0,He.p)(n)).then((function(e){if(200===e.status){if(1===e.data.code){var t=[];return e.data.area_restrictions.forEach((function(e){var n=(0,Ln.C)(e);t.push(n)})),{messageError:e.data.message,data:{data:t,pageCount:e.data.total_pages,itemCount:e.data.total_items}}}return{messageError:e.data.message,data:null}}return{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bn=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.areaName,a=t.areaCode,o=t.personnelInCharge,c=t.timeStart,l=t.timeEnd,e.abrupt("return",z().post(j.At,{name:r,code:a,manager_ids:o,time_start:c,time_end:l},(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,Ln.C)(e.data.area_restriction)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qn=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.areaRestriction,e.abrupt("return",z().put((0,j.DF)(r.id),(0,Ln.G)(r),(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:(0,Ln.C)(e.data.area_restriction)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.areaRestrictionNotification,e.abrupt("return",z().put((0,j.H7)(r.areaRestriction.id),Vn(r),(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.mesasge,data:Fn(e.data.area_restriction_notification)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kn=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,e.abrupt("return",z().delete((0,j.Xz)(r),(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:!0}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qn=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.id,e.abrupt("return",z().get((0,j.H7)(r),(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:Fn(e.data.area_restriction_notification)}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xn=c.createElement(ht.Z,{fontSize:"small"}),Jn=c.createElement(gt.Z,{fontSize:"small"});function Yn(e){var t=e.label,n=e.handleChoose,o=e.defaultData,l=e.type,u=e.PopperComponent,s=e.wrapperTextFieldClassName,d=e.minWidth,f=void 0===d?250:d,p=(0,c.useState)(0),h=(0,a.Z)(p,2),g=h[0],b=h[1],v=(0,c.useState)(0),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,c.useState)(""),S=(0,a.Z)(x,2),k=S[0],w=S[1],O=(0,c.useState)([]),P=(0,a.Z)(O,2),T=P[0],_=P[1],z=(0,c.useState)([]),j=(0,a.Z)(z,2),A=j[0],R=j[1],I=(0,C.b3)(),D=(0,a.Z)(I,1)[0],N=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,o=t.isLoadMore,null===D.token){e.next=6;break}return e.next=4,Wn({token:D.token,page:n,size:r,search:a});case 4:null!==(c=e.sent).data&&(Z(c.data.pageCount),R(o?function(e){return[].concat((0,oe.Z)(e),(0,oe.Z)(c.data.data))}:c.data.data));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[D.token]);(0,c.useEffect)((function(){D.token&&N({page:0,size:10,isLoadMore:!1}).catch(console.error)}),[D.token]);(0,c.useEffect)((function(){_(A.map((function(e){return e.areaName})))}),[A]),(0,c.useEffect)((function(){var e=setTimeout((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({page:0,size:10,search:k,isLoadMore:!1});case 2:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearTimeout(e)}}),[k]);var M=function(e){var t,n=e.currentTarget,r=n.scrollTop+n.clientHeight;n.scrollHeight-r<=1&&g<E-1&&(b(t=g+1),N({page:t,size:10,isLoadMore:!0}).catch(console.error))},L=function(e,t){e.stopPropagation();var r=[];A.forEach((function(e){t.includes(e.areaName)&&r.push(e)})),n(r)};return c.createElement(m.Z,{mb:2,key:t},"autocomplete"===l?c.createElement(fe.Z,{PopperComponent:u,sx:{minWidth:"".concat(f,"px")},key:"field_areaRestriction",onChange:function(e,t){L(e,t?Array.of(t):[])},value:o&&o.length>0?o[0].areaName:void 0,disablePortal:!0,noOptionsText:"Không tìm thấy KVHC phù hợp",id:"areaRestriction-autocomplete",options:T,renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({className:s},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;w(t.value)},onClick:function(){w("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:M},ListboxComponent:yt}):c.createElement(fe.Z,{value:o?o.map((function(e){return e.areaName})):void 0,key:"fields_".concat(t),onChange:L,multiple:!0,disablePortal:!0,disableCloseOnSelect:!0,id:"tags-filled",options:T,renderOption:function(e,t,n){var r=n.selected;return c.createElement("li",(0,ie.Z)({},e,{style:{marginBottom:"5px"}}),c.createElement(Oe.Z,{icon:Xn,checkedIcon:Jn,style:{marginRight:8},checked:r}),t)},renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;w(t.value)},onClick:function(){w("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:M},ListboxComponent:yt}))}var $n=function(e){var t=e.handleClose,n=(0,c.useState)(""),o=(0,a.Z)(n,2),l=o[0],u=o[1],s=(0,c.useState)(""),m=(0,a.Z)(s,2),d=m[0],f=m[1],p=c.useState(null),h=(0,a.Z)(p,2),g=h[0],b=h[1],v=(0,c.useState)(null),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=c.useState(null),S=(0,a.Z)(x,2),k=S[0],T=S[1],_=(0,C.b3)(),z=(0,a.Z)(_,1)[0],j=(0,Mn.IY)(),A=(0,a.Z)(j,2)[1],R=(0,w.xO)(),I=(0,a.Z)(R,2)[1],D=[{data:l,type:"name",label:"Tên camera *",action:u},{data:d,type:"ipAddress",label:"Link rtsp camera *",action:f}],M=[].concat(D,[{data:["Check in","Check out"],type:"autocomplete",label:"Check in/ Check out *",action:Z}]),L=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===l||""===l.trim()?((0,w.OV)(I,{typeSnackbar:O.QS,messageSnackbar:H.Mx}),0):null===d?((0,w.OV)(I,{typeSnackbar:O.QS,messageSnackbar:H.t_}),0):!(0,N.N_)()||null!==E&&""!==E.trim()||((0,w.OV)(I,{typeSnackbar:O.QS,messageSnackbar:H.px}),0))){e.next=6;break}if(!z.token){e.next=6;break}return e.next=4,(0,Nn.tM)({token:z.token,name:l,ipAddress:d,locationId:g?g.id:null,type:E||"",areaRestrictionId:k?k.id:null});case 4:null!==(n=e.sent).data?((0,w.OV)(I,{typeSnackbar:O.GF,messageSnackbar:H.$m}),t(),(0,Mn.vV)(A,n.data)):(0,w.OV)(I,{typeSnackbar:O.QS,messageSnackbar:n.messageError});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.N_)()?c.createElement(P.Z,{title:"Thêm mới camera",fields:M,handleAddOrUpdate:L,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t},c.createElement(xt,{type:"autocomplete",label:"Chi nhánh *",handleChoose:function(e){e.length>0?b(e[0]):b(null)}})):c.createElement(P.Z,{title:"Thêm mới camera",fields:D,handleAddOrUpdate:L,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t},c.createElement(Yn,{type:"autocomplete",label:"Khu vực hạn chế *",handleChoose:function(e){e.length>0?T(e[0]):T(null)}}))};function er(e,t,n,o){var l=(0,c.useState)(0),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,c.useState)(0),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,c.useState)([]),v=(0,a.Z)(b,2),y=v[0],E=v[1],Z=(0,C.b3)(),x=(0,a.Z)(Z,1)[0],S=(0,Mn.IY)(),k=(0,a.Z)(S,2),w=k[0],O=k[1],P=(0,c.useState)(null),T=(0,a.Z)(P,2),_=T[0],z=T[1];(0,c.useEffect)((function(){_!==x.token&&z(x.token)}),[x.token]);var j=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,!_){e.next=9;break}return o=w.filter.areaRestriction?w.filter.areaRestriction.id:"",c=w.filter.status?"Đã xóa"===w.filter.status?"deleted":"active":"",l=w.locationChoosed?w.locationChoosed.id:(0,N.N_)()?"":x.currentUser.location.id,e.next=7,(0,Nn.kW)({token:x.token,page:n,size:r,search:a,areaRestrictionId:o,locationId:l,status:c});case 7:null!==(u=e.sent).data&&((0,Mn.T5)(O,u.data.data),d(u.data.pageCount),g(u.data.itemCount));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[_,w.filter,w.locationChoosed]);return(0,c.useEffect)((function(){w.cameras&&E(w.cameras.map((function(r){return function(r){var a;return{cameraName:r.name,location:(0,N.N_)()?r.location?null===(a=r.location)||void 0===a?void 0:a.name:"Không có chi nhánh":r.areaRestriction?r.areaRestriction.areaName:"Không có",ipAddress:r.ipAddress,typeCamera:r.type,setting:"active"===r.status?c.createElement(m.Z,{display:"flex",alignItems:"center",mt:{xs:2,sm:0},ml:{xs:-1.5,sm:0}},c.createElement(G.Z,{variant:"text",color:"info",onClick:function(){return o(r)}},c.createElement(L.Z,null,"settings")," Cài đặt")):c.createElement("div",null),status:(0,U.Fq)(r.status),action:"active"===r.status?c.createElement(ft,{handleView:function(){return e(r)},handleEdit:function(){return t(r)},handleDelete:function(){return n(r)}}):c.createElement("div",null)}}(r)})))}),[w.cameras]),{columns:(0,N.N_)()?[{Header:"Tên camera",accessor:"cameraName",align:"center"},{Header:"Chi nhánh",accessor:"location",align:"center"},{Header:"Link rtsp camera",accessor:"ipAddress",align:"center"},{Header:"Check in/Check out",accessor:"typeCamera",align:"center"},{Header:"Trạng thái",accessor:"status",align:"center"},{Header:"Thao tác",accessor:"action",align:"center"}]:[{Header:"Tên camera",accessor:"cameraName",align:"center"},{Header:"Khu vực hạn chế",accessor:"location",align:"center"},{Header:"Link rtsp camera",accessor:"ipAddress",align:"center"},{Header:"Cài đặt camera",accessor:"setting",align:"center"},{Header:"Trạng thái",accessor:"status",align:"center"},{Header:"Thao tác",accessor:"action",align:"center"}],rows:y,fetchData:j,pageCount:s,itemCount:h}}var tr=n(5878);var nr=function(e){var t=e.handleClose,n=e.camera,o=(0,c.useState)(n.name),l=(0,a.Z)(o,2),u=l[0],s=l[1],m=(0,c.useState)(n.ipAddress),d=(0,a.Z)(m,2),f=d[0],p=d[1],h=(0,c.useState)(n.location),g=(0,a.Z)(h,2),b=g[0],v=g[1],y=(0,c.useState)(n.type),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,c.useState)(n.areaRestriction),k=(0,a.Z)(S,2),T=k[0],_=k[1],z=(0,C.b3)(),j=(0,a.Z)(z,1)[0],A=(0,tr.wK)(),R=((0,a.Z)(A,1)[0],(0,Mn.IY)()),I=(0,a.Z)(R,2)[1],D=(0,w.xO)(),M=(0,a.Z)(D,2)[1],L=[{data:u,type:"name",label:"Tên camera *",action:s},{data:f,type:"ipAddress",label:"Link rtsp camera *",action:p}],H=[].concat(L,[{data:["Check in","Check out"],choosedValue:Z,type:"autocomplete",label:"Check in/ Check out *",action:x}]),U=function(){var e=(0,r.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Nn._0)({token:j.token,id:n.id,name:u,ipAddress:f.toString(),locationId:b?b.id:null,type:Z||"",areaRestrictionId:T?T.id:null});case 2:(r=e.sent).data?((0,w.OV)(M,{typeSnackbar:O.GF,messageSnackbar:O.NC}),t(),(0,Mn.D7)(I,r.data)):(0,w.OV)(M,{typeSnackbar:O.QS,messageSnackbar:r.messageError});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.N_)()?c.createElement(P.Z,{title:"Cập nhật camera",fields:H,handleAddOrUpdate:U,actionLabel:O.L,visibleCloseButton:!0,handleClose:t},c.createElement(xt,{type:"autocomplete",label:"Chi nhánh *",defaultData:b?Array.of(b):[],handleChoose:function(e){e.length>0?v(e[0]):v(null)}})):c.createElement(P.Z,{title:"Cập nhật camera",fields:L,handleAddOrUpdate:U,actionLabel:O.L,visibleCloseButton:!0,handleClose:t},c.createElement(Yn,{type:"autocomplete",label:"Khu vực hạn chế *",defaultData:T?Array.of(T):[],handleChoose:function(e){e.length>0?_(e[0]):_(null)}}))},rr=n(7294);var ar=function(e){var t=e.handleClose,n=e.camera,r=(0,C.b3)();return(0,a.Z)(r,1)[0],rr.createElement(J.Z,{title:"Thông tin camera",handleClose:t,enableUpdate:!1},rr.createElement(m.Z,{display:"flex",flexDirection:"column"},rr.createElement(m.Z,{display:"flex",flexDirection:"column",lineHeight:"28px"},rr.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Tên camera: ",n.name),rr.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},(0,N.N_)()?"Chi nhánh: ".concat(n.location?n.location.name:"không có"):"Khu vực hạn chế: ".concat(n.areaRestriction?n.areaRestriction.areaName:"Không có")),rr.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Link camera: ",n.ipAddress),rr.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Check in/ Check out: ",n.type))))},or=n(7791),ir=n.p+"images/square-outline-xxl.76f12d18.png",cr=n.p+"images/hexagon-outline-xxl.8054ac8e.png",lr=n.p+"images/octagon-outline-xxl.7ffe05ad.png";function ur(e){var t=e.title,n=e.handleClose,r=e.children,a=e.handleSaveData;return c.createElement(m.Z,{px:1,width:"100%",height:"100vh",mx:"auto",display:"flex"},c.createElement(ee.ZP,{container:!0,justifyContent:"center",alignItems:"center",height:"100%"},c.createElement(ee.ZP,{item:!0,xs:11,sm:12,md:10,lg:10,xl:10},c.createElement(te.Z,null,c.createElement(m.Z,{variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",mx:2,mt:-3,p:2,mb:1,textAlign:"center"},c.createElement(b.Z,{variant:"h4",fontWeight:"medium",color:"white",mt:1},t)),c.createElement(m.Z,{pt:4,pb:3,px:3},c.createElement(m.Z,{component:"form",role:"form"},r,c.createElement(m.Z,{mt:4,mb:1,display:"flex",style:{justifyContent:"center"}},c.createElement(G.Z,{variant:"gradient",color:"info",onClick:a},"Save"),c.createElement(m.Z,{sx:{width:"30px"}}),c.createElement(G.Z,{variant:"gradient",color:"error",onClick:n},"Cancel"))))))))}ur.defaultProps={children:c.createElement("div",null),handleClose:function(){}};var sr=ur;var mr=function(e){var t=e.handleClose,n=e.camera,o=(0,c.useRef)(),l=c.useState(0),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=c.useState(0),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,C.b3)(),v=(0,a.Z)(b,2),y=v[0],E=(v[1],(0,w.xO)()),Z=(0,a.Z)(E,2),x=(Z[0],Z[1]);(0,c.useEffect)((function(){var e=9*window.innerWidth/12;d(e),g(9*e/16)}),[]);var S=function(){var e=(0,r.Z)(i().mark((function e(){var r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.token){e.next=7;break}return r=o.current.onConfirm(),a=r.map((function(e){return"[".concat(e.polygon.map((function(e){var t=e.x<0?0:e.x>s?1280:Math.round(1280*e.x/s),n=e.y<0?0:e.y>h?720:Math.round(720*e.y/h);return"[".concat(t,",").concat(n,"]")})),"]")})),e.next=5,(0,Nn.EY)({token:y.token,id:n.id,polygons:"[".concat(a,"]")});case 5:null!==(c=e.sent).data?((0,w.OV)(x,{typeSnackbar:O.GF,messageSnackbar:"Cập nhật vùng hạn chế thành công"}),t()):(0,w.OV)(x,{typeSnackbar:O.QS,messageSnackbar:c.messageError});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.createElement(sr,{title:"Cập nhật vùng hạn chế",handleClose:t,handleSaveData:function(){return S()}},c.createElement(m.Z,{style:{maxHeight:"670px"}},c.createElement(ee.ZP,{container:!0},s>0&&c.createElement(c.Fragment,null,c.createElement(ee.ZP,{item:!0,xs:10,md:10,lg:10,xl:10},c.createElement(or.ZP,{ref:o,canvasHeight:h,canvasWidth:s},c.createElement("img",{src:"".concat(j.w4,":").concat(n.taken,"/bgr/").concat(n.id),alt:n.name,width:s,height:h}))),c.createElement(ee.ZP,{item:!0,xs:2,md:2,lg:2,xl:2},c.createElement(m.Z,{style:{background:"#FFFFFF",boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.25)",display:"flex",flexFlow:"column",height:"95%",borderRadius:"12px",justifyContent:"space-around"}},c.createElement(m.Z,{style:{justifyContent:"center",display:"flex"}},"Công cụ"),c.createElement(G.Z,{onClick:function(){o.current.onDraw({type:or.Me.rec,size:or.jE.normal})},mt:3},c.createElement("img",{src:ir,alt:"rectangle",width:"60%"})),c.createElement(G.Z,{onClick:function(){o.current.onDraw({type:or.Me.hex,size:or.jE.normal})},mt:3},c.createElement("img",{src:cr,alt:"hexagon",width:"60%"})),c.createElement(G.Z,{onClick:function(){o.current.onDraw({type:or.Me.oct,size:or.jE.normal})}},c.createElement("img",{src:lr,alt:"octxagon",width:"60%"})),c.createElement(G.Z,{onClick:function(){o.current.toggleDraw()}},"Vẽ tự do")))))))};function dr(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,c.useState)([]),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(null),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,c.useState)(null),g=(0,a.Z)(h,2),b=g[0],v=g[1],y=(0,Mn.IY)(),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,c.useState)(Z.filter.status),k=(0,a.Z)(S,2),C=k[0],O=k[1],P=(0,w.xO)(),T=(0,a.Z)(P,2)[1],_=function(){r(null)},z=function(e,t){var n={areaRestriction:null,status:null};e.length>0?(p(e[0]),n.areaRestriction=e[0]):p(null),t?(O(t),n.status=t):O(null),(0,Mn.Be)(x,n),_()};(0,c.useEffect)((function(){null===Z.filter.status?O(""):O(Z.filter.status)}),[C]);return c.createElement(m.Z,{display:"flex",gap:"10px",style:{marginLeft:"10px",alignItems:"center"}},f&&c.createElement(At,{value:"".concat(f.areaCode,"-").concat(f.areaName),handleClose:function(){z([],C)}}),C&&c.createElement(At,{value:"".concat(C),handleClose:function(){z(Array.of(f),null)}}),c.createElement(L.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:function(e){r(n?null:e.currentTarget)}},"filter_list"),c.createElement(Re.Z,{anchorEl:n,anchorReference:null,placement:"bottom-start",open:Boolean(n),style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},c.createElement(m.Z,{display:"block",style:{marginTop:"16px"}},c.createElement(Yn,{type:"autocomplete",label:"Danh sách khu vực hạn chế",handleChoose:function(e){u(e)}}),c.createElement(fe.Z,{value:b,key:"fields_status",onChange:function(e,t){return v(t)},disablePortal:!0,id:"autocomplete_status",options:["Đang hoạt động","Đã xóa"],renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:"Trạng thái"}))},ListboxProps:{style:{maxHeight:"15rem"}}}),c.createElement(m.Z,{mt:1,mb:1,display:"flex"},c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation(),(0,w.QP)(T),z(l,b),(0,w.Zk)(T)}},"Xác nhận"),c.createElement(m.Z,{sx:{width:"30px"}}),c.createElement(G.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:_},"Hủy bỏ")))))}function fr(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,c.useState)([]),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(null),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,Mn.IY)(),g=(0,a.Z)(h,2)[1],b=function(e){e.length>0?((0,Mn.KC)(g,e[0]),p(e[0])):((0,Mn.KC)(g,null),p(null)),r(null)};return c.createElement(m.Z,{display:"flex",gap:"10px",style:{marginLeft:"10px",alignItems:"center"}},f&&c.createElement(At,{value:"".concat(f.code,"-").concat(f.name),handleClose:function(){b([])}}),c.createElement(L.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:function(e){r(n?null:e.currentTarget)}},"filter_list"),c.createElement(Re.Z,{anchorEl:n,anchorReference:null,placement:"bottom-start",open:Boolean(n),style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},c.createElement(m.Z,{display:"flex",style:{marginTop:"16px"}},c.createElement(xt,{type:"autocomplete",label:"Danh sách chi nhánh",handleChoose:function(e){u(e)}}),c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation(),b(l)},sx:{marginLeft:"8px",marginBottom:"16px"}},"Xác nhận"))))}var pr=n(7294);var hr=function(){var e=(0,Mn.IY)(),t=(0,a.Z)(e,2)[1];return pr.createElement(at,{tableTitle:"Danh sách camera",tableData:er,AddForm:function(e){var t=e.handleClose;return $n({handleClose:t})},EditForm:function(e){var t=e.handleClose,n=e.item;return nr({handleClose:t,camera:n})},ViewForm:function(e){var t=e.handleClose,n=e.item;return ar({handleClose:t,camera:n})},SettingForm:function(e){var t=e.handleClose,n=e.item;return mr({handleClose:t,camera:n})},FilterForm:(0,N.N_)()?fr:dr,deleteAction:{actionDelete:function(e){return(0,Mn.jp)(t,e)},deleteApi:Nn.qu},optionFeature:{enableCreate:!0,enableImport:!1,enableExport:!1}})},gr=n(4962);function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){(0,Mt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e,t,n){var o=(0,c.useState)(0),l=(0,a.Z)(o,2),u=l[0],s=l[1],d=(0,c.useState)(0),f=(0,a.Z)(d,2),p=f[0],h=f[1],g=(0,c.useState)([]),b=(0,a.Z)(g,2),v=b[0],y=b[1],E=(0,C.b3)(),Z=(0,a.Z)(E,1)[0],x=(0,qe.vL)(),S=(0,a.Z)(x,2),k=S[0],w=S[1],O=(0,pn.e)(),P=(0,a.Z)(O,2)[1],T=(0,c.useState)(null),_=(0,a.Z)(T,2),z=_[0],j=_[1];(0,c.useEffect)((function(){z!==Z.token&&j(Z.token)}),[Z.token]);var A=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,o=k.filter.status?"Đã xóa"===k.filter.status?"deleted":"active":"",!z){e.next=7;break}return e.next=5,Ve({token:z,page:n,size:r,search:a,status:o});case 5:null!==(c=e.sent).data&&((0,qe.o6)(w,c.data.data),s(c.data.pageCount),h(c.data.itemCount));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[z,k.filter]),R=(0,c.useCallback)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=5;break}return e.next=3,Wt(z);case 3:null!==(t=e.sent).data&&(0,pn.qT)(P,t.data);case 5:case"end":return e.stop()}}),e)}))),[z]);(0,c.useEffect)((function(){z&&(0,N.N_)()&&R().catch(console.error)}),[z]);var I=function(r){var a={id:r.id,name:r.name,code:r.code,email:r.email,phone:r.phone};return a=(0,N.N_)()?vr(vr({},a),{},{shifts:c.createElement(c.Fragment,null,r.shifts.map((function(e){return c.createElement(m.Z,{borderRadius:20,px:1,my:1,style:{backgroundColor:"#4F4F52",color:"white",fontSize:"0.875rem"}},e.name)})))}):vr(vr({},a),{},{areaEmployees:c.createElement(c.Fragment,null,r.areaEmployees.map((function(e){return c.createElement(m.Z,{borderRadius:20,px:1,my:1,style:{backgroundColor:"#4F4F52",color:"white",fontSize:"0.875rem"}},"".concat(e.areaRestriction.areaName,", ").concat(e.timeStart,"-").concat(e.timeEnd))})))}),a=vr(vr({},a),{},{image:null!==r.image?c.createElement(gr.Z,{component:"img",height:"80",image:r.image.path,alt:r.name}):c.createElement("div",null),status:(0,U.Fq)(r.status),action:"active"===r.status?c.createElement(ft,{handleView:function(){return e(r)},handleEdit:function(){return t(r)},handleDelete:function(){return n(r)}}):c.createElement("div",null)})},D=function(e){var t=function(e){return e.employees.map((function(e){return I(e)}))}(e);return{manager:"".concat(e.code,"-").concat(e.name),employees:t}};return(0,c.useEffect)((function(){var e=k.employees.filter((function(e){return e.employees.length>0})),t=[];k.employees.forEach((function(n){var r=n.manager;null===r?t.push(n):0===e.filter((function(e){var t;return e.id===(null===(t=n.manager)||void 0===t?void 0:t.id)})).length&&(r.employees=[n],e.push(r))}));var n=e.map((function(e){return D(e)})),r=t.map((function(e){return{manager:"",employees:[I(e)]}}));y(n.concat(r))}),[k.employees]),{columns:[{Header:"Người quản lý",columns:[{Header:"Mã Số-Họ và tên",accessor:"managerName",align:"center"}],align:"center"},{Header:"Nhân sự",columns:(0,N.N_)()?[{Header:"Họ và tên",accessor:"name",align:"center"},{Header:"Mã số",accessor:"code",align:"center"},{Header:"Email",accessor:"email",align:"center"},{Header:"Số điện thoại",accessor:"phone",align:"center"},{Header:"Ca làm việc",accessor:"shifts",align:"center"},{Header:"Hình ảnh nhận diện",accessor:"image",align:"center"},{Header:"Trạng thái",accessor:"status",align:"center"},{Header:"Thao tác",accessor:"action",align:"left"}]:[{Header:"Họ và tên",accessor:"name",align:"center"},{Header:"Mã số",accessor:"code",align:"center"},{Header:"Email",accessor:"email",align:"center"},{Header:"Số điện thoại",accessor:"phone",align:"center"},{Header:"Khu vực, thời gian cho phép",accessor:"areaEmployees",align:"center"},{Header:"Hình ảnh nhận diện",accessor:"image",align:"center"},{Header:"Trạng thái",accessor:"status",align:"center"},{Header:"Thao tác",accessor:"action",align:"left"}],align:"center"}],rows:v,fetchData:A,pageCount:u,itemCount:p}}var Er=n(7294),Zr=function(){return{popper:{width:"fit-content"}}},xr=function(e){return Er.createElement(Re.Z,(0,ie.Z)({},e,{style:Zr.popper,placement:"bottom-start"}))};function Sr(e){var t=e.areaRestrictionTime,n=e.position,r=e.handleUpdate,o=(0,c.useState)(t.timeStart),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(t.timeEnd),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,c.useState)(t.areaRestriction),g=(0,a.Z)(h,2),b=g[0],v=g[1];(0,c.useEffect)((function(){u(t.timeStart),p(t.timeEnd),v(t.areaRestriction)}),[t]),(0,c.useEffect)((function(){r(n,{areaRestriction:b,timeStart:l,timeEnd:f})}),[l,f,b]);return Er.createElement(m.Z,{key:t.areaRestriction?t.areaRestriction.areaName+n:n},Er.createElement(ee.ZP,{container:!0,spacing:1,className:"area-restriction-time"},Er.createElement(ee.ZP,{item:!0,xs:4,md:4,lg:4},Er.createElement(Yn,{PopperComponent:xr,minWidth:0,wrapperTextFieldClassName:"area-restriction-autocomplete",label:"Khu vực",type:"autocomplete",defaultData:b?Array.of(b):[],handleChoose:function(e){e.length>0?v(e[0]):v(null)}})),Er.createElement(ee.ZP,{item:!0,xs:3.5,md:3.5,lg:3.5},Er.createElement(Yt,{label:"Bắt đầu",time:l,handleChooseTime:function(e){return function(e){u(e)}(e)}})),Er.createElement(ee.ZP,{item:!0,xs:3.5,md:3.5,lg:3.5},Er.createElement(Yt,{label:"Kết thúc",time:f,handleChooseTime:function(e){return function(e){p(e)}(e)}})),Er.createElement(ee.ZP,{item:!0,xs:1,md:1,lg:1},Er.createElement(m.Z,{onClick:function(){r(n,null)},height:"100%",display:"flex",alignItems:"center"},Er.createElement(L.Z,{color:"error"},"remove_circle")))))}function kr(e){var t=e.title,n=e.children,r=e.handleConfirmUpdate,o=e.handleClose,i=(0,w.xO)(),l=(0,a.Z)(i,2)[1];return c.createElement(m.Z,{px:1,width:"100%",height:"100vh",mx:"auto"},c.createElement(ee.ZP,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",height:"100%"},c.createElement(ee.ZP,{item:!0,xs:11,sm:9,md:5,lg:4,xl:3},c.createElement(te.Z,null,c.createElement(m.Z,{variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",mx:2,mt:-3,p:2,mb:1,textAlign:"center"},c.createElement(b.Z,{variant:"h4",fontWeight:"medium",color:"white"},t)),c.createElement(m.Z,{pt:4,pb:3,px:3},c.createElement(m.Z,{component:"form",role:"form"},n,c.createElement(m.Z,{mt:4,mb:1,display:"flex"},c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(){(0,w.QP)(l),r(),(0,w.Zk)(l)}},"Xác nhận"),c.createElement(m.Z,{sx:{width:"30px"}}),c.createElement(G.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:o},"Hủy bỏ"))))))))}var Cr={areaRestriction:null,timeStart:null,timeEnd:null};var wr=function(e){var t=e.handleClose,n=(0,c.useState)(null),o=(0,a.Z)(n,2),l=o[0],u=o[1],s=(0,c.useState)(""),m=(0,a.Z)(s,2),d=m[0],f=m[1],p=(0,c.useState)(""),h=(0,a.Z)(p,2),g=h[0],b=h[1],v=(0,c.useState)(""),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,c.useState)(""),S=(0,a.Z)(x,2),T=S[0],_=S[1],z=(0,c.useState)(null),j=(0,a.Z)(z,2),A=j[0],R=j[1],I=(0,c.useState)([]),D=(0,a.Z)(I,2),M=D[0],L=D[1],F=(0,c.useState)(!1),V=(0,a.Z)(F,2),W=V[0],B=V[1],Q=(0,c.useState)([]),G=(0,a.Z)(Q,2),K=G[0],q=G[1],X=(0,C.b3)(),J=(0,a.Z)(X,1)[0],Y=(0,qe.vL)(),$=(0,a.Z)(Y,2)[1],ee=(0,pn.e)(),te=(0,a.Z)(ee,1)[0],ne=(0,w.xO)(),re=(0,a.Z)(ne,2)[1],ae=function(){B(!1)},ie=[{data:d,type:"text",label:"Họ và tên *",action:f},{data:g,type:"text",label:"Mã số nhân viên *",action:b},{data:E,type:"text",label:"Số điện thoại *",action:Z},{data:T,type:"text",label:"Email *",action:_}],ce=[].concat(ie,[{data:te.shifts.map((function(e){return e.name})),type:"autocomplete-multiple",label:"Ca làm việc *",action:L}]),le=function(){return null===d||""===d.trim()?((0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:H.wb}),!1):null===g||""===g.trim()?((0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:H.OJ}),!1):null===E||""===E.trim()?((0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:H.Fs}),!1):(0,U.kj)(E)?null===T||""===T.trim()?((0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:H.QD}),!1):(0,U.vV)(T)?!(0,N.N_)()||0!==M.length||((0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:H.Pd}),!1):((0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:H.FD}),!1):((0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:H.BX}),!1)},ue=function(e,t){if(t){var n=(0,oe.Z)(K);n[e]=t,q(n)}else{var r=(0,oe.Z)(K);r.splice(e,1),q(r)}},se=function(){var e="";return K.forEach((function(t){if(null!==t.timeStart&&null!==t.timeEnd&&null!==t.areaRestriction&&"Invalid Date"!==t.timeStart.toLocaleString()&&"Invalid Date"!==t.timeEnd.toLocaleString()){var n=t.timeStart.toLocaleTimeString("vi-VN",{hour12:!1}),r=t.timeEnd.toLocaleTimeString("vi-VN",{hour12:!1}),a=t.areaRestriction;null!==a&&(e+='{"area_restriction_id":'.concat(a.id,',"time_start":"').concat(n,'","time_end":"').concat(r,'"},'))}})),e.length>1&&(e="[".concat(e.substring(0,e.length-1),"]")),e},me=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.confirmUpdate,!le()){e.next=6;break}return r=M.map((function(e){return Le(te.shifts,e)})).filter((function(e){return null!==e})).map((function(e){return e.id})).join(","),e.next=5,We({token:J.token,avatar:l,name:d,code:g,phone:E,email:T,managerId:A?A.id:null,areaEmployee:se(),shifts:"[".concat(r,"]"),confirmUpdate:n});case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le()){e.next=5;break}return e.next=3,me({confirmUpdate:!1});case 3:(n=e.sent)&&(null!==n.data?n.data===Fe?B(!0):((0,w.OV)(re,{typeSnackbar:O.GF,messageSnackbar:O.Pd}),t(),(0,qe.Vr)($,n.data)):(0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:n.messageError}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le()){e.next=5;break}return e.next=3,me({confirmUpdate:!0});case 3:(n=e.sent)&&(null!==n.data?n.data===Fe?B(!0):((0,w.OV)(re,{typeSnackbar:O.GF,messageSnackbar:O.NC}),t(),(0,qe.H2)($,n.data)):(0,w.OV)(re,{typeSnackbar:O.QS,messageSnackbar:n.messageError}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.createElement(c.Fragment,null,(0,N.N_)()?c.createElement(P.Z,{title:"Thêm nhân viên",fields:ce,handleAddOrUpdate:de,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t,headChildren:c.createElement(Pt,{avatar:null,handleFile:function(e){return u(e)}})},c.createElement(En,{label:"Người quản lý",type:"autocomplete",handleChoose:function(e){e.length>0?R(e[0]):R(null)},status:"active"})):c.createElement(P.Z,{title:"Thêm nhân viên",fields:ie,handleAddOrUpdate:de,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t,headChildren:c.createElement(Pt,{avatar:null,handleFile:function(e){return u(e)}})},c.createElement(c.Fragment,null,c.createElement(En,{label:"Người quản lý",type:"autocomplete",handleChoose:function(e){e.length>0?R(e[0]):R(null)},status:"active"}),K.map((function(e,t){return c.createElement(Sr,{areaRestrictionTime:e,position:t,handleUpdate:ue})})),c.createElement(k.Z,{onClick:function(){q((function(e){return[].concat((0,oe.Z)(e),[Cr])}))},style:{padding:"0",fontWeight:"400",fontSize:"12px",textTransform:"initial"}},"Thêm khu vực, thời gian cho phép"))),c.createElement(Ae.Z,{open:W,onClose:ae,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},c.createElement(kr,{title:O.rP,handleConfirmUpdate:(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:case"end":return e.stop()}}),e)}))),handleClose:ae},c.createElement("p",null,O.yP))))},Or={areaRestriction:null,timeStart:null,timeEnd:null};var Pr=function(e){var t=e.handleClose,n=e.employee,o=(0,c.useState)(null),l=(0,a.Z)(o,2),u=l[0],s=l[1],m=(0,c.useState)(n.name),d=(0,a.Z)(m,2),f=d[0],p=d[1],h=(0,c.useState)(n.code),g=(0,a.Z)(h,2),b=g[0],v=g[1],y=(0,c.useState)(n.phone),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,c.useState)(n.email),T=(0,a.Z)(S,2),_=T[0],z=T[1],j=(0,c.useState)(n.manager),A=(0,a.Z)(j,2),R=A[0],I=A[1],D=(0,c.useState)(n.shifts.map((function(e){return e.name}))),M=(0,a.Z)(D,2),L=M[0],F=M[1],V=(0,c.useState)(n.areaEmployees.map((function(e){return{areaRestriction:e.areaRestriction,timeStart:(0,U.RV)(e.timeStart),timeEnd:(0,U.RV)(e.timeEnd)}}))),W=(0,a.Z)(V,2),B=W[0],Q=W[1],G=(0,C.b3)(),K=(0,a.Z)(G,1)[0],q=(0,qe.vL)(),X=(0,a.Z)(q,2),J=X[0],Y=X[1],$=(0,pn.e)(),ee=(0,a.Z)($,1)[0],te=(0,w.xO)(),ne=(0,a.Z)(te,2)[1];(0,c.useEffect)((function(){var e=J.employees.filter((function(e){return e.id===n.id}))[0];I(e.manager)}),[]);var re=[{data:f,type:"text",label:"Họ và tên *",action:p},{data:b,type:"text",label:"Mã số nhân viên *",action:v},{data:Z,type:"text",label:"Số điện thoại *",action:x},{data:_,type:"text",label:"Email *",action:z}],ae=[].concat(re,[{data:ee.shifts.map((function(e){return e.name})),checked:L,type:"autocomplete-multiple",label:"Ca làm việc *",action:F}]),ie=function(e,t){if(t){var n=(0,oe.Z)(B);n[e]=t,Q(n)}else{var r=(0,oe.Z)(B);r.splice(e,1),Q(r)}},ce=function(){var e="";return B.forEach((function(t){if(null!==t.timeStart&&null!==t.timeEnd&&null!==t.areaRestriction&&"Invalid Date"!==t.timeStart.toLocaleString()&&"Invalid Date"!==t.timeEnd.toLocaleString()){var n=t.timeStart.toLocaleTimeString("vi-VN",{hour12:!1}),r=t.timeEnd.toLocaleTimeString("vi-VN",{hour12:!1}),a=t.areaRestriction;null!==a&&(e+='{"area_restriction_id":'.concat(a.id,',"time_start":"').concat(n,'","time_end":"').concat(r,'"},'))}})),e.length>1&&(e="[".concat(e.substring(0,e.length-1),"]")),e},le=function(){var e=(0,r.Z)(i().mark((function e(){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===f||""===f.trim()?((0,w.OV)(ne,{typeSnackbar:O.QS,messageSnackbar:H.wb}),0):null===b||""===b.trim()?((0,w.OV)(ne,{typeSnackbar:O.QS,messageSnackbar:H.OJ}),0):null===_||""===_.trim()||(0,U.vV)(_)?!(0,N.N_)()||0!==L.length||((0,w.OV)(ne,{typeSnackbar:O.QS,messageSnackbar:H.Pd}),0):((0,w.OV)(ne,{typeSnackbar:O.QS,messageSnackbar:H.FD}),0))){e.next=6;break}return r=L.map((function(e){return Le(ee.shifts,e)})).filter((function(e){return null!==e})).map((function(e){return e.id})).join(","),e.next=4,Be({token:K.token,employeeId:n.id,avatar:u,name:f,code:b,phone:Z,email:_,managerId:null!==R?R.id:null,shifts:"[".concat(r,"]"),areaEmployee:ce()});case 4:null!==(a=e.sent).data?((0,w.OV)(ne,{typeSnackbar:O.GF,messageSnackbar:O.NC}),t(),(0,qe.H2)(Y,a.data)):(0,w.OV)(ne,{typeSnackbar:O.QS,messageSnackbar:a.messageError});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.N_)()?c.createElement(P.Z,{title:"Cập nhật nhân viên",fields:ae,handleAddOrUpdate:le,actionLabel:O.L,visibleCloseButton:!0,handleClose:t,headChildren:c.createElement(Pt,{avatar:n.image,handleFile:function(e){return s(e)}})},c.createElement(En,{defaultData:R?Array.of(R):null,type:"autocomplete",label:"Người quản lý",handleChoose:function(e){e.length>0?I(e[0]):I(null)},status:"active"})):c.createElement(P.Z,{title:"Cập nhật nhân viên",fields:re,handleAddOrUpdate:le,actionLabel:O.L,visibleCloseButton:!0,handleClose:t,headChildren:c.createElement(Pt,{avatar:n.image,handleFile:function(e){return s(e)}})},c.createElement(c.Fragment,null,c.createElement(En,{defaultData:R?Array.of(R):null,type:"autocomplete",label:"Người quản lý",handleChoose:function(e){e.length>0?I(e[0]):I(null)},status:"active"}),B.map((function(e,t){return c.createElement(Sr,{areaRestrictionTime:e,position:t,handleUpdate:ie})})),c.createElement(k.Z,{onClick:function(){Q((function(e){return[].concat((0,oe.Z)(e),[Or])}))},style:{padding:"0",fontWeight:"400",fontSize:"12px",textTransform:"initial"}},"Thêm khu vực, thời gian cho phép")))};var Tr=function(e){var t=e.handleClose,n=e.employee,r=(0,qe.vL)(),o=(0,a.Z)(r,1)[0].employees.filter((function(e){return e.id===n.id}))[0];return c.createElement(J.Z,{title:"Thông tin nhân viên",handleClose:t,enableUpdate:!1},c.createElement(m.Z,{display:"flex",flexDirection:"column"},c.createElement(m.Z,{display:"flex",justifyContent:"center",paddingBottom:"41px"},c.createElement(Ct.Z,{src:o.image?o.image.path:"",alt:o.name,size:"xxl",shadow:"md"})),c.createElement(m.Z,{display:"flex",flexDirection:"column",lineHeight:"28px"},c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Họ và tên: ",o.name),c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Mã nhân viên: ",o.code),c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Email: ",o.email),c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Số điện thoại: ",o.phone),(0,N.N_)()?c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Ca làm việc:"," ",o.shifts.map((function(e){return"".concat(e.name)})).join(", ")):c.createElement("div",null),c.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Người quản lý:",o.manager?" ".concat(o.manager.code,"-").concat(o.manager.name):""))))};function _r(e){var t=e.title,n=e.handleImport;function r(){return c.createElement(m.Z,{style:{color:"white"}},c.createElement("p",null,"Tải lên thư mục gồm:"),c.createElement("p",null,"- 1 file excel danh sách nhân sự (theo mẫu)."),c.createElement("p",null,"- Các file ảnh nhân viên (đặt tên file ảnh là mã nhân viên)"))}return c.createElement(m.Z,{mr:1},c.createElement(Pe.Z,{title:c.createElement(r,null)},c.createElement(G.Z,{variant:"text",color:"white"},c.createElement("label",{htmlFor:"import-image",style:{cursor:"pointer"}},c.createElement("input",{style:{display:"none"},type:"file",id:"import-image",webkitdirectory:"",mozdirectory:"",directory:"",onChange:function(e){n(e.target.files),e.target.value=""}}),c.createElement("div",{style:{display:"flex",alignSelf:"center"}},c.createElement(L.Z,null,"upload_file"),c.createElement("span",{style:{paddingLeft:"0.3em"}},t))))))}function zr(){var e=(0,w.xO)(),t=(0,a.Z)(e,2)[1],n=(0,C.b3)(),o=(0,a.Z)(n,1)[0],l=function(){var e=(0,r.Z)(i().mark((function e(n){var r,a,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,w.OV)(t,{typeSnackbar:O.wT,messageSnackbar:"Đang xử lý dữ liệu, hãy chờ...",timeSnackbar:1e6}),!n){e.next=18;break}if(r=Object.getOwnPropertyNames(n),a=[],c=null,r.forEach((function(e){var t=n[e];t.name.indexOf(".xlsx")>0?c=t:a.push(t)})),c){e.next=10;break}(0,w.OV)(t,{typeSnackbar:O.QS,messageSnackbar:"Không tồn tại file excel chứa thông tin nhân viên"}),e.next=18;break;case 10:if(0!==a.length){e.next=14;break}(0,w.OV)(t,{typeSnackbar:O.QS,messageSnackbar:"Không có các file ảnh nhân viên"}),e.next=18;break;case 14:return e.next=16,Ke({token:o.token,files:a,excelFile:c});case 16:(l=e.sent).data?(0,w.OV)(t,{typeSnackbar:O.GF,messageSnackbar:"Thêm danh sách nhân viên thành công"}):(0,w.OV)(t,{typeSnackbar:O.QS,messageSnackbar:l.messageError});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.createElement(_r,{title:"Thêm danh sách nhân viên",handleImport:l})}function jr(e){var t=e.title,n=e.linkDownload;return c.createElement(m.Z,{mr:1},c.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",download:!0},c.createElement(G.Z,{variant:"text",color:"white"},c.createElement("div",{style:{display:"flex",alignSelf:"center"}},c.createElement(L.Z,null,"file_download"),c.createElement("span",{style:{paddingLeft:"0.3em"}},t)))))}var Ar=n.p+"excel/employee_template.6a12b04e.xlsx";function Rr(){return c.createElement(jr,{title:"Tải mẫu danh sách",linkDownload:Ar})}function Ir(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,c.useState)(null),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,qe.vL)(),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,w.xO)(),g=(0,a.Z)(h,2)[1],b=(0,c.useState)(f.filter.status),v=(0,a.Z)(b,2),y=v[0],E=v[1],Z=function(){r(null)},x=function(e){var t={status:null};e?(E(e),t.status=e):E(null),(0,qe.pr)(p,t),Z()};return(0,c.useEffect)((function(){null===f.filter.status?E(""):E(f.filter.status)}),[f.filter.status]),c.createElement(m.Z,{display:"flex",gap:"10px",style:{marginLeft:"10px",alignItems:"center"}},y&&c.createElement(At,{value:"".concat(y),handleClose:function(){x(null)}}),c.createElement(L.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:function(e){r(n?null:e.currentTarget)}},"filter_list"),c.createElement(Re.Z,{anchorEl:n,anchorReference:null,placement:"bottom-start",open:Boolean(n),onClose:Z,style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},c.createElement(m.Z,{display:"block",style:{marginTop:"16px"}},c.createElement(fe.Z,{value:l,key:"fields_status",onChange:function(e,t){return u(t)},disablePortal:!0,id:"autocomplete_status",options:["Đang hoạt động","Đã xóa"],renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:"Trạng thái"}))},ListboxProps:{style:{maxHeight:"15rem"}}})),c.createElement(m.Z,{mt:1,mb:1,display:"flex"},c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation(),(0,w.QP)(g),x(l),(0,w.Zk)(g)}},"Xác nhận"),c.createElement(m.Z,{sx:{width:"30px"}}),c.createElement(G.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:Z},"Hủy bỏ"))))}var Dr=function(){var e=(0,qe.vL)(),t=(0,a.Z)(e,2)[1];return c.createElement(at,{tableTitle:"Danh sách nhân sự",tableData:yr,AddForm:function(e){var t=e.handleClose;return wr({handleClose:t})},EditForm:function(e){var t=e.handleClose,n=e.item;return Pr({handleClose:t,employee:n})},ViewForm:function(e){var t=e.handleClose,n=e.item;return Tr({handleClose:t,employee:n})},FilterForm:Ir,deleteAction:{actionDelete:function(e){return(0,qe.AY)(t,e)},deleteApi:Ge},optionFeature:{enableCreate:!0,enableImport:!0,enableExport:!0},ImportForm:zr,ExportForm:Rr,isCustomTable:!0})},Nr=n(7502),Mr=n(7294);var Lr=function(e){var t=e.handleClose,n=(0,c.useState)(""),o=(0,a.Z)(n,2),l=o[0],u=o[1],s=(0,c.useState)(""),m=(0,a.Z)(s,2),d=m[0],f=m[1],p=(0,C.b3)(),h=(0,a.Z)(p,1)[0],g=(0,Nr.pe)(),b=(0,a.Z)(g,2)[1],v=(0,w.xO)(),y=(0,a.Z)(v,2)[1],E=[{data:l,type:"name",label:"Tên chi nhánh *",action:u},{data:d,type:"code",label:"Mã chi nhánh *",action:f}],Z=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===l||""===l.trim()?((0,w.OV)(y,{typeSnackbar:O.QS,messageSnackbar:H.E}),0):null!==d&&""!==l.trim()||((0,w.OV)(y,{typeSnackbar:O.QS,messageSnackbar:H.Oo}),0))){e.next=5;break}return e.next=3,(0,bt.Xx)({token:h.token,name:l,code:d,type:(0,U.Ut)(h.currentUser)});case 3:(n=e.sent).data?((0,w.OV)(y,{typeSnackbar:O.GF,messageSnackbar:H.ry}),t(),(0,Nr.nQ)(b,n.data)):(0,w.OV)(y,{typeSnackbar:O.QS,messageSnackbar:n.messageError});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Mr.createElement(P.Z,{title:"Thêm chi nhánh",fields:E,handleAddOrUpdate:Z,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t})},Hr=n(7294);function Ur(e,t,n){var o=(0,c.useState)(0),l=(0,a.Z)(o,2),u=l[0],s=l[1],d=(0,c.useState)(0),f=(0,a.Z)(d,2),p=f[0],h=f[1],g=(0,c.useState)([]),b=(0,a.Z)(g,2),v=b[0],y=b[1],E=(0,C.b3)(),Z=(0,a.Z)(E,1)[0],x=(0,Nr.pe)(),S=(0,a.Z)(x,2),k=S[0],w=S[1],O=(0,c.useState)(null),P=(0,a.Z)(O,2),T=P[0],_=P[1];(0,c.useEffect)((function(){T!==Z.token&&_(Z.token)}),[Z.token]);var z=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,!T){e.next=6;break}return e.next=4,(0,bt.z1)({token:T,page:n,size:r,search:a});case 4:null!==(o=e.sent).data&&((0,Nr.$s)(w,o.data.data),s(o.data.pageCount),h(o.data.itemCount));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[T]);return(0,c.useEffect)((function(){k.locations&&y(k.locations.map((function(r){return function(r){return{locationName:r.name,branchCode:r.code,numberOfPersonnel:r.numberEmployee,numberCamera:r.numberCamera,action:Hr.createElement(m.Z,{display:"flex",alignItems:"center",mt:{xs:2,sm:0},ml:{xs:-1.5,sm:0}},Hr.createElement(G.Z,{variant:"text",color:"info",onClick:function(){return e(r)}},Hr.createElement(Q.Z,null)," xem"),Hr.createElement(G.Z,{variant:"text",color:"dark",onClick:function(){return t(r)}},Hr.createElement(L.Z,null,"edit")," sửa"),Hr.createElement(m.Z,{mr:1},Hr.createElement(G.Z,{variant:"text",color:"error",onClick:function(){return n(r)}},Hr.createElement(L.Z,null,"delete")," xóa")))}}(r)})))}),[k.locations]),{columns:[{Header:"Tên chi nhánh",accessor:"locationName",align:"center"},{Header:"Mã chi nhánh",accessor:"branchCode",align:"center"},{Header:"Số nhân sự",accessor:"numberOfPersonnel",align:"center"},{Header:"Số camera",accessor:"numberCamera",align:"center"},{Header:"Thao tác",accessor:"action",align:"center"}],rows:v,fetchData:z,pageCount:u,itemCount:p}}var Fr=n(7294);var Vr=function(e){var t=e.handleClose,n=e.location,o=(0,c.useState)(n.name),l=(0,a.Z)(o,2),u=l[0],s=l[1],m=(0,c.useState)(n.code),d=(0,a.Z)(m,2),f=d[0],p=d[1],h=(0,C.b3)(),g=(0,a.Z)(h,1)[0],b=(0,Nr.pe)(),v=(0,a.Z)(b,2)[1],y=(0,w.xO)(),E=(0,a.Z)(y,2)[1],Z=[{data:u,type:"name",label:"Tên chi nhánh",action:s},{data:f,type:"code",label:"Mã chi nhánh",action:p}],x=function(){var e=(0,r.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===u||""===u.trim()?((0,w.OV)(E,{typeSnackbar:O.QS,messageSnackbar:H.E}),0):null!==f&&""!==f.trim()||((0,w.OV)(E,{typeSnackbar:O.QS,messageSnackbar:H.Oo}),0))){e.next=5;break}return e.next=3,(0,bt.wk)({token:g.token,id:n.id,name:u,code:f,type:(0,U.Ut)(g.currentUser)});case 3:(r=e.sent).data?((0,w.OV)(E,{typeSnackbar:O.GF,messageSnackbar:O.NC}),t(),(0,Nr.$N)(v,r.data)):(0,w.OV)(E,{typeSnackbar:O.QS,messageSnackbar:r.messageError});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Fr.createElement(P.Z,{title:"Cập nhật chi nhánh",fields:Z,handleAddOrUpdate:x,actionLabel:O.L,visibleCloseButton:!0,handleClose:t})},Wr=n(7294);var Br=function(e){var t=e.handleClose,n=e.location;return Wr.createElement(J.Z,{title:"Thông tin chi nhánh",handleClose:t,enableUpdate:!1},Wr.createElement(m.Z,{display:"flex",flexDirection:"column"},Wr.createElement(m.Z,{display:"flex",flexDirection:"column",lineHeight:"28px"},Wr.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Tên chi nhánh: ",n.name),Wr.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Mã chi nhánh: ",n.code),Wr.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Số nhân sự: ",n.numberEmployee),Wr.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Số camera: ",n.numberCamera))))};var Qr=function(){var e=(0,Nr.pe)(),t=(0,a.Z)(e,2)[1];return c.createElement(at,{tableTitle:"Danh sách chi nhánh",tableData:Ur,AddForm:function(e){var t=e.handleClose;return Lr({handleClose:t})},EditForm:function(e){var t=e.handleClose,n=e.item;return Vr({handleClose:t,location:n})},ViewForm:function(e){var t=e.handleClose,n=e.item;return Br({handleClose:t,location:n})},deleteAction:{actionDelete:function(e){return(0,Nr.YR)(t,e)},deleteApi:bt.DY},optionFeature:{enableCreate:!0,enableImport:!1,enableExport:!1}})},Gr=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=t.page,a=t.size,o=t.timeStart,c=t.timeEnd,l=t.employeeId,u=(0,j.BT)(r,a),o&&c&&(u+="&time_start=".concat(o,"&time_end=").concat(c)),l&&(u+="&employee_id=".concat(l)),e.abrupt("return",z().get(u,(0,He.p)(n)).then((function(e){return 200===e.status?1===e.data.code?{messageError:e.data.message,data:{data:e.data.histories,pageCount:e.data.total_pages,itemCount:e.data.total_items}}:{messageError:e.data.message,data:null}:{messageError:O.CA,data:null}})).catch((function(e){return console.log(e),{messageError:O.CA,data:null}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kr=n(5740),qr=n(7294);function Xr(){var e=(0,c.useState)(0),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,c.useState)(0),u=(0,a.Z)(l,2),s=u[0],m=u[1],d=(0,c.useState)([]),f=(0,a.Z)(d,2),p=f[0],h=f[1],g=(0,C.b3)(),b=(0,a.Z)(g,1)[0],v=(0,Kr.CD)(),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,c.useState)(null),S=(0,a.Z)(x,2),k=S[0],w=S[1];(0,c.useEffect)((function(){k!==b.token&&w(b.token)}),[b.token]);var O=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,!k){e.next=6;break}return e.next=4,Gr({token:k,page:n,size:r,employeeId:E.employeeChoosed?E.employeeChoosed.id:void 0});case 4:null!==(a=e.sent).data&&((0,Kr.uq)(Z,a.data.data),o(a.data.pageCount),m(a.data.itemCount));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k,E.employeeChoosed]);return(0,c.useEffect)((function(){E.inOutHistories&&h(E.inOutHistories.map((function(e){return function(e){return{cameraName:e.camera.name,checked:e.type,inOutAreaRestriction:e.type,userName:e.employee.name,userCode:e.employee.code,manager:null!==e.employee.manager?"".concat(e.employee.manager.code,"-").concat(e.employee.manager.name):"",time:(0,U.Cp)(e.time),image:null!==e.image?qr.createElement(gr.Z,{component:"img",height:"80",image:e.image.path,alt:""}):qr.createElement("div",null)}}(e)})))}),[E.inOutHistories]),{columns:(0,N.N_)()?[{Header:"Camera",accessor:"cameraName",align:"center"},{Header:"Check in/ Check out",accessor:"checked",align:"center"},{Header:"Tên nhân viên",accessor:"userName",align:"center"},{Header:"Mã nhân viên",accessor:"userCode",align:"center"},{Header:"Quản lý",accessor:"manager",align:"center"},{Header:"Thời gian",accessor:"time",align:"center"},{Header:"Hình ảnh",accessor:"image",align:"center"}]:[{Header:"Camera",accessor:"cameraName",align:"center"},{Header:"Vào/Ra KVHC",accessor:"inOutAreaRestriction",align:"center"},{Header:"Tên nhân viên",accessor:"userName",align:"center"},{Header:"Mã nhân viên",accessor:"userCode",align:"center"},{Header:"Quản lý",accessor:"manager",align:"center"},{Header:"Thời gian",accessor:"time",align:"center"},{Header:"Hình ảnh",accessor:"image",align:"center"}],rows:p,fetchData:O,pageCount:n,itemCount:s}}function Jr(e){var t=e.handleOnClick,n=e.tooltipContent;return c.createElement(m.Z,{mr:1},c.createElement(Pe.Z,{title:n},c.createElement(G.Z,{variant:"text",color:"white",onClick:t},c.createElement(L.Z,null,"aspect_ratio")," ")))}function Yr(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,c.useState)([]),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(null),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,Kr.CD)(),g=(0,a.Z)(h,2)[1],b=(0,w.xO)(),v=(0,a.Z)(b,2)[1],y=function(){r(null)},E=function(e){e.length>0?((0,Kr.Gq)(g,e[0]),p(e[0])):((0,Kr.Gq)(g,null),p(null)),y()};return c.createElement(m.Z,{display:"flex",gap:"10px",style:{marginLeft:"10px",alignItems:"center"}},f&&c.createElement(At,{value:"".concat(f.code,"-").concat(f.name),handleClose:function(){E([])}}),c.createElement(L.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:function(e){r(n?null:e.currentTarget)}},"filter_list"),c.createElement(Re.Z,{anchorEl:n,anchorReference:null,placement:"bottom-start",open:Boolean(n),onClose:y,style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},c.createElement(m.Z,{display:"flex",style:{marginTop:"16px"}},c.createElement(En,{type:"autocomplete",label:"Danh sách nhân sự",handleChoose:function(e){u(e)}}),c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation(),(0,w.QP)(v),E(l),(0,w.Zk)(v)},sx:{marginLeft:"8px",marginBottom:"16px"}},"Xác nhận"))))}function $r(){var e=(0,l.s0)();return c.createElement(Jr,{handleOnClick:function(){return e(T.VD)},tooltipContent:"Xem danh sách vào ra ngày hôm nay"})}var ea=function(){return c.createElement(at,{tableTitle:"Lịch sử vào ra",tableData:Xr,ExpandForm:$r,FilterForm:Yr,optionFeature:{enableCreate:!1,enableImport:!1,enableExport:!1,enableExpand:(0,N.N_)(),enableSearch:!1}})},ta=n(8317),na=n(436),ra=n(5331),aa=n(7294);function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){(0,Mt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ca(){var e=(0,c.useState)(0),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,c.useState)(0),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,c.useState)([]),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,C.b3)(),v=(0,a.Z)(b,1)[0],y=(0,na.P6)(),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,c.useState)(null),k=(0,a.Z)(S,2),w=k[0],O=k[1];(0,c.useEffect)((function(){w!==v.token&&O(v.token)}),[v.token]);var P=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,!w){e.next=6;break}return e.next=4,(0,ta.F)({token:w,page:n,size:r,areaRestrictionId:Z.filter.areaRestriction?Z.filter.areaRestriction.id:"",employeeId:Z.employeeChoosed?Z.employeeChoosed.id:"",status:(0,N.Z)()&&Z.filter.status?Z.filter.status:""});case 4:null!==(a=e.sent).data&&((0,na.zX)(x,a.data.data),o(a.data.pageCount),d(a.data.itemCount));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w,Z.filter,Z.employeeChoosed]);return(0,c.useEffect)((function(){Z.notificationHistories&&g(Z.notificationHistories.map((function(e){return function(e){var t,n,r,a,o,i,c,l,u,s,d={notificationType:e.type?e.type:"",employee:aa.createElement(m.Z,{style:{textAlignLast:"left"}},null!==(t=e.employee)&&void 0!==t&&t.name?aa.createElement(m.Z,null,"Tên nhân viên: ",null===(n=e.employee)||void 0===n?void 0:n.name):"",null!==(r=e.employee)&&void 0!==r&&r.code?aa.createElement(m.Z,null,"Mã nhân viên: ",null===(a=e.employee)||void 0===a?void 0:a.code):"",null!==(o=e.employee)&&void 0!==o&&o.manager?aa.createElement(m.Z,null,"Quản lí: ",null===(i=e.employee)||void 0===i||null===(c=i.manager)||void 0===c?void 0:c.code,"-",null===(l=e.employee)||void 0===l||null===(u=l.manager)||void 0===u?void 0:u.name):""),time:(0,U.Cp)(e.time)};return(0,N.Z)()&&(d=ia(ia({},d),{},{camera:e.camera?e.camera.name:"",areaRestriction:e.camera&&e.camera.areaRestriction?e.camera.areaRestriction.areaName:"",status:e.status,image:null!==e.image?aa.createElement(gr.Z,{component:"img",height:"80",image:null===(s=e.image)||void 0===s?void 0:s.path,alt:""}):aa.createElement("div",null),action:"Chưa xử lý"===e.status?aa.createElement(m.Z,{display:"flex",alignItems:"center",mt:{xs:2,sm:0},ml:{xs:-1.5,sm:0}},aa.createElement(G.Z,{variant:"text",color:"info",onClick:function(){var t=(0,ra.c)(e,v.currentUser.location.id);(0,na.aR)(x,t)}},aa.createElement(Q.Z,null)," Xem chi tiết")):aa.createElement("div",null)})),d}(e)})))}),[Z.notificationHistories,Z.userAttendanceChoosed]),{columns:(0,N.N_)()?[{Header:"Loại cảnh báo",accessor:"notificationType",align:"center"},{Header:"Nhân viên",accessor:"employee",align:"left"},{Header:"Thời gian",accessor:"time",align:"left"}]:[{Header:"Camera",accessor:"camera",align:"center"},{Header:"Khu vực hạn chế",accessor:"areaRestriction",align:"center"},{Header:"Loại cảnh báo",accessor:"notificationType",align:"center"},{Header:"Nhân viên",accessor:"employee",align:"center"},{Header:"Thời gian",accessor:"time",align:"center"},{Header:"Trạng thái",accessor:"status",align:"center"},{Header:"Hình ảnh",accessor:"image",align:"center"},{Header:"Thao tác",accessor:"action",align:"center"}],rows:h,fetchData:P,pageCount:n,itemCount:s}}function la(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,c.useState)([]),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(null),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,c.useState)(null),g=(0,a.Z)(h,2),b=g[0],v=g[1],y=(0,na.P6)(),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,w.xO)(),k=(0,a.Z)(S,2)[1],C=(0,c.useState)(Z.filter.status),O=(0,a.Z)(C,2),P=O[0],T=O[1],_=function(){r(null)},z=function(e,t){var n={areaRestriction:null,status:null};e.length>0?(p(e[0]),n.areaRestriction=e[0]):p(null),t?(T(t),n.status=t):T(null),(0,na.cg)(x,n),_()};return c.createElement(m.Z,{display:"flex",gap:"10px",style:{marginLeft:"10px",alignItems:"center"}},f&&c.createElement(At,{value:"".concat(f.areaCode,"-").concat(f.areaName),handleClose:function(){z([],P)}}),P&&c.createElement(At,{value:"".concat(P),handleClose:function(){z(Array.of(f),null)}}),c.createElement(L.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:function(e){r(n?null:e.currentTarget)}},"filter_list"),c.createElement(Re.Z,{anchorEl:n,anchorReference:null,placement:"bottom-start",open:Boolean(n),onClose:_,style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},c.createElement(m.Z,{display:"block",style:{marginTop:"16px"}},c.createElement(Yn,{type:"autocomplete",label:"Danh sách khu vực hạn chế",handleChoose:function(e){u(e)}}),c.createElement(fe.Z,{value:b,key:"fields_status",onChange:function(e,t){return v(t)},disablePortal:!0,id:"autocomplete_status",options:["Đã xử lý","Chưa xử lý"],renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:"Trạng thái"}))},ListboxProps:{style:{maxHeight:"15rem"}}})),c.createElement(m.Z,{mt:1,mb:1,display:"flex"},c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation(),(0,w.QP)(k),z(l,b),(0,w.Zk)(k)}},"Xác nhận"),c.createElement(m.Z,{sx:{width:"30px"}}),c.createElement(G.Z,{variant:"gradient",color:"error",fullWidth:!0,onClick:_},"Hủy bỏ"))))}function ua(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),n=t[0],r=t[1],o=(0,c.useState)([]),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(null),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,na.P6)(),g=(0,a.Z)(h,2)[1],b=(0,w.xO)(),v=(0,a.Z)(b,2)[1],y=function(){r(null)},E=function(e){e.length>0?((0,na.Gq)(g,e[0]),p(e[0])):((0,na.Gq)(g,null),p(null)),y()};return c.createElement(m.Z,{display:"flex",gap:"10px",style:{marginLeft:"10px",alignItems:"center"}},f&&c.createElement(At,{value:"".concat(f.code,"-").concat(f.name),handleClose:function(){E([])}}),c.createElement(L.Z,{fontSize:"small",style:{cursor:"pointer"},onClick:function(e){r(n?null:e.currentTarget)}},"filter_list"),c.createElement(Re.Z,{anchorEl:n,anchorReference:null,placement:"bottom-start",open:Boolean(n),onClose:y,style:{backgroundColor:"white",boxShadow:"0px 0px 12px 0px #000000",padding:"8px",borderRadius:"8px"}},c.createElement(m.Z,{display:"flex",style:{marginTop:"16px"}},c.createElement(En,{type:"autocomplete",label:"Danh sách nhân sự",handleChoose:function(e){u(e)}}),c.createElement(G.Z,{variant:"gradient",color:"info",fullWidth:!0,onClick:function(e){e.stopPropagation(),(0,w.QP)(v),E(l),(0,w.Zk)(v)},sx:{marginLeft:"8px",marginBottom:"16px"}},"Xác nhận"))))}var sa=function(){return c.createElement(at,{tableTitle:"Lịch sử cảnh báo",tableData:ca,FilterForm:(0,N.N_)()?ua:la,optionFeature:{enableCreate:!1,enableImport:!1,enableExport:!1,enableSearch:!1}})},ma=n(8193);var da=function(e){var t=e.label,n=e.datetime,r=e.handleChooseDateTime,o=c.useState(n),i=(0,a.Z)(o,2),l=i[0],u=i[1];return c.useEffect((function(){u(n)}),[n]),c.createElement(Xt._,{dateAdapter:qt.H},c.createElement(ma.x,{ampm:!1,inputFormat:"dd/MM/yyyy HH:mm:ss",mask:"__/__/____ __:__:__",label:t,renderInput:function(e){return c.createElement(Ie.Z,e)},value:l,onChange:function(e){u(e),r(e)}}))},fa=c.createElement(ht.Z,{fontSize:"small"}),pa=c.createElement(gt.Z,{fontSize:"small"});function ha(e){var t=e.title,n=e.fields,r=e.baseReportLink,o=e.actionReport,i=e.children,l=(0,c.useState)(""),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,c.useState)((0,U.xo)()),p=(0,a.Z)(f,2),h=p[0],g=p[1],v=(0,c.useState)((0,U.H5)()),y=(0,a.Z)(v,2),E=y[0],Z=y[1];(0,c.useEffect)((function(){var e=r;h&&""!==h&&(e+="&time_start=".concat(h)),E&&""!==E&&(e+="&time_end=".concat(E)),d(e)}),[E,h,r]);return c.createElement(ee.ZP,{item:!0,xs:12,md:6,lg:6},c.createElement(te.Z,null,c.createElement(m.Z,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:2},c.createElement(b.Z,{fontWeight:"bold",fontSize:24,mt:2,mb:4,style:{color:"black"}},t),c.createElement(m.Z,null,i,n.map((function(e,t){return c.createElement(ee.ZP,{container:!0,spacing:4,key:"".concat(e.title)},c.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},c.createElement(b.Z,{fontSize:16,fontWeight:"medium"},e.title)),c.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},"autocomplete-multiple"===e.type?c.createElement(m.Z,{mb:2},c.createElement(fe.Z,{value:e.checked,key:"fields_".concat(e.label),onChange:function(t,n){e.action(n)},multiple:!0,disablePortal:!0,disableCloseOnSelect:!0,id:"tags-filled",options:e.data,renderOption:function(e,t,n){var r=n.selected;return c.createElement("li",(0,ie.Z)({},e,{style:{marginBottom:"5px"}}),c.createElement(Oe.Z,{icon:fa,checkedIcon:pa,style:{marginRight:8},checked:r}),t)},renderInput:function(t){return c.createElement(Ie.Z,(0,ie.Z)({},t,{label:e.label,placeholder:"Search..."}))},ListboxProps:{style:{maxHeight:"15rem"}}})):"autocomplete"===e.type?c.createElement(m.Z,{mb:2},c.createElement(fe.Z,{value:e.choosedValue,key:"fields_".concat(e.label),onChange:function(t,n){e.action(n)},disablePortal:!0,id:"autocomplete",options:e.data,renderInput:function(t){return c.createElement(Ie.Z,(0,ie.Z)({},t,{label:e.label,placeholder:"Search..."}))},ListboxProps:{style:{maxHeight:"15rem"}}})):c.createElement(m.Z,{mb:2},c.createElement(pe.Z,{value:e.data,type:e.type,label:e.label,fullWidth:!0,onChange:function(t){return e.action(t.target.value)}}))))})),c.createElement(ee.ZP,{container:!0,mb:3,spacing:4},c.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},c.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Thời gian")),c.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},c.createElement(m.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2},c.createElement(da,{label:"Thời gian bắt đầu",datetime:(0,U.YM)(h),handleChooseDateTime:function(e){return function(e){null!==e&&"Invalid Date"!==e.toLocaleString()?g((0,U.g9)(e)):g("")}(e)}}),c.createElement(da,{label:"Thời gian kết thúc",datetime:(0,U.YM)(E),handleChooseDateTime:function(e){!function(e){null!==e&&"Invalid Date"!==e.toLocaleString()?Z((0,U.g9)(e)):Z("")}(e)}}))))),c.createElement(G.Z,{style:{background:"#63B967",color:"#FFFFFF",marginTop:"10px",marginBottom:"10px"},onClick:function(){o(""===s?r:s)}},c.createElement(L.Z,null,"file_download"),"Xuất báo cáo"))))}var ga=c.createElement(ht.Z,{fontSize:"small"}),ba=c.createElement(gt.Z,{fontSize:"small"});function va(e){var t=e.label,n=e.handleChoose,o=e.defaultData,l=e.type,u=e.location,s=(0,c.useState)(0),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,c.useState)(0),g=(0,a.Z)(h,2),b=g[0],v=g[1],y=(0,c.useState)(""),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,c.useState)([]),k=(0,a.Z)(S,2),w=k[0],O=k[1],P=(0,c.useState)([]),T=(0,a.Z)(P,2),_=T[0],z=T[1],j=(0,C.b3)(),A=(0,a.Z)(j,1)[0],R=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,o=t.isLoadMore,null===A.token){e.next=6;break}return e.next=4,(0,Nn.kW)({token:A.token,locationId:u?u.id:void 0,page:n,size:r,search:a});case 4:null!==(c=e.sent).data&&(v(c.data.pageCount),z(o?function(e){return[].concat((0,oe.Z)(e),(0,oe.Z)(c.data.data))}:c.data.data));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A.token]);(0,c.useEffect)((function(){A.token&&R({page:0,size:10,isLoadMore:!1}).catch(console.error)}),[A.token]);(0,c.useEffect)((function(){O(_.map((function(e){return e.name})))}),[_]),(0,c.useEffect)((function(){var e=setTimeout((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({page:0,size:10,search:Z,isLoadMore:!1});case 2:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearTimeout(e)}}),[Z]);var I=function(e){var t,n=e.currentTarget,r=n.scrollTop+n.clientHeight;n.scrollHeight-r<=1&&f<b-1&&(p(t=f+1),R({page:t,size:10,isLoadMore:!0}).catch(console.error))},D=function(e,t){e.stopPropagation();var r=[];_.forEach((function(e){t.includes(e.name)&&r.push(e)})),n(r)};return c.createElement(m.Z,{mb:2,key:t},"autocomplete"===l?c.createElement(fe.Z,{sx:{minWidth:"250px"},key:"field_camera",onChange:function(e,t){D(e,t?Array.of(t):[])},value:o&&o.length>0?o[0].name:void 0,disablePortal:!0,noOptionsText:"Không tìm thấy camera phù hợp",id:"camera-autocomplete",options:w,renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;x(t.value)},onClick:function(){x("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:I},ListboxComponent:yt}):c.createElement(fe.Z,{value:o?o.map((function(e){return e.name})):void 0,key:"fields_".concat(t),onChange:D,multiple:!0,disablePortal:!0,disableCloseOnSelect:!0,id:"tags-filled",options:w,renderOption:function(e,t,n){var r=n.selected;return c.createElement("li",(0,ie.Z)({},e,{style:{marginBottom:"5px"}}),c.createElement(Oe.Z,{icon:ga,checkedIcon:ba,style:{marginRight:8},checked:r}),t)},renderInput:function(e){return c.createElement(Ie.Z,(0,ie.Z)({},e,{label:t,placeholder:"Search...",onChange:function(e){var t=e.currentTarget;x(t.value)},onClick:function(){x("")}}))},ListboxProps:{style:{maxHeight:"15rem"},onScroll:I},ListboxComponent:yt}))}var ya=function(){var e=(0,r.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z().get(n,{headers:(0,He.p)(t).headers,responseType:"blob"}).then((function(e){var t=document.createElement("a");t.href=window.URL.createObjectURL(new Blob([e.data])),t.setAttribute("download","time_keeping.xlsx"),document.body.appendChild(t),t.click()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Ea(){var e,t=(0,c.useState)(""),n=(0,a.Z)(t,2),o=n[0],l=n[1],u=(0,c.useState)(""),s=(0,a.Z)(u,2),d=s[0],f=s[1],p=(0,c.useState)([]),h=(0,a.Z)(p,2),g=h[0],v=h[1],y=(0,C.b3)(),E=(0,a.Z)(y,1)[0];(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.token&&null!==E.currentUser.location&&(t="".concat(j.cT,"?location_id=").concat(E.currentUser.location.id),l(t),f(t));case 1:case"end":return e.stop()}}),e)}))),[E.token]),(0,c.useEffect)((function(){var e=o;if(g.length>0){var t=g.map((function(e){return e.id}));e+="&camera_ids=".concat(t)}f(e)}),[g,o]);var Z=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(E.token,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.createElement(ha,{title:"Báo cáo chấm công",fields:[],baseReportLink:d,actionReport:Z},c.createElement(ee.ZP,{container:!0,spacing:4,key:"employee"},c.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},c.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Camera")),c.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},c.createElement(m.Z,{mb:2},c.createElement(va,{type:"autocomplete-multiple",label:"Camera",location:null===(e=E.currentUser)||void 0===e?void 0:e.location,handleChoose:function(e){v(e)}})))))}function Za(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,c.useState)(""),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,c.useState)([]),p=(0,a.Z)(f,2),h=p[0],g=p[1],v=(0,c.useState)([]),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,C.b3)(),S=(0,a.Z)(x,1)[0];(0,c.useEffect)((function(){if(S.token&&null!==S.currentUser.location){var e="".concat(j.oe,"?location_id=").concat(S.currentUser.location.id);o(e),d(e)}}),[S.token]),(0,c.useEffect)((function(){var e=n;if(h.length>0){var t=h.map((function(e){return e.id}));e+="&employee_ids=".concat(t)}E.length>0&&(e+="&types=".concat(E)),d(e)}),[h,E,n]);var k=[{title:"Loại cảnh báo",data:["Theo ngày","Theo tuần","Theo tháng","Theo quý"],type:"autocomplete-multiple",label:"Loại cảnh báo",action:Z}],w=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(S.token,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.createElement(ha,{title:"Báo cáo cảnh báo",fields:k,baseReportLink:s,actionReport:w},c.createElement(ee.ZP,{container:!0,spacing:4,key:"employee"},c.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},c.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Nhân viên")),c.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},c.createElement(m.Z,{mb:2},c.createElement(En,{type:"autocomplete-multiple",label:"Nhân viên",handleChoose:function(e){g(e)}})))))}var xa=n(7294);var Sa=function(){return xa.createElement(ne.Z,null,xa.createElement(ee.ZP,{container:!0,spacing:3},xa.createElement(Ea,null),xa.createElement(Za,null)))},ka=n(7294);var Ca=function(e){var t=e.handleClose,n=(0,c.useState)(""),o=(0,a.Z)(n,2),l=o[0],u=o[1],s=(0,c.useState)(""),d=(0,a.Z)(s,2),f=d[0],p=d[1],h=(0,c.useState)([]),g=(0,a.Z)(h,2),b=g[0],v=g[1],y=(0,c.useState)(""),E=(0,a.Z)(y,2),Z=E[0],x=E[1],S=(0,c.useState)(""),k=(0,a.Z)(S,2),T=k[0],_=k[1],z=(0,w.xO)(),j=(0,a.Z)(z,2)[1],A=(0,tr.wK)(),R=(0,a.Z)(A,2)[1],I=(0,C.b3)(),D=(0,a.Z)(I,1)[0],N=[{data:l,type:"areaName",label:"Tên khu vực *",action:u},{data:f,type:"areaCode",label:"Mã khu vực *",action:p}],M=function(){var e=(0,r.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===l||""===l.trim()?((0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:H.A_}),0):null===f||""===f.trim()?((0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:H.ON}),0):0!==b.length||((0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:H.Ab}),0))){e.next=7;break}if(n=b.map((function(e){return e.id})),!D.token){e.next=7;break}return e.next=5,Bn({token:D.token,areaName:l,areaCode:f,personnelInCharge:n,timeStart:Z,timeEnd:T});case 5:null!==(r=e.sent).data?((0,w.OV)(j,{typeSnackbar:O.GF,messageSnackbar:H.EC}),t(),(0,tr.Y8)(R,r.data)):(0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:r.messageError});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ka.createElement(P.Z,{title:"Thêm khu vực hạn chế",fields:N,handleAddOrUpdate:M,actionLabel:O.ig,visibleCloseButton:!0,handleClose:t},ka.createElement(ka.Fragment,null,ka.createElement(En,{type:"autocomplete-multiple",label:"Nhân sự phụ trách *",handleChoose:function(e){v(e)},status:"active"}),ka.createElement(m.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2},ka.createElement(Yt,{label:"Thời gian bắt đầu",time:null,handleChooseTime:function(e){return function(e){null!==e&&"Invalid Date"!==e.toLocaleString()?x(e.toLocaleTimeString("vi-VN",{hour12:!1})):x(null)}(e)}}),ka.createElement(Yt,{label:"Thời gian kết thúc",time:null,handleChooseTime:function(e){!function(e){null!==e&&"Invalid Date"!==e.toLocaleString()?_(e.toLocaleTimeString("vi-VN",{hour12:!1})):_(null)}(e)}}))))};function wa(e,t,n,o){var l=(0,c.useState)([]),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,c.useState)(0),p=(0,a.Z)(f,2),h=p[0],g=p[1],b=(0,c.useState)(0),v=(0,a.Z)(b,2),y=v[0],E=v[1],Z=(0,C.b3)(),x=(0,a.Z)(Z,1)[0],S=(0,tr.wK)(),k=(0,a.Z)(S,2),w=k[0],O=k[1],P=(0,qe.vL)(),T=((0,a.Z)(P,2)[1],(0,c.useState)(null)),_=(0,a.Z)(T,2),z=_[0],j=_[1];(0,c.useEffect)((function(){z!==x.token&&j(x.token)}),[x.token]);var A=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,a=t.search,!z){e.next=6;break}return e.next=4,Wn({token:z,page:n,size:r,search:a});case 4:null!==(o=e.sent).data&&((0,tr.ri)(O,o.data.data),g(o.data.pageCount),E(o.data.itemCount));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[z]);return(0,c.useEffect)((function(){null!==w.areaRestrictions&&d(w.areaRestrictions.map((function(r){return function(r){var a;return{areaName:r.areaName,areaCode:r.areaCode,personnelAllowedInOut:r.personnelAllowedInOut?r.personnelAllowedInOut:"0",personnelInCharge:null===(a=r.personnelInCharge)||void 0===a?void 0:a.map((function(e){return e.name})).join(", "),theTimeAllowed:"".concat(r.timeStart," - ").concat(r.timeEnd),numberCamera:r.numberCamera?r.numberCamera:"0",numberOfAlertsForTheDay:r.numberOfAlertsForTheDay?r.numberOfAlertsForTheDay:"0",setting:c.createElement(m.Z,{display:"flex",alignItems:"center",mt:{xs:2,sm:0},ml:{xs:-1.5,sm:0}},c.createElement(G.Z,{variant:"text",color:"info",onClick:function(){return o(r)}},c.createElement(L.Z,{fontSize:"small"},"settings")," cài đặt")),action:c.createElement(ft,{handleView:function(){return e(r)},handleEdit:function(){return t(r)},handleDelete:function(){return n(r)}})}}(r)})))}),[w.areaRestrictions]),{columns:[{Header:"Tên khu vực",accessor:"areaName",align:"center"},{Header:"Mã khu vực",accessor:"areaCode",align:"center"},{Header:"Số nhân sự được phép vào ra",accessor:"personnelAllowedInOut",align:"center"},{Header:"Nhân sự phụ trách",accessor:"personnelInCharge",align:"center"},{Header:"Thời gian cho phép",accessor:"theTimeAllowed",align:"center"},{Header:"Số camera",accessor:"numberCamera",align:"center"},{Header:"Số cảnh báo trong ngày",accessor:"numberOfAlertsForTheDay",align:"center"},{Header:"Cài đặt cảnh báo",accessor:"setting",align:"center"},{Header:"Thao tác",accessor:"action",align:"center"}],rows:s,fetchData:A,pageCount:h,itemCount:y}}var Oa=n(7294);var Pa=function(e){var t=e.handleClose,n=e.areaRestriction,o=(0,c.useState)(n.areaName),l=(0,a.Z)(o,2),u=l[0],s=l[1],d=(0,c.useState)(n.areaCode),f=(0,a.Z)(d,2),p=f[0],h=f[1],g=(0,c.useState)((0,U.RV)(n.timeStart)),b=(0,a.Z)(g,2),v=b[0],y=b[1],E=(0,c.useState)((0,U.RV)(n.timeEnd)),Z=(0,a.Z)(E,2),x=Z[0],S=Z[1],k=(0,c.useState)(n.personnelInCharge),T=(0,a.Z)(k,2),_=T[0],z=T[1],j=(0,C.b3)(),A=(0,a.Z)(j,1)[0],R=(0,w.xO)(),I=(0,a.Z)(R,2)[1],D=(0,tr.wK)(),N=(0,a.Z)(D,2)[1],M=[{data:u,type:"areaName",label:"Tên khu vực *",action:s},{data:p,type:"areaCode",label:"Mã khu vực *",action:h}],L=function(){var e=(0,r.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===u||""===u.trim()?((0,w.OV)(I,{typeSnackbar:O.QS,messageSnackbar:H.A_}),0):null===p||""===p.trim()?((0,w.OV)(I,{typeSnackbar:O.QS,messageSnackbar:H.ON}),0):null!==_||((0,w.OV)(I,{typeSnackbar:O.QS,messageSnackbar:H.Ab}),0))){e.next=10;break}return n.areaCode=p,n.areaName=u,n.personnelInCharge=_||[],n.timeStart=v?v.toLocaleTimeString("vi-VN",{hour12:!1}):"",n.timeEnd=x?x.toLocaleTimeString("vi-VN",{hour12:!1}):"",e.next=8,Qn({token:A.token,areaRestriction:n});case 8:(r=e.sent).data?((0,w.OV)(I,{typeSnackbar:O.GF,messageSnackbar:O.NC}),t(),(0,tr.kW)(N,r.data)):(0,w.OV)(I,{typeSnackbar:O.QS,messageSnackbar:r.messageError});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Oa.createElement(P.Z,{title:"Cập nhật khu vực hạn chế",fields:M,handleAddOrUpdate:L,actionLabel:O.L,visibleCloseButton:!0,handleClose:t},Oa.createElement(Oa.Fragment,null,Oa.createElement(En,{type:"autocomplete-multiple",label:"Nhân sự phụ trách *",defaultData:_,handleChoose:function(e){z(e)},status:"active"}),Oa.createElement(m.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2},Oa.createElement(Yt,{label:"Thời gian bắt đầu",time:v,handleChooseTime:function(e){!function(e){null!==e&&"Invalid Date"!==e.toLocaleString()?y(e):y(null)}(e)}}),Oa.createElement(Yt,{label:"Thời gian kết thúc",time:x,handleChooseTime:function(e){!function(e){null!==e&&"Invalid Date"!==e.toLocaleString()?S(e):S(null)}(e)}}))))},Ta=n(7294);var _a=function(e){var t=e.handleClose,n=e.areaRestriction;return Ta.createElement(J.Z,{title:"Thông tin người dùng",handleClose:t,enableUpdate:!1},Ta.createElement(m.Z,{display:"flex",flexDirection:"column"},Ta.createElement(m.Z,{display:"flex",flexDirection:"column",lineHeight:"28px"},Ta.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Tên khu vực: ",n.areaName),Ta.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Max khu vực: ",n.areaCode),Ta.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Số nhân sự được phép ra vào:"," ",n.personnelAllowedInOut?n.personnelAllowedInOut:0),Ta.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Nhân sự phụ trách:"," ",n.personnelInCharge.map((function(e){return e.name}))),Ta.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Thời gian cho phép: ","".concat(n.timeStart," : ").concat(n.timeEnd)),Ta.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Số camera: ",n.numberCamera?n.numberCamera:0),Ta.createElement(b.Z,{variant:"text",color:"text",fontSize:"14px"},"Số cảnh báo trong ngày:"," ",n.numberOfAlertsForTheDay?n.numberOfAlertsForTheDay:0))))};function za(e){var t=e.label,n=e.checked,r=e.handleAfterChangeChecked,o=(0,c.useState)(n),i=(0,a.Z)(o,2),l=i[0],u=i[1];return(0,c.useEffect)((function(){u(n)}),[n]),c.createElement(ee.ZP,{item:!0},c.createElement(m.Z,{display:"flex",alignItems:"center"},c.createElement(Oe.Z,{checked:l,onChange:function(e){return function(e){u(e.target.checked),r(e.target.checked)}(e)}}),c.createElement(b.Z,{fontSize:14},t)))}var ja=n(7294);function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){(0,Mt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ia(e){var t=e.notificationMethod,n=e.handleChange,r=(0,c.useState)(t),o=(0,a.Z)(r,2),i=o[0],l=o[1];return(0,c.useEffect)((function(){l(t)}),[t]),ja.createElement(m.Z,null,ja.createElement(ee.ZP,{container:!0,mb:1},ja.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Hình thức cảnh báo")),ja.createElement(ee.ZP,{container:!0,mb:3,spacing:1},ja.createElement(za,{label:"Tin nhắn OTT",checked:i.useOTT,handleAfterChangeChecked:function(e){return function(e){n(Ra(Ra({},t),{},{useOTT:e}))}(e)}}),ja.createElement(za,{label:"Email",checked:i.useEmail,handleAfterChangeChecked:function(e){return function(e){n(Ra(Ra({},t),{},{useEmail:e}))}(e)}}),ja.createElement(za,{label:"Màn hình",checked:i.useScreen,handleAfterChangeChecked:function(e){return function(e){n(Ra(Ra({},t),{},{useScreen:e}))}(e)}}),ja.createElement(za,{label:"Chuông",checked:i.useRing,handleAfterChangeChecked:function(e){return function(e){n(Ra(Ra({},t),{},{useRing:e}))}(e)}})))}var Da=n(7294);var Na=function(e){var t=e.handleUpdateReport,n=e.position,r=e.item,o=(0,c.useState)(r.staff),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(r.timeReport),d=(0,a.Z)(s,2),f=d[0],p=d[1];return(0,c.useEffect)((function(){p(r.timeReport),u(r.staff)}),[r]),(0,c.useEffect)((function(){null!==f&&t(n,{staff:l,timeReport:f})}),[l,f]),Da.createElement(ee.ZP,{container:!0,mb:3,style:{fontSize:"13px"},key:n,spacing:2},Da.createElement(ee.ZP,{item:!0,xs:6,md:6,lg:6,className:"area-restriction-setting"},Da.createElement(m.Z,{mb:2},Da.createElement(En,{defaultData:l?Array.of(l):null,type:"autocomplete",label:"Nhân viên cảnh báo",handleChoose:function(e){e.length>0?u(e[0]):u(null)},status:"active",minWidth:0}))),Da.createElement(ee.ZP,{item:!0,xs:4,md:4,lg:4},"Sau"," ",Da.createElement(pe.Z,{style:{width:"50px"},value:f,onChange:function(e){return function(e){p(e.target.value)}(e)}})," ","phút"),Da.createElement(ee.ZP,{item:!0,xs:2,md:2,lg:2},Da.createElement(m.Z,{onClick:function(){t(n,null)},height:"100%",display:"flex",alignItems:"center",justifyConten:"center",fontSize:"20px"},Da.createElement(L.Z,{color:"error"},"remove_circle"))))},Ma=n(7294);function La(e){var t=e.areaRestriction,n=e.rowsData,r=e.handleUpdateReport,o=(0,c.useState)([]),i=(0,a.Z)(o,2),l=i[0],u=i[1],s=(0,c.useState)(n),d=(0,a.Z)(s,2),f=d[0],p=d[1];return(0,c.useEffect)((function(){t&&u(t.personnelInCharge)}),[t]),(0,c.useEffect)((function(){p(n)}),[n]),Ma.createElement(m.Z,null,Ma.createElement(ee.ZP,{container:!0,mb:1},Ma.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Cảnh báo cho")),l.map((function(e){return Ma.createElement(ee.ZP,{container:!0,mb:3,style:{fontSize:"13px"}},Ma.createElement(ee.ZP,{item:!0,xs:6,md:6,lg:6},e.name),Ma.createElement(ee.ZP,{item:!0,xs:6,md:6,lg:6},"Ngay lập tức"))})),f.map((function(e,t){return Ma.createElement(Na,{handleUpdateReport:r,position:t,item:e})})))}var Ha=n(5396),Ua=n(7294);function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){(0,Mt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wa={staff:null,timeReport:null};var Ba=function(e){var t=e.handleClose,n=e.areaRestriction,o=(0,c.useState)(null),l=(0,a.Z)(o,2),u=l[0],s=l[1],d=(0,c.useState)([]),f=(0,a.Z)(d,2),p=f[0],h=f[1],g=(0,c.useState)(!1),b=(0,a.Z)(g,2),v=b[0],y=b[1],E=function(){y(!1)},Z=(0,C.b3)(),x=(0,a.Z)(Z,1)[0],S=(0,Ha.bE)(),P=(0,a.Z)(S,2),T=P[0],_=P[1],z=(0,w.xO)(),j=(0,a.Z)(z,2)[1];(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn({token:x.token,id:n.id});case 2:null!==(t=e.sent).data&&((0,tr.cJ)(_,t.data),s(t.data));case 4:case"end":return e.stop()}}),e)}))),[x.token]),(0,c.useEffect)((function(){u&&h(null!=u&&u.managers?u.managers.map((function(e){return{staff:e.manager,timeReport:e.timeSkip}})):[])}),[u]);var A,R=function(){var e=[];return p.forEach((function(t){if(null!==t.timeReport){var n=t.timeReport;e.push({manager:t.staff,timeSkip:n})}})),e},I=function(){var e=(0,r.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Va(Va({},u),{},{managers:R()}),e.next=3,Gn({token:x.token,areaRestrictionNotification:n});case 3:null!==(r=e.sent)&&((0,tr.RF)(_,r.data),null!==r?((0,tr.RF)(_,r.data),t(),(0,w.OV)(j,{typeSnackbar:O.GF,messageSnackbar:"Cập nhật thành công"})):(0,w.OV)(j,{typeSnackbar:O.QS,messageSnackbar:"Error"}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){s(T.areaRestrictionNotification)}),[T.areaRestrictionNotification]),Ua.createElement(J.Z,{title:"Cài đặt cảnh báo",handleClose:t,enableUpdate:!0,handleUpdate:I},Ua.createElement(Ua.Fragment,null,Ua.createElement(m.Z,{style:{overflowY:"auto",maxHeight:"500px"}},Ua.createElement(m.Z,{display:"flex",flexDirection:"column"},Ua.createElement(m.Z,{display:"flex",flexDirection:"column",lineHeight:"28px"},null!==u&&Ua.createElement(Ia,{notificationMethod:u.notificationMethod,handleChange:function(e){return function(e){u&&(u.notificationMethod=e,s((function(t){return t?Va(Va({},t),{},{notificationMethod:e}):null})))}(e)}}),null!==u&&Ua.createElement(La,{areaRestriction:u.areaRestriction,rowsData:p,handleUpdateReport:function(e,t){if(t){var n=(0,oe.Z)(p);n[e]=t,h(n)}else{var r=(0,oe.Z)(p);r.splice(e,1),h(r)}}}))),Ua.createElement(k.Z,{onClick:function(){h((function(e){return[].concat((0,oe.Z)(e),[Wa])}))},style:{padding:"0",fontWeight:"400",fontSize:"12px",textTransform:"initial",margin:"24px"}},"Thêm cảnh báo")),(null==u?void 0:u.notificationMethod.useOTT)&&Ua.createElement(Pe.Z,{title:"Chia sẻ mã QR tới mail của các nhân sự, nhân sự có thể quét mã để sử dụng OTT"},Ua.createElement(G.Z,{variant:"gradient",color:"dark",style:{marginBottom:"-24px"},fullWidth:!0,onClick:function(e){y(!0)}},"Chia sẻ mã QR OTT")),Ua.createElement(Ae.Z,{open:v,onClose:E,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},Ua.createElement(Ua.Fragment,null,(A=E,Ua.createElement(Zn,{handleClose:A}))))))};var Qa=function(){var e=(0,tr.wK)(),t=(0,a.Z)(e,2)[1];return c.createElement(at,{tableTitle:"Danh sách KVHC",tableData:wa,AddForm:function(e){var t=e.handleClose;return Ca({handleClose:t})},EditForm:function(e){var t=e.handleClose,n=e.item;return Pa({handleClose:t,areaRestriction:n})},ViewForm:function(e){var t=e.handleClose,n=e.item;return _a({handleClose:t,areaRestriction:n})},SettingForm:function(e){var t=e.handleClose,n=e.item;return Ba({handleClose:t,areaRestriction:n})},deleteAction:{actionDelete:function(e){return(0,tr.t9)(t,e)},deleteApi:Kn},optionFeature:{enableCreate:!0,enableExport:!1,enableImport:!1}})},Ga=n(9928),Ka=n(9062),qa=n(5840),Xa=n(8533),Ja=n(2003);function Ya(){var e=(0,d.Ad)(),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,C.b3)(),u=(0,a.Z)(l,1)[0],s=n.miniSidenav,f=(0,c.useState)([]),p=(0,a.Z)(f,2),h=p[0],g=p[1],v=(0,c.useState)(0),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,c.useState)(0),S=(0,a.Z)(x,2),k=S[0],w=S[1];(0,c.useEffect)((function(){(0,d.en)(o,!0)}),[]);var O=(0,c.useState)(null),P=(0,a.Z)(O,2),T=P[0],_=P[1];(0,c.useEffect)((function(){T!==u.token&&_(u.token)}),[u.token]);var z=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.page,r=t.size,!T){e.next=6;break}return e.next=4,Gr({token:T,page:n,size:r,timeStart:(0,U.g9)((0,U.RV)("00:00:00")),timeEnd:(0,U.g9)((0,U.RV)("23:59:59"))});case 4:null!==(a=e.sent).data&&(w(a.data.pageCount),g((function(e){return[].concat((0,oe.Z)(e),(0,oe.Z)(a.data.data.map((function(e){return{locationId:u.currentUser.location.id,employeeName:e.employee.name,image:e.image?e.image.path:"",time:(0,U.Cp)(e.time)}}))))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[T]);return(0,c.useEffect)((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=3;break}return e.next=3,z({page:0,size:20});case 3:case"end":return e.stop()}}),e)}))),[T]),(0,c.useEffect)((function(){var e=null;if(T){e=j.CA?new Ja.Z(j.CA,[],{WebSocket:qa.w3cwebsocket,connectionTimeout:1e3,maxRetries:100}):null;var t=u.currentUser.location;e&&(e.onopen=function(){console.log("WebSocket Time Keeping Connected")},e.onmessage=function(e){if("string"==typeof e.data){var n=JSON.parse(e.data);if(n.locationId===t.id){var r=[n].concat((0,oe.Z)(h));g(r.slice(0,Math.max(r.length-1,20)))}}})}return function(){e&&(console.log("WebSocket Time Keeping Disconnect"),e.close())}}),[T]),c.createElement(m.Z,{sx:function(e){var t=e.breakpoints,n=e.transitions,r=e.functions.pxToRem;return(0,Mt.Z)({p:3,position:"relative"},t.up("xl"),{marginLeft:r(s?120:274),transition:n.create(["margin-left","margin-right"],{easing:n.easing.easeInOut,duration:n.duration.standard})})}},c.createElement(m.Z,{mt:3},c.createElement(m.Z,{variant:"gradient",bgColor:"info",borderRadius:"lg",coloredShadow:"info",mx:2,mt:-3,p:2,mb:1,textAlign:"center"},c.createElement(b.Z,{variant:"h4",fontWeight:"medium",color:"white"},"Danh sách chấm công")),c.createElement(Xa.Z,{dataLength:h.length,next:(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(t=E+1),e.next=4,z({page:t,size:20});case 4:case"end":return e.stop()}}),e)}))),hasMore:E<k-1,loader:c.createElement(m.Z,{style:{marginLeft:"40vw"}},c.createElement(Ka.Z,{color:"info"}))},c.createElement(ee.ZP,{container:!0,spacing:3,mt:3},h.map((function(e){return c.createElement(ee.ZP,{item:!0,xs:12,md:4,lg:3},c.createElement(m.Z,{mb:3},c.createElement(Ga.Z,{image:e.image,title:e.employeeName,description:"Thời gian: ".concat(e.time),imageWidth:90})))}))))))}var $a=n(6741),eo=n(7831),to=n(7294);function no(e){var t=e.icon,n=e.name,r=e.route,a=e.light;return to.createElement(m.Z,{component:In.rU,to:r,mx:1,p:1,display:"flex",alignItems:"center",sx:{cursor:"pointer",userSelect:"none"}},to.createElement(L.Z,{sx:{color:function(e){var t=e.palette,n=t.white,r=t.secondary;return a?n.main:r.main},verticalAlign:"middle"}},t),to.createElement(b.Z,{variant:"button",fontWeight:"regular",color:a?"white":"dark",textTransform:"capitalize",sx:{width:"100%",lineHeight:0}}," ",n))}no.propTypes={icon:s().string.isRequired,name:s().string.isRequired,route:s().string.isRequired,light:s().bool.isRequired};var ro=no,ao=n(7294);function oo(e){var t=e.open,n=e.close,r=(t&&t.getBoundingClientRect()).width;return ao.createElement(mt.Z,{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:t,open:Boolean(t),onClose:n,MenuListProps:{style:{width:"calc(".concat(r,"px - 4rem)")}}},ao.createElement(m.Z,{px:.5},ao.createElement(ro,{icon:"donut_large",name:"dashboard",route:"/dashboard",light:!0}),ao.createElement(ro,{icon:"person",name:"profile",route:"/profile",light:!0}),ao.createElement(ro,{icon:"account_circle",name:"sign up",route:"/authentication/sign-up",light:!0}),ao.createElement(ro,{icon:"key",name:"sign in",route:"/authentication/sign-in",light:!0})))}oo.propTypes={open:s().oneOfType([s().bool,s().object]).isRequired,close:s().oneOfType([s().func,s().bool,s().object]).isRequired};var io=oo,co=n(7294);function lo(e){var t=e.transparent,n=e.light,r=e.action,o=(0,d.Ad)(),i=(0,a.Z)(o,1)[0].darkMode,l=(0,c.useState)(!1),u=(0,a.Z)(l,2),s=u[0],f=u[1],p=(0,c.useState)(!1),g=(0,a.Z)(p,2),v=g[0],y=g[1];return(0,c.useEffect)((function(){function e(){window.innerWidth<$a.Z.values.lg?(y(!0),f(!1)):(y(!1),f(!1))}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),co.createElement(h.Z,null,co.createElement(m.Z,{py:1,px:{xs:4,sm:t?2:3,lg:t?0:2},my:3,mx:3,width:"calc(100% - 48px)",borderRadius:"lg",shadow:t?"none":"md",color:n?"white":"dark",display:"flex",justifyContent:"space-between",alignItems:"center",left:0,zIndex:3,sx:function(e){var n=e.palette,r=n.transparent,a=n.white,o=n.background,c=e.functions.rgba;return{backgroundColor:t?r.main:c(i?o.sidenav:a.main,.8),backdropFilter:t?"none":"saturate(200%) blur(30px)"}}},co.createElement(m.Z,{component:In.rU,to:"/",py:t?1.5:.75,lineHeight:1,pl:{xs:0,lg:1}},co.createElement(b.Z,{variant:"button",fontWeight:"bold",color:n?"white":"dark"},"Comit Corporation")),co.createElement(m.Z,{color:"inherit",display:{xs:"none",lg:"flex"},m:0,p:0},co.createElement(eo.Z,null)),r&&("internal"===r.type?co.createElement(m.Z,{display:{xs:"none",lg:"inline-block"}},co.createElement(G.Z,{component:In.rU,to:r.route,variant:"gradient",color:r.color?r.color:"info",size:"small"},r.label)):co.createElement(m.Z,{display:{xs:"none",lg:"inline-block"}},co.createElement(G.Z,{component:"a",href:r.route,target:"_blank",rel:"noreferrer",variant:"gradient",color:r.color?r.color:"info",size:"small",sx:{mt:-.3}},r.label))),co.createElement(m.Z,{display:{xs:"inline-block",lg:"none"},lineHeight:0,py:1.5,pl:1.5,color:"inherit",sx:{cursor:"pointer"},onClick:function(e){var t=e.currentTarget;return f(t.parentNode)}},co.createElement(L.Z,null,s?"close":"menu"))),v&&co.createElement(io,{open:s,close:function(){return f(!1)}}))}lo.defaultProps={transparent:!1,light:!1,action:!1},lo.propTypes={transparent:s().bool,light:s().bool,action:s().oneOfType([s().bool,s().shape({type:s().oneOf(["external","internal"]).isRequired,route:s().string.isRequired,color:s().oneOf(["primary","secondary","info","success","warning","error","dark","light"]),label:s().string.isRequired})])};var uo=lo,so=n.p+"images/module_bg.44d10912.jpg";function mo(e){var t=e.title,n=e.handleClick;return c.createElement(ee.ZP,{item:!0,xs:12,sm:6,md:6,lg:4,xl:4,style:{padding:"16px"}},c.createElement(m.Z,{position:"relative",height:"100%",onClick:n,style:{cursor:"pointer"}},c.createElement(bn.Z,{image:so,width:100}),c.createElement(m.Z,{style:{position:"absolute",top:"0",bottom:"10px",left:"0",right:"0",backgroundColor:"rgba(0,0,0,0.5)",zIndex:500}}),c.createElement(m.Z,{style:{position:"absolute",fontWeight:"700",top:"40%",bottom:"0",left:"0",right:"0",color:"#ffffff",fontSize:"26px",height:"fit-content",textAlign:"center",zIndex:1e3,textShadow:"1px 0px 1px #CCCCCC, 0px 1px 1px #EEEEEE, 0px 0px 100px rgba(0,0,0,0.5)"}},t)))}var fo=function(){var e=(0,C.b3)(),t=(0,a.Z)(e,1)[0],n=(0,l.s0)(),r=function(e){localStorage.setItem("module",e)};return(0,c.useEffect)((function(){localStorage.getItem("module")?(n(T.zO),n(0)):null!=t.currentUser&&((0,N.j5)(t.currentUser)||(0,N.OB)(t.currentUser)?(n(T.zO),n(0)):(0,N.sw)(t.currentUser,O.E1)&&!(0,N.R$)(t.currentUser)?(localStorage.setItem("module",O.E1),n(T.zO),n(0)):(0,N.sw)(t.currentUser,O.Vt)&&!(0,N.R$)(t.currentUser)?(localStorage.setItem("module",O.Vt),n(T.zO),n(0)):(0,N.sw)(t.currentUser,O.N2)&&!(0,N.R$)(t.currentUser)&&(localStorage.setItem("module",O.N2),n(T.zO),n(0)))}),[t.token]),c.createElement(x,{image:S},c.createElement(m.Z,null,c.createElement(uo,null),c.createElement(h.Z,null,c.createElement(ee.ZP,{container:!0,spacing:3,justifyContent:"left",alignItems:"center",py:1,px:{xs:4,sm:2,lg:0},my:3,mx:3,width:"calc(100% - 48px)",height:"100%"},(0,N.sw)(t.currentUser,O.E1)&&c.createElement(mo,{title:"Chấm công",handleClick:function(){r(O.E1),n(T.zO)}}),(0,N.sw)(t.currentUser,O.Vt)&&c.createElement(mo,{title:"Kiểm soát khu vực hạn chế",handleClick:function(){r(O.Vt),n(T.zO)}}),(0,N.sw)(t.currentUser,O.N2)&&c.createElement(mo,{title:"Kiểm soát hành vi",handleClick:function(){r(O.N2),n(T.zO)}})))))},po=function(){var e=(0,r.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z().get(n,{headers:(0,He.p)(t).headers,responseType:"blob"}).then((function(e){var t=document.createElement("a");t.href=window.URL.createObjectURL(new Blob([e.data])),t.setAttribute("download","area_restriction.xlsx"),document.body.appendChild(t),t.click()})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ho=n(7294);function go(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,c.useState)(""),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,c.useState)([]),p=(0,a.Z)(f,2),h=p[0],g=p[1],v=(0,c.useState)([]),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,C.b3)(),S=(0,a.Z)(x,1)[0];(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.token&&null!==S.currentUser.location&&(t="".concat(j.AS,"?location_id=").concat(S.currentUser.location.id),o(t),d(t));case 1:case"end":return e.stop()}}),e)}))),[S.token]),(0,c.useEffect)((function(){var e=n;if(h.length>0){var t=h.map((function(e){return e.id}));e+="&area_restriction_ids=".concat(t)}if(E.length>0){var r=E.map((function(e){return e.id}));e+="&camera_ids=".concat(r)}d(e)}),[h,E,n]);var k=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(S.token,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ho.createElement(ha,{title:"Báo cáo vào ra KVHC",fields:[],baseReportLink:s,actionReport:k},ho.createElement(ho.Fragment,null,ho.createElement(ee.ZP,{container:!0,spacing:3,key:"area_restriction"},ho.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},ho.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Khu vực hạn chế")),ho.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},ho.createElement(m.Z,{mb:2},ho.createElement(Yn,{type:"autocomplete-multiple",label:"Khu vực hạn chế",handleChoose:function(e){g(e)}})))),ho.createElement(ee.ZP,{container:!0,spacing:4,key:"camera"},ho.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},ho.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Camera")),ho.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},ho.createElement(m.Z,{mb:2},ho.createElement(va,{type:"autocomplete-multiple",label:"Camera",handleChoose:function(e){Z(e)}}))))))}var bo=n(7294);function vo(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),n=t[0],o=t[1],l=(0,c.useState)(""),u=(0,a.Z)(l,2),s=u[0],d=u[1],f=(0,c.useState)([]),p=(0,a.Z)(f,2),h=p[0],g=p[1],v=(0,c.useState)([]),y=(0,a.Z)(v,2),E=y[0],Z=y[1],x=(0,C.b3)(),S=(0,a.Z)(x,1)[0];(0,c.useEffect)((0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.token&&null!==S.currentUser.location&&(t="".concat(j.$L,"?location_id=").concat(S.currentUser.location.id),o(t),d(t));case 1:case"end":return e.stop()}}),e)}))),[S.token]),(0,c.useEffect)((function(){var e=n;if(h.length>0){var t=h.map((function(e){return e.id}));e+="&area_restriction_ids=".concat(t)}E.length>0&&(e+="&types=".concat(E)),d(e)}),[h,E,n]);var k=[{title:"Loại cảnh báo",data:["Đột nhập"],type:"autocomplete-multiple",label:"Loại cảnh báo",action:Z}],w=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(S.token,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return bo.createElement(ha,{title:"Báo cáo cảnh báo",fields:k,baseReportLink:s,actionReport:w},bo.createElement(ee.ZP,{container:!0,spacing:3,key:"area_restriction"},bo.createElement(ee.ZP,{item:!0,xs:3,md:3,lg:3},bo.createElement(b.Z,{fontSize:16,fontWeight:"medium"},"Khu vực hạn chế")),bo.createElement(ee.ZP,{item:!0,xs:9,md:9,lg:9},bo.createElement(m.Z,{mb:2},bo.createElement(Yn,{type:"autocomplete-multiple",label:"Khu vực hạn chế",handleChoose:function(e){g(e)}})))))}var yo=n(7294);var Eo=function(){return yo.createElement(ne.Z,null,yo.createElement(ee.ZP,{container:!0,spacing:3},yo.createElement(go,null),yo.createElement(vo,null)))},Zo=c.lazy((function(){return Promise.all([n.e(886),n.e(876)]).then(n.bind(n,2886))})),xo=[{type:"collapse",icon:c.createElement(L.Z,{fontSize:"small"},"dashboard"),name:"Dashboard",key:"dashboard",route:T.zO,component:c.createElement(Zo,null)},{type:"title",title:"Tính năng",name:"Tính năng",icon:"",route:"",key:"title"},{type:"collapse",name:"Danh sách tổ chức",key:"organization",icon:c.createElement(L.Z,{fontSize:"small"},"group"),route:T.aT,component:c.createElement(ot,null),roles:[O.pK]},{type:"collapse",name:"Danh sách chi nhánh",key:"location",icon:c.createElement(L.Z,{fontSize:"small"},"location_city"),route:T.Y,component:c.createElement(Qr,null),roles:[O.cb,O.FN,O.Xz]},{type:"collapse",name:"Danh sách người dùng",key:"people",icon:c.createElement(L.Z,{fontSize:"small"},"person"),route:T.dV,component:c.createElement(Dt,null),roles:[O.pK,O.Dq,O.cb,O.FN,O.Xz]},{type:"collapse",name:"Danh sách tính năng",key:"features",icon:c.createElement(L.Z,{fontSize:"small"},"list"),route:T.oO,component:c.createElement(wn,null),roles:[O.pK,O.Dq]},{type:"collapse",name:"Danh sách nhân sự",key:"employee",route:T.R8,component:c.createElement(Dr,null),icon:c.createElement(L.Z,{fontSize:"small"},"person"),roles:[O.JN,O.uc,O.m6]},{type:"collapse",name:"Danh sách KVHC",key:"area-restriction",route:T.s3,component:c.createElement(Qa,null),icon:c.createElement(L.Z,{fontSize:"small"},"location_on"),roles:[O.uc,O.m6]},{type:"collapse",name:"Danh sách Camera",key:"camera",icon:c.createElement(L.Z,{fontSize:"small"},"camera"),route:T.q9,component:c.createElement(hr,null),roles:[O.cb,O.uc,O.m6]},{type:"collapse",name:"Danh sách log",key:"log",icon:c.createElement(L.Z,{fontSize:"small"},"apps"),route:T.$p,component:c.createElement(Rn,null),roles:[O.pK,O.Dq,O.cb,O.FN,O.Xz]},{type:"collapse",name:"Lịch sử vào ra",key:"inOutHistory",icon:c.createElement(L.Z,{fontSize:"small"},"work_history"),route:T.SX,component:c.createElement(ea,null),roles:[O.JN,O.uc,O.m6]},{type:"collapse",name:"Lịch sử cảnh báo",key:"notificationHistory",icon:c.createElement(L.Z,{fontSize:"small"},"report_problem"),route:T.rz,component:c.createElement(sa,null),roles:[O.JN,O.uc,O.m6]},{type:"collapse",name:"Báo cáo",key:"report",route:T.MY,component:(0,N.Z)()||(0,N.H6)()?c.createElement(Eo,null):c.createElement(Sa,null),icon:c.createElement(L.Z,{fontSize:"small"},"report"),roles:[O.JN,O.uc,O.m6]},{type:"collapse",name:"Cài đặt hệ thống",key:"system-setting",route:T.X4,component:c.createElement(xn,null),icon:c.createElement(L.Z,{fontSize:"small"},"settings"),roles:[O.JN]},{name:"In Out History Board",key:"in-out-history-board",route:T.VD,component:c.createElement(Ya,null),icon:c.createElement(L.Z,{fontSize:"small"},"settings"),roles:[O.JN]},{name:"Main",key:"main",route:T.Oc,component:c.createElement(fo,null),icon:""},{name:"Sign In",key:"sign-in",route:T.vf,component:c.createElement(M,null),icon:""},{name:"Reset Password",key:"reset-password",route:T.U,component:c.createElement(ct,null),icon:""},{name:"Change Password",key:"change-password",route:T.T5,component:c.createElement(Dn,null),icon:""}],So=function(e){var t=xo.filter((function(t){return t.route===e}));return t.length>0?t[0].name:""}},5331:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(4281),a=function(e,t){var n,a,o,i;return{locationId:t,employeeName:e.employee?e.employee.name:"Unknown",image:e.image?e.image.path:"",time:(0,r.Cp)(e.time),areaRestrictionName:e.camera?null===(n=e.camera.areaRestriction)||void 0===n?void 0:n.areaName:"",areaRestrictionCode:e.camera?null===(a=e.camera.areaRestriction)||void 0===a?void 0:a.areaCode:"",cameraName:e.camera?e.camera.name:"",cameraTaken:e.camera?e.camera.taken:"",cameraId:e.camera?e.camera.id:0,employeeImage:e.employee&&e.employee.image?e.employee.image.path:"",type:e.type,notificationHistoryId:e.id,isControlled:"Đã xử lý"===e.status,usingScreen:null===(o=e.notificationMethod)||void 0===o?void 0:o.useScreen,usingRing:null===(i=e.notificationMethod)||void 0===i?void 0:i.useRing}}},6982:function(e,t,n){"use strict";n.d(t,{Fk:function(){return u},H6:function(){return i},N_:function(){return a},OB:function(){return l},QM:function(){return s},R$:function(){return b},Z:function(){return o},cE:function(){return f},gL:function(){return p},hc:function(){return d},j5:function(){return c},nu:function(){return h},po:function(){return m},sw:function(){return g}});var r=n(7608),a=function(){var e=localStorage.getItem("module");return!!e&&e===r.E1},o=function(){var e=localStorage.getItem("module");return!!e&&e===r.Vt},i=function(){var e=localStorage.getItem("module");return!!e&&e===r.N2},c=function(e){return null===(null==e?void 0:e.parentUser)},l=function(e){return!!e.parentUser&&e.parentUser.roles.filter((function(e){return e.name===r.pK})).length>0},u=function(e){return!!e.parentUser&&(e.parentUser.roles.filter((function(e){return e.name===r.cb})).length>0&&e.roles.filter((function(e){return e.name===r.cb})).length>0&&a())},s=function(e){return!!e.parentUser&&(e.roles.filter((function(e){return e.name===r.JN})).length>0&&a())},m=function(e){return!!e.parentUser&&(e.parentUser.roles.filter((function(e){return e.name===r.FN})).length>0&&e.roles.filter((function(e){return e.name===r.FN})).length>0&&o())},d=function(e){return!!e.parentUser&&(e.roles.filter((function(e){return e.name===r.uc})).length>0&&o())},f=function(e){return!!e.parentUser&&(e.parentUser.roles.filter((function(e){return e.name===r.Xz})).length>0&&e.roles.filter((function(e){return e.name===r.Xz})).length>0&&i())},p=function(e){return!!e.parentUser&&(e.roles.filter((function(e){return e.name===r.m6})).length>0&&i())},h=function(e,t){return t.includes(r.pK)&&c(e)||t.includes(r.Dq)&&l(e)||t.includes(r.cb)&&u(e)||t.includes(r.JN)&&s(e)||t.includes(r.FN)&&m(e)||t.includes(r.uc)&&d(e)||t.includes(r.Xz)&&f(e)||t.includes(r.m6)&&p(e)},g=function(e,t){return!!e.parentUser&&(e.parentUser.roles.filter((function(e){return e.name===r.cb})).length>0&&e.roles.filter((function(e){return e.name===r.cb})).length>0&&t===r.E1||e.roles.filter((function(e){return e.name===r.JN})).length>0&&t===r.E1||e.parentUser.roles.filter((function(e){return e.name===r.FN})).length>0&&e.roles.filter((function(e){return e.name===r.FN})).length>0&&t===r.Vt||e.roles.filter((function(e){return e.name===r.uc})).length>0&&t===r.Vt||e.parentUser.roles.filter((function(e){return e.name===r.Xz})).length>0&&e.roles.filter((function(e){return e.name===r.Xz})).length>0&&t===r.N2||e.roles.filter((function(e){return e.name===r.m6})).length>0&&t===r.N2)},b=function(e){var t=0;return g(e,r.E1)&&t++,g(e,r.Vt)&&t++,g(e,r.N2)&&t++,t>1}},4281:function(e,t,n){"use strict";n.d(t,{Cp:function(){return p},Fq:function(){return v},H5:function(){return g},RV:function(){return s},Ut:function(){return y},YM:function(){return b},eW:function(){return l},fk:function(){return m},g9:function(){return d},kj:function(){return f},vV:function(){return u},xo:function(){return h}});var r=n(885),a=n(7608),o=n(6982),i=n(6334),c=n(7294),l=function(e){return!(null===e||!e.match(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\S+$).{8,}$/))},u=function(e){return!(null===e||!e.match(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/))},s=function(e){var t=new Date,n=e.split(":"),a=(0,r.Z)(n,3),o=a[0],i=a[1],c=a[2];return new Date(t.getFullYear(),t.getMonth(),t.getDate(),parseInt(o,10),parseInt(i,10),parseInt(c,10))},m=function(e){var t="0".concat(e.getHours()).slice(-2),n="0".concat(e.getMinutes()).slice(-2),r="0".concat(e.getSeconds()).slice(-2);return"".concat(t,":").concat(n,":").concat(r)},d=function(e){var t="0".concat(e.getDate()).slice(-2),n="0".concat(e.getMonth()+1).slice(-2),r=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(r," ").concat(m(e),".").concat(e.getMilliseconds())},f=function(e){return!(null===e||!e.match(/^(03|05|07|08|09)+([0-9]{8})$/))},p=function(e){var t=new Date(e),n="0".concat(t.getDate()).slice(-2),r="0".concat(t.getMonth()+1).slice(-2),a=t.getFullYear();return"".concat(n,"/").concat(r,"/").concat(a," ").concat(m(t))},h=function(){var e=new Date,t="0".concat(e.getDate()).slice(-2),n="0".concat(e.getMonth()+1).slice(-2),r=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(r," 00:00:00")},g=function(){var e=new Date,t="0".concat(e.getDate()).slice(-2),n="0".concat(e.getMonth()+1).slice(-2),r=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(r," 23:59:59")},b=function(e){var t=e.split(" "),n=(0,r.Z)(t,2),a=n[0],o=n[1],i=a.split("/"),c=(0,r.Z)(i,3),l=c[0],u=c[1],s=c[2],m=o.split(":"),d=(0,r.Z)(m,3),f=d[0],p=d[1],h=d[2];return new Date(parseInt(s,10),parseInt(u,10)-1,parseInt(l,10),parseInt(f,10),parseInt(p,10),parseInt(h,10))},v=function(e){switch(e){case"active":return c.createElement(i.Z,{variant:"body2",color:"success"},a._3);case"deleted":return c.createElement(i.Z,{variant:"body2",color:"error"},a.NY);case"pending":return c.createElement(i.Z,{variant:"body2"},a.io);default:return null}},y=function(e){return(0,o.Fk)(e)?a.E1:(0,o.po)(e)?a.Vt:(0,o.cE)(e)?a.N2:""}},3238:function(e,t,n){"use strict";t.Z=n.p+"images/avatar_default.2728f773.png"},4960:function(){},6759:function(){},6137:function(){}}]);